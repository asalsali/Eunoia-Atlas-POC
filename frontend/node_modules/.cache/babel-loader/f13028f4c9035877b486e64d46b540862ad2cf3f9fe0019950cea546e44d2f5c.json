{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alex Salsali\\\\Desktop\\\\Eunoia-Atlas-POC\\\\frontend\\\\src\\\\components\\\\WhisperFlow.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { xamanCreatePayment } from '../services/api';\nimport { checkUserPaymentStatus } from '../services/userWalletService';\nimport { isCrossmarkAvailable, connectCrossmark, signRlusdPaymentWithCrossmark } from '../services/crossmarkService';\nimport QRModal from './common/QRModal';\nimport DonationConfirmation from './DonationConfirmation';\nimport { Heart, MessageSquare, Mic, ArrowLeft, ArrowRight, Eye, EyeOff, Sparkles, Star, Zap, Globe, Shield, Users, Gift, Send } from 'lucide-react';\nimport './WhisperFlow.css';\n\n// Helpers\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DRAFT_KEY = 'whisperDraftV1';\nconst PENDING_KEY = 'whisperPendingDonationV1';\nconst QUOTES = ['\"Sometimes a few words can carry a lifetime.\"', '\"A small gift can change a whole day.\"', '\"Light grows where we speak hope.\"', '\"Your words have power beyond measure.\"', '\"Every whisper of kindness echoes forever.\"'];\nconst STORY_THEME = {\n  meda: {\n    accent: '#7c3aed',\n    soft1: '#ede9fe',\n    soft2: '#faf5ff'\n  },\n  tara: {\n    accent: '#ec4899',\n    soft1: '#ffe4f1',\n    soft2: '#fff7fb'\n  },\n  ocean: {\n    accent: '#2563eb',\n    soft1: '#dbeafe',\n    soft2: '#eff6ff'\n  }\n};\nfunction saveDraft(data) {\n  try {\n    localStorage.setItem(DRAFT_KEY, JSON.stringify(data));\n  } catch {}\n}\nfunction loadDraft() {\n  try {\n    return JSON.parse(localStorage.getItem(DRAFT_KEY) || 'null');\n  } catch {\n    return null;\n  }\n}\nfunction getPendingDonation() {\n  try {\n    return JSON.parse(localStorage.getItem(PENDING_KEY) || 'null');\n  } catch {\n    return null;\n  }\n}\nfunction clearPendingDonation() {\n  try {\n    localStorage.removeItem(PENDING_KEY);\n  } catch {}\n}\nfunction useReducedMotion() {\n  _s();\n  const [reduced, setReduced] = useState(false);\n  useEffect(() => {\n    const m = window.matchMedia('(prefers-reduced-motion: reduce)');\n    setReduced(m.matches);\n    const handler = e => setReduced(e.matches);\n    if (m.addEventListener) m.addEventListener('change', handler);else m.addListener(handler);\n    return () => {\n      if (m.removeEventListener) m.removeEventListener('change', handler);else m.removeListener(handler);\n    };\n  }, []);\n  return reduced;\n}\n_s(useReducedMotion, \"PAG4zvF6+IsK2eHB7xTPE8NJ12w=\");\nfunction vibrate(ms = 10) {\n  try {\n    if (navigator.vibrate) navigator.vibrate(ms);\n  } catch {}\n}\nconst WhisperFlow = () => {\n  _s2();\n  const [step, setStep] = useState(0);\n\n  // data\n  const [message, setMessage] = useState('');\n  const [amount, setAmount] = useState('');\n  const [otherAmount, setOtherAmount] = useState('');\n  const [isPublic, setIsPublic] = useState(false);\n  const [email, setEmail] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState(null);\n  const [showUndo, setShowUndo] = useState(false);\n  const undoTimerRef = useRef(null);\n  const [quoteIdx, setQuoteIdx] = useState(0);\n  const [showConfetti, setShowConfetti] = useState(false);\n  const [transactionUrl, setTransactionUrl] = useState(null);\n  const [xamanState, setXamanState] = useState({\n    phase: 'idle'\n  });\n  const [countdown, setCountdown] = useState(0);\n  const xamanPollRef = useRef(null);\n  const [crossmarkBusy, setCrossmarkBusy] = useState(false);\n  const [crossmarkError, setCrossmarkError] = useState(null);\n  const MEDA_ADDRESS = process.env.REACT_APP_MEDA_WALLET_ADDRESS || 'rEtpfxtsuHGWbRYFGszE5etYNPaiogDpxC';\n  const RLUSD_ISSUER = 'rQhWct2fv4Vc4KRjRgMrxa8xPN9Zx9iLKV';\n  const reducedMotion = useReducedMotion();\n\n  // Voice\n  const [listening, setListening] = useState(false);\n  const recognitionRef = useRef(null);\n\n  // Deep link\n  const searchParams = useMemo(() => new URLSearchParams(window.location.search), []);\n  const storyId = (searchParams.get('story') || '').toLowerCase();\n  const prefillAmount = searchParams.get('amount');\n  const prefillMessage = searchParams.get('message');\n\n  // Theme\n  const theme = STORY_THEME[storyId] || STORY_THEME['meda'];\n  useEffect(() => {\n    const el = document.querySelector('.whisper');\n    if (el) {\n      el.style.setProperty('--accent', theme.accent);\n      el.style.setProperty('--soft1', theme.soft1);\n      el.style.setProperty('--soft2', theme.soft2);\n    }\n  }, [theme]);\n\n  // Quote rotation\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setQuoteIdx(prev => (prev + 1) % QUOTES.length);\n    }, 4000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Prefill from URL params\n  useEffect(() => {\n    if (prefillAmount) {\n      const num = Number(prefillAmount);\n      if (!isNaN(num) && num > 0) {\n        setAmount(num);\n        setShowUndo(true);\n        if (undoTimerRef.current) clearTimeout(undoTimerRef.current);\n        undoTimerRef.current = window.setTimeout(() => setShowUndo(false), 3000);\n      }\n    }\n    if (prefillMessage) {\n      setMessage(prefillMessage);\n    }\n  }, [prefillAmount, prefillMessage]);\n\n  // Load draft\n  useEffect(() => {\n    const draft = loadDraft();\n    if (draft && step === 0) {\n      setMessage(draft.message || '');\n      setAmount(draft.amount || '');\n      setOtherAmount(draft.otherAmount || '');\n      setIsPublic(draft.isPublic || false);\n      setEmail(draft.email || '');\n    }\n  }, [step]);\n\n  // Save draft\n  useEffect(() => {\n    if (step > 0) {\n      saveDraft({\n        message,\n        amount,\n        otherAmount,\n        isPublic,\n        email\n      });\n    }\n  }, [message, amount, otherAmount, isPublic, email, step]);\n\n  // Check for pending donation - only restore if user explicitly continues\n  useEffect(() => {\n    const pending = getPendingDonation();\n    if (pending && pending.step === 4) {\n      // Clear pending donation to start fresh\n      clearPendingDonation();\n    }\n  }, []);\n\n  // Online status handling\n  useEffect(() => {\n    const onOnline = async () => {\n      if (step === 4) {\n        const pending = getPendingDonation();\n        if (pending) {\n          try {\n            await handleSubmit();\n            clearPendingDonation();\n          } catch (error) {\n            console.error('Failed to retry submission:', error);\n          }\n        }\n      }\n    };\n    window.addEventListener('online', onOnline);\n    return () => window.removeEventListener('online', onOnline);\n  }, [step]);\n\n  // Pointer light effect\n  useEffect(() => {\n    const el = document.querySelector('.story-hero');\n    if (!el || reducedMotion) return;\n    const onMove = e => {\n      const rect = el.getBoundingClientRect();\n      const x = (e.clientX - rect.left) / rect.width * 100;\n      const y = (e.clientY - rect.top) / rect.height * 100;\n      el.style.setProperty('--x', `${x}%`);\n      el.style.setProperty('--y', `${y}%`);\n    };\n    el.addEventListener('pointermove', onMove);\n    return () => el.removeEventListener('pointermove', onMove);\n  }, [reducedMotion]);\n  const handleMessageChange = e => {\n    setMessage(e.target.value);\n  };\n  const selectAmount = val => {\n    if (val === 'other') {\n      setAmount('other');\n      setOtherAmount('');\n    } else {\n      setAmount(val);\n      setOtherAmount('');\n    }\n    setShowUndo(true);\n    if (undoTimerRef.current) clearTimeout(undoTimerRef.current);\n    undoTimerRef.current = window.setTimeout(() => setShowUndo(false), 3000);\n    vibrate();\n  };\n  const undoAmount = () => {\n    setAmount('');\n    setShowUndo(false);\n  };\n  const handleOtherAmount = e => setOtherAmount(e.target.value);\n  const handleIdentityChoice = choice => {\n    setIsPublic(choice);\n    if (!choice) {\n      setEmail('');\n      setStep(4);\n    }\n    vibrate();\n  };\n  const proceedFromIdentity = () => {\n    setStep(4);\n    vibrate();\n  };\n\n  // Online status handling\n  useEffect(() => {\n    const onOnline = async () => {\n      if (step === 4) {\n        const pending = getPendingDonation();\n        if (pending) {\n          try {\n            await handleSubmit();\n            clearPendingDonation();\n          } catch (error) {\n            console.error('Failed to retry submission:', error);\n          }\n        }\n      }\n    };\n    window.addEventListener('online', onOnline);\n    return () => window.removeEventListener('online', onOnline);\n  }, [step]);\n  const handleSubmit = async () => {\n    if (submitting) return;\n    setSubmitting(true);\n    setError(null);\n    const finalAmount = amount === 'other' ? Number(otherAmount) : Number(amount);\n    if (!finalAmount || finalAmount <= 0) {\n      setError('Please enter a valid amount');\n      setSubmitting(false);\n      return;\n    }\n\n    // Use the demo RLUSD flow (1 RLUSD fixed amount)\n    await startRlusdXamanFromWhisper();\n    setSubmitting(false);\n  };\n  const startRlusdXamanFromWhisper = async () => {\n    if (xamanState.phase !== 'idle') return;\n    setXamanState({\n      phase: 'creating'\n    });\n    try {\n      const response = await xamanCreatePayment({\n        destination: MEDA_ADDRESS,\n        amount: 1,\n        // Fixed 1 RLUSD like the demo\n        charity: 'MEDA',\n        cause_id: 'whisper_rlusd_demo'\n      });\n      if (response.success && response.payloadId) {\n        setXamanState({\n          phase: 'ready',\n          payloadId: response.payloadId,\n          qrCode: response.qrCode\n        });\n\n        // Auto-show confirmation after 10 seconds for demo purposes\n        setCountdown(10);\n        const countdownInterval = setInterval(() => {\n          setCountdown(prev => {\n            if (prev <= 1) {\n              clearInterval(countdownInterval);\n              if (xamanPollRef.current) clearInterval(xamanPollRef.current);\n              setXamanState({\n                phase: 'completed',\n                txid: 'demo-tx-' + Date.now().toString().slice(-8)\n              });\n              setTransactionUrl('https://testnet.xrpl.org/transactions/demo-tx-' + Date.now().toString().slice(-8));\n              setShowConfetti(true);\n              setTimeout(() => setShowConfetti(false), 2000);\n              setStep(5);\n              return 0;\n            }\n            return prev - 1;\n          });\n        }, 1000);\n\n        // Poll for completion (original logic - kept for real payments)\n        xamanPollRef.current = window.setInterval(async () => {\n          try {\n            const status = await checkUserPaymentStatus(response.payloadId);\n            if (status.completed) {\n              if (xamanPollRef.current) clearInterval(xamanPollRef.current);\n              setXamanState({\n                phase: 'completed',\n                txid: status.txid\n              });\n              setTransactionUrl(status.transactionUrl);\n              setShowConfetti(true);\n              setTimeout(() => setShowConfetti(false), 2000);\n              setStep(5);\n            }\n          } catch (error) {\n            console.error('Payment status check failed:', error);\n          }\n        }, 2000);\n      } else {\n        setXamanState({\n          phase: 'error',\n          message: 'Failed to create payment'\n        });\n      }\n    } catch (error) {\n      console.error('Xaman payment creation failed:', error);\n      setXamanState({\n        phase: 'error',\n        message: 'Failed to create payment'\n      });\n    }\n  };\n  const startXrpXamanFromWhisper = async () => {\n    if (xamanState.phase !== 'idle') return;\n    setXamanState({\n      phase: 'creating'\n    });\n    try {\n      const finalAmount = amount === 'other' ? Number(otherAmount) : Number(amount);\n      const response = await xamanCreatePayment({\n        amount: finalAmount,\n        destination: MEDA_ADDRESS,\n        charity: 'MEDA',\n        cause_id: 'whisper',\n        asset: 'RLUSD',\n        issuer: RLUSD_ISSUER\n      });\n      if (response.success && response.payloadId) {\n        setXamanState({\n          phase: 'ready',\n          payloadId: response.payloadId,\n          qrCode: response.qrCode\n        });\n\n        // Poll for completion\n        xamanPollRef.current = window.setInterval(async () => {\n          try {\n            const status = await checkUserPaymentStatus(response.payloadId);\n            if (status.completed) {\n              if (xamanPollRef.current) clearInterval(xamanPollRef.current);\n              setXamanState({\n                phase: 'completed',\n                txid: status.txid\n              });\n              setTransactionUrl(status.transactionUrl);\n              setShowConfetti(true);\n              setTimeout(() => setShowConfetti(false), 2000);\n              setStep(5);\n            }\n          } catch (error) {\n            console.error('Payment status check failed:', error);\n          }\n        }, 2000);\n      } else {\n        setXamanState({\n          phase: 'error',\n          message: 'Failed to create payment'\n        });\n      }\n    } catch (error) {\n      console.error('Xaman payment creation failed:', error);\n      setXamanState({\n        phase: 'error',\n        message: 'Failed to create payment'\n      });\n    }\n  };\n  const startRlusdCrossmarkFromWhisper = async () => {\n    if (crossmarkBusy) return;\n    setCrossmarkBusy(true);\n    setCrossmarkError(null);\n    try {\n      if (!isCrossmarkAvailable()) {\n        throw new Error('CROSSMARK extension not found');\n      }\n      await connectCrossmark();\n      const finalAmount = amount === 'other' ? Number(otherAmount) : Number(amount);\n      const result = await signRlusdPaymentWithCrossmark({\n        amount: finalAmount,\n        destination: MEDA_ADDRESS,\n        charity: 'MEDA',\n        causeId: 'whisper'\n      });\n      if (result.ok) {\n        setTransactionUrl(result.explorer || null);\n        setShowConfetti(true);\n        setTimeout(() => setShowConfetti(false), 2000);\n        setStep(5);\n      } else {\n        setCrossmarkError(result.error || 'Payment failed');\n      }\n    } catch (error) {\n      console.error('CROSSMARK payment failed:', error);\n      setCrossmarkError(error instanceof Error ? error.message : 'Payment failed');\n    } finally {\n      setCrossmarkBusy(false);\n    }\n  };\n  const toggleMic = () => {\n    if (listening) {\n      if (recognitionRef.current) {\n        recognitionRef.current.stop();\n      }\n      setListening(false);\n    } else {\n      if ('webkitSpeechRecognition' in window) {\n        const recognition = new window.webkitSpeechRecognition();\n        recognition.continuous = false;\n        recognition.interimResults = false;\n        recognition.lang = 'en-US';\n        recognition.onstart = () => setListening(true);\n        recognition.onresult = event => {\n          const transcript = event.results[0][0].transcript;\n          setMessage(transcript);\n        };\n        recognition.onerror = () => setListening(false);\n        recognition.onend = () => setListening(false);\n        recognitionRef.current = recognition;\n        recognition.start();\n      } else {\n        alert('Speech recognition not supported in this browser');\n      }\n    }\n  };\n\n  // Confetti pieces\n  const pieces = Array.from({\n    length: 7\n  }).map((_, i) => ({\n    left: `${15 + i * 12}%`,\n    bottom: '20px',\n    background: i % 2 ? theme.accent : theme.soft1\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `whisper ${reducedMotion ? 'reduced-motion' : ''}`,\n    children: [step === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `stage full ${reducedMotion ? '' : 'fade-in'}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"story-hero\",\n        role: \"img\",\n        \"aria-label\": storyId ? `Story ${storyId}` : 'Story image',\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overlay\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"floating-elements\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '15%',\n              left: '5%',\n              animationDelay: '0s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Sparkles, {\n              size: 24,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '35%',\n              left: '10%',\n              animationDelay: '1s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Star, {\n              size: 20,\n              color: theme.soft1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '55%',\n              left: '8%',\n              animationDelay: '2s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Heart, {\n              size: 18,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '75%',\n              left: '12%',\n              animationDelay: '0.5s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Zap, {\n              size: 22,\n              color: theme.soft1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '25%',\n              right: '8%',\n              animationDelay: '1.5s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Globe, {\n              size: 20,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '45%',\n              right: '12%',\n              animationDelay: '0.8s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Shield, {\n              size: 19,\n              color: theme.soft1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '65%',\n              right: '6%',\n              animationDelay: '2.2s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Users, {\n              size: 21,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '85%',\n              right: '10%',\n              animationDelay: '1.2s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Gift, {\n              size: 23,\n              color: theme.soft1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '10%',\n              right: '15%',\n              animationDelay: '0.3s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Sparkles, {\n              size: 28,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '20%',\n              right: '25%',\n              animationDelay: '1.3s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Star, {\n              size: 22,\n              color: theme.soft1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '30%',\n              right: '10%',\n              animationDelay: '2.3s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Heart, {\n              size: 20,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '40%',\n              right: '20%',\n              animationDelay: '0.8s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Zap, {\n              size: 24,\n              color: theme.soft1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '50%',\n              right: '15%',\n              animationDelay: '1.8s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Globe, {\n              size: 21,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '60%',\n              right: '25%',\n              animationDelay: '2.8s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Shield, {\n              size: 23,\n              color: theme.soft1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '70%',\n              right: '12%',\n              animationDelay: '1.1s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Users, {\n              size: 25,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '80%',\n              right: '18%',\n              animationDelay: '2.1s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Gift, {\n              size: 19,\n              color: theme.soft1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '90%',\n              right: '22%',\n              animationDelay: '0.6s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Sparkles, {\n              size: 26,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"people-images\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"person-image\",\n            style: {\n              top: '10%',\n              left: '8%',\n              animationDelay: '0.5s'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-placeholder\",\n              children: [/*#__PURE__*/_jsxDEV(Users, {\n                size: 40,\n                color: theme.accent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-caption\",\n                children: \"Students in need\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"person-image\",\n            style: {\n              top: '30%',\n              left: '20%',\n              animationDelay: '1.2s'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-placeholder\",\n              children: [/*#__PURE__*/_jsxDEV(Heart, {\n                size: 40,\n                color: theme.accent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-caption\",\n                children: \"Families seeking help\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"person-image\",\n            style: {\n              top: '50%',\n              left: '12%',\n              animationDelay: '0.8s'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-placeholder\",\n              children: [/*#__PURE__*/_jsxDEV(Shield, {\n                size: 40,\n                color: theme.accent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-caption\",\n                children: \"Community support\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"person-image\",\n            style: {\n              top: '70%',\n              left: '18%',\n              animationDelay: '1.5s'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-placeholder\",\n              children: [/*#__PURE__*/_jsxDEV(Globe, {\n                size: 40,\n                color: theme.accent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-caption\",\n                children: \"Global impact\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"person-image\",\n            style: {\n              top: '20%',\n              left: '75%',\n              animationDelay: '0.3s'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-placeholder\",\n              children: [/*#__PURE__*/_jsxDEV(Gift, {\n                size: 40,\n                color: theme.accent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-caption\",\n                children: \"Your generosity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 547,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"person-image\",\n            style: {\n              top: '60%',\n              left: '80%',\n              animationDelay: '1.8s'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-placeholder\",\n              children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n                size: 40,\n                color: theme.accent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-caption\",\n                children: \"Hope & healing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hero-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `hero-quote ${reducedMotion ? '' : 'quote-fade'}`,\n            children: QUOTES[quoteIdx]\n          }, quoteIdx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cta-button\",\n            onClick: () => {\n              setStep(1);\n              vibrate();\n            },\n            children: [/*#__PURE__*/_jsxDEV(Send, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 17\n            }, this), \"Whisper a Message\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 9\n    }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `stage center ${reducedMotion ? '' : 'fade-in'}`,\n      \"aria-live\": \"polite\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"step-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: () => {\n            setStep(0);\n            vibrate();\n          },\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 15\n          }, this), \"Back\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-indicator\",\n          children: \"Step 1 of 4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prompt glow type-on\",\n        children: \"I'm giving because\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"whisper-input\",\n          placeholder: \"For girls who never had a laptop.\",\n          value: message,\n          onChange: handleMessageChange,\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 586,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hint\",\n            children: listening ? 'Listening… speak your message' : 'Pause to continue'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"mic-button\",\n            onClick: toggleMic,\n            \"aria-pressed\": listening,\n            children: [/*#__PURE__*/_jsxDEV(Mic, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 17\n            }, this), listening ? 'Stop' : 'Speak']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 585,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-button\",\n          onClick: () => (message || '').trim().length > 0 ? (setStep(2), vibrate()) : null,\n          disabled: (message || '').trim().length === 0,\n          children: [\"Next\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 602,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 9\n    }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `stage center ${reducedMotion ? '' : 'fade-in'}`,\n      \"aria-live\": \"polite\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"step-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: () => {\n            setStep(1);\n            vibrate();\n          },\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 15\n          }, this), \"Back\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-indicator\",\n          children: \"Step 2 of 4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prompt\",\n        children: \"How much do you want to give?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 625,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"amount-grid\",\n        children: [[10, 25, 50, 100].map(v => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `amount-pill ${amount === v ? 'selected' : ''}`,\n          onClick: () => selectAmount(v),\n          children: [\"$\", v]\n        }, v, true, {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `amount-pill ${amount === '' && otherAmount ? 'selected' : ''}`,\n          onClick: () => selectAmount('other'),\n          children: \"Other\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 632,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 626,\n        columnNumber: 11\n      }, this), showUndo && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"undo-hint\",\n        children: [\"Amount selected. \", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"link-button\",\n          onClick: undoAmount,\n          children: \"Undo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 638,\n        columnNumber: 13\n      }, this), amount === '' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `other-amount-row ${reducedMotion ? '' : 'slide-up'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          inputMode: \"decimal\",\n          min: 1,\n          step: \"0.01\",\n          placeholder: \"Enter amount\",\n          className: \"other-input\",\n          value: otherAmount,\n          onChange: handleOtherAmount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"apply-button\",\n          onClick: () => Number(otherAmount) > 0 ? (setAmount(Number(otherAmount)), setStep(3), vibrate()) : null,\n          disabled: !otherAmount || Number(otherAmount) <= 0,\n          children: \"Apply\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 644,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actions\",\n        children: amount !== '' && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-button\",\n          onClick: () => {\n            setStep(3);\n            vibrate();\n          },\n          children: [\"Next\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 669,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 616,\n      columnNumber: 9\n    }, this), step === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `stage center ${reducedMotion ? '' : 'fade-in'}`,\n      \"aria-live\": \"polite\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"step-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: () => {\n            setStep(2);\n            vibrate();\n          },\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 15\n          }, this), \"Back\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 679,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-indicator\",\n          children: \"Step 3 of 4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prompt\",\n        children: \"Would you like the story to know who you are?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 686,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"identity-toggle\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `toggle-button ${isPublic ? 'active' : ''}`,\n          onClick: () => handleIdentityChoice(true),\n          children: [/*#__PURE__*/_jsxDEV(Eye, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 15\n          }, this), \"Yes, share my name\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `toggle-button ${!isPublic ? 'active' : ''}`,\n          onClick: () => handleIdentityChoice(false),\n          children: [/*#__PURE__*/_jsxDEV(EyeOff, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 15\n          }, this), \"No, keep me anonymous\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 687,\n        columnNumber: 11\n      }, this), isPublic && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `email-section ${reducedMotion ? '' : 'slide-up'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"you@example.com\",\n          className: \"email-input\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          \"aria-label\": \"Email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"continue-button\",\n          onClick: proceedFromIdentity,\n          children: [\"Continue\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 710,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"privacy-note\",\n        children: \"We'll only use your email to send your receipt.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 715,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actions\",\n        children: !isPublic && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-button\",\n          onClick: proceedFromIdentity,\n          children: [\"Next\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 721,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 719,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 717,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 677,\n      columnNumber: 9\n    }, this), step === 4 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `stage center ${reducedMotion ? '' : 'fade-in'}`,\n      \"aria-live\": \"polite\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"step-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: () => {\n            setStep(3);\n            vibrate();\n          },\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 732,\n            columnNumber: 15\n          }, this), \"Back\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-indicator\",\n          children: \"Step 4 of 4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 735,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 730,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        role: \"alert\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 738,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-header\",\n          children: \"Your Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"blockquote\", {\n          className: \"message-preview\",\n          children: [\"\\\"\", message || '', \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 742,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Amount:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 745,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"amount\",\n              children: [\"$\", amount === 'other' ? otherAmount : amount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 746,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 744,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Privacy:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 749,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: isPublic ? 'Public' : 'Anonymous'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 750,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 748,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 743,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 740,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `cta-button ${submitting ? 'disabled' : ''}`,\n        onClick: handleSubmit,\n        disabled: submitting,\n        children: submitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 762,\n            columnNumber: 17\n          }, this), \"Sending\\u2026\"]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Heart, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 767,\n            columnNumber: 17\n          }, this), \"Send my words and support\"]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 755,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alternative-options\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"options-label\",\n          children: \"Or try these options:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 774,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"options-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"option-button\",\n            onClick: startXrpXamanFromWhisper,\n            children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 777,\n              columnNumber: 17\n            }, this), \"XRP (Alternative)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 776,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"option-button\",\n            onClick: startRlusdCrossmarkFromWhisper,\n            disabled: crossmarkBusy,\n            children: crossmarkBusy ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"spinner\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 787,\n                columnNumber: 21\n              }, this), \"Opening\\u2026\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Heart, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 792,\n                columnNumber: 21\n              }, this), \"RLUSD (CROSSMARK)\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 780,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 775,\n          columnNumber: 13\n        }, this), crossmarkError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message\",\n          role: \"alert\",\n          children: crossmarkError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 798,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 773,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 729,\n      columnNumber: 9\n    }, this), step === 5 && /*#__PURE__*/_jsxDEV(DonationConfirmation, {\n      message: message,\n      amount: amount === 'other' ? Number(otherAmount) : Number(amount),\n      transactionHash: xamanState.phase === 'completed' ? xamanState.txid : undefined,\n      transactionUrl: transactionUrl || undefined,\n      isPublic: isPublic,\n      onReturnHome: () => window.location.href = '/'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 804,\n      columnNumber: 9\n    }, this), !reducedMotion && showConfetti && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"confetti\",\n      \"aria-hidden\": true,\n      children: pieces.map((p, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"piece\",\n        style: {\n          left: p.left,\n          bottom: p.bottom,\n          background: p.background\n        }\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 817,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 815,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(QRModal, {\n      open: xamanState.phase === 'creating' || xamanState.phase === 'ready',\n      title: \"Donate with RLUSD\",\n      qrUrl: xamanState.phase === 'ready' ? xamanState.qrCode : undefined,\n      openLink: xamanState.phase === 'ready' ? `https://xumm.app/sign/${xamanState.payloadId}` : undefined,\n      network: \"Testnet\",\n      status: xamanState.phase === 'creating' ? 'Creating RLUSD payment…' : xamanState.phase === 'ready' ? countdown > 0 ? `Demo: Auto-confirmation in ${countdown}s` : 'Scan to sign in Xaman' : undefined,\n      onClose: () => setXamanState({\n        phase: 'idle'\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 822,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 450,\n    columnNumber: 5\n  }, this);\n};\n_s2(WhisperFlow, \"gQTatPxWRbWVR5TS3FoMdQe/zEE=\", false, function () {\n  return [useReducedMotion];\n});\n_c = WhisperFlow;\nexport default WhisperFlow;\nvar _c;\n$RefreshReg$(_c, \"WhisperFlow\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","xamanCreatePayment","checkUserPaymentStatus","isCrossmarkAvailable","connectCrossmark","signRlusdPaymentWithCrossmark","QRModal","DonationConfirmation","Heart","MessageSquare","Mic","ArrowLeft","ArrowRight","Eye","EyeOff","Sparkles","Star","Zap","Globe","Shield","Users","Gift","Send","jsxDEV","_jsxDEV","Fragment","_Fragment","DRAFT_KEY","PENDING_KEY","QUOTES","STORY_THEME","meda","accent","soft1","soft2","tara","ocean","saveDraft","data","localStorage","setItem","JSON","stringify","loadDraft","parse","getItem","getPendingDonation","clearPendingDonation","removeItem","useReducedMotion","_s","reduced","setReduced","m","window","matchMedia","matches","handler","e","addEventListener","addListener","removeEventListener","removeListener","vibrate","ms","navigator","WhisperFlow","_s2","step","setStep","message","setMessage","amount","setAmount","otherAmount","setOtherAmount","isPublic","setIsPublic","email","setEmail","submitting","setSubmitting","error","setError","showUndo","setShowUndo","undoTimerRef","quoteIdx","setQuoteIdx","showConfetti","setShowConfetti","transactionUrl","setTransactionUrl","xamanState","setXamanState","phase","countdown","setCountdown","xamanPollRef","crossmarkBusy","setCrossmarkBusy","crossmarkError","setCrossmarkError","MEDA_ADDRESS","process","env","REACT_APP_MEDA_WALLET_ADDRESS","RLUSD_ISSUER","reducedMotion","listening","setListening","recognitionRef","searchParams","URLSearchParams","location","search","storyId","get","toLowerCase","prefillAmount","prefillMessage","theme","el","document","querySelector","style","setProperty","interval","setInterval","prev","length","clearInterval","num","Number","isNaN","current","clearTimeout","setTimeout","draft","pending","onOnline","handleSubmit","console","onMove","rect","getBoundingClientRect","x","clientX","left","width","y","clientY","top","height","handleMessageChange","target","value","selectAmount","val","undoAmount","handleOtherAmount","handleIdentityChoice","choice","proceedFromIdentity","finalAmount","startRlusdXamanFromWhisper","response","destination","charity","cause_id","success","payloadId","qrCode","countdownInterval","txid","Date","now","toString","slice","status","completed","startXrpXamanFromWhisper","asset","issuer","startRlusdCrossmarkFromWhisper","Error","result","causeId","ok","explorer","toggleMic","stop","recognition","webkitSpeechRecognition","continuous","interimResults","lang","onstart","onresult","event","transcript","results","onerror","onend","start","alert","pieces","Array","from","map","_","i","bottom","background","className","children","role","fileName","_jsxFileName","lineNumber","columnNumber","animationDelay","size","color","right","onClick","placeholder","onChange","autoFocus","trim","disabled","v","type","inputMode","min","transactionHash","undefined","onReturnHome","href","p","open","title","qrUrl","openLink","network","onClose","_c","$RefreshReg$"],"sources":["C:/Users/Alex Salsali/Desktop/Eunoia-Atlas-POC/frontend/src/components/WhisperFlow.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { xamanCreatePayment } from '../services/api';\nimport { checkUserPaymentStatus } from '../services/userWalletService';\nimport { isCrossmarkAvailable, connectCrossmark, signRlusdPaymentWithCrossmark } from '../services/crossmarkService';\nimport QRModal from './common/QRModal';\nimport DonationConfirmation from './DonationConfirmation';\nimport { Heart, MessageSquare, Mic, ArrowLeft, ArrowRight, CheckCircle2, Eye, EyeOff, Sparkles, Star, Zap, Globe, Shield, Users, Gift, Send } from 'lucide-react';\nimport './WhisperFlow.css';\n\n// Helpers\nconst DRAFT_KEY = 'whisperDraftV1';\nconst PENDING_KEY = 'whisperPendingDonationV1';\nconst QUOTES = [\n  '\"Sometimes a few words can carry a lifetime.\"',\n  '\"A small gift can change a whole day.\"',\n  '\"Light grows where we speak hope.\"',\n  '\"Your words have power beyond measure.\"',\n  '\"Every whisper of kindness echoes forever.\"',\n];\n\nconst STORY_THEME: Record<string, { accent: string; soft1: string; soft2: string }> = {\n  meda: { accent: '#7c3aed', soft1: '#ede9fe', soft2: '#faf5ff' },\n  tara: { accent: '#ec4899', soft1: '#ffe4f1', soft2: '#fff7fb' },\n  ocean: { accent: '#2563eb', soft1: '#dbeafe', soft2: '#eff6ff' },\n};\n\nfunction saveDraft(data: any) { try { localStorage.setItem(DRAFT_KEY, JSON.stringify(data)); } catch {} }\nfunction loadDraft(): any | null { try { return JSON.parse(localStorage.getItem(DRAFT_KEY) || 'null'); } catch { return null; } }\n\nfunction getPendingDonation(): any | null { try { return JSON.parse(localStorage.getItem(PENDING_KEY) || 'null'); } catch { return null; } }\nfunction clearPendingDonation() { try { localStorage.removeItem(PENDING_KEY); } catch {} }\n\nfunction useReducedMotion() {\n  const [reduced, setReduced] = useState(false);\n  useEffect(() => {\n    const m = window.matchMedia('(prefers-reduced-motion: reduce)');\n    setReduced(m.matches);\n    const handler = (e: MediaQueryListEvent) => setReduced(e.matches);\n    if (m.addEventListener) m.addEventListener('change', handler);\n    else m.addListener(handler as any);\n    return () => {\n      if (m.removeEventListener) m.removeEventListener('change', handler);\n      else m.removeListener(handler as any);\n    };\n  }, []);\n  return reduced;\n}\n\nfunction vibrate(ms = 10) { try { if (navigator.vibrate) navigator.vibrate(ms); } catch {} }\n\nconst WhisperFlow: React.FC = () => {\n  const [step, setStep] = useState<number>(0);\n\n  // data\n  const [message, setMessage] = useState('');\n  const [amount, setAmount] = useState<number | 'other' | ''>('');\n  const [otherAmount, setOtherAmount] = useState<string>('');\n  const [isPublic, setIsPublic] = useState<boolean>(false);\n  const [email, setEmail] = useState<string>('');\n\n\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const [showUndo, setShowUndo] = useState<boolean>(false);\n  const undoTimerRef = useRef<number | null>(null);\n  const [quoteIdx, setQuoteIdx] = useState(0);\n  const [showConfetti, setShowConfetti] = useState(false);\n  const [transactionUrl, setTransactionUrl] = useState<string | null>(null);\n  const [xamanState, setXamanState] = useState<\n    | { phase: 'idle' }\n    | { phase: 'creating' }\n    | { phase: 'ready'; payloadId: string; qrCode?: string; message?: string }\n    | { phase: 'completed'; txid?: string }\n    | { phase: 'error'; message: string }\n  >({ phase: 'idle' });\n  const [countdown, setCountdown] = useState<number>(0);\n  const xamanPollRef = useRef<number | null>(null);\n  const [crossmarkBusy, setCrossmarkBusy] = useState(false);\n  const [crossmarkError, setCrossmarkError] = useState<string | null>(null);\n\n  const MEDA_ADDRESS = (process.env.REACT_APP_MEDA_WALLET_ADDRESS as string) || 'rEtpfxtsuHGWbRYFGszE5etYNPaiogDpxC';\n  const RLUSD_ISSUER = 'rQhWct2fv4Vc4KRjRgMrxa8xPN9Zx9iLKV';\n\n  const reducedMotion = useReducedMotion();\n\n  // Voice\n  const [listening, setListening] = useState(false);\n  const recognitionRef = useRef<any>(null);\n\n  // Deep link\n  const searchParams = useMemo(() => new URLSearchParams(window.location.search), []);\n  const storyId = (searchParams.get('story') || '').toLowerCase();\n  const prefillAmount = searchParams.get('amount');\n  const prefillMessage = searchParams.get('message');\n\n  // Theme\n  const theme = STORY_THEME[storyId] || STORY_THEME['meda'];\n\n  useEffect(() => {\n    const el = document.querySelector('.whisper') as HTMLElement | null;\n    if (el) {\n      el.style.setProperty('--accent', theme.accent);\n      el.style.setProperty('--soft1', theme.soft1);\n      el.style.setProperty('--soft2', theme.soft2);\n    }\n  }, [theme]);\n\n  // Quote rotation\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setQuoteIdx((prev) => (prev + 1) % QUOTES.length);\n    }, 4000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Prefill from URL params\n  useEffect(() => {\n    if (prefillAmount) {\n      const num = Number(prefillAmount);\n      if (!isNaN(num) && num > 0) {\n        setAmount(num);\n        setShowUndo(true);\n        if (undoTimerRef.current) clearTimeout(undoTimerRef.current);\n        undoTimerRef.current = window.setTimeout(() => setShowUndo(false), 3000);\n      }\n    }\n    if (prefillMessage) {\n      setMessage(prefillMessage);\n    }\n  }, [prefillAmount, prefillMessage]);\n\n  // Load draft\n  useEffect(() => {\n    const draft = loadDraft();\n    if (draft && step === 0) {\n      setMessage(draft.message || '');\n      setAmount(draft.amount || '');\n      setOtherAmount(draft.otherAmount || '');\n      setIsPublic(draft.isPublic || false);\n      setEmail(draft.email || '');\n    }\n  }, [step]);\n\n  // Save draft\n  useEffect(() => {\n    if (step > 0) {\n      saveDraft({ message, amount, otherAmount, isPublic, email });\n    }\n  }, [message, amount, otherAmount, isPublic, email, step]);\n\n  // Check for pending donation - only restore if user explicitly continues\n  useEffect(() => {\n    const pending = getPendingDonation();\n    if (pending && pending.step === 4) {\n      // Clear pending donation to start fresh\n      clearPendingDonation();\n    }\n  }, []);\n\n  // Online status handling\n  useEffect(() => {\n    const onOnline = async () => {\n      if (step === 4) {\n        const pending = getPendingDonation();\n        if (pending) {\n          try {\n            await handleSubmit();\n            clearPendingDonation();\n          } catch (error) {\n            console.error('Failed to retry submission:', error);\n          }\n        }\n      }\n    };\n\n    window.addEventListener('online', onOnline);\n    return () => window.removeEventListener('online', onOnline);\n  }, [step]);\n\n  // Pointer light effect\n  useEffect(() => {\n    const el = document.querySelector('.story-hero') as HTMLElement | null;\n    if (!el || reducedMotion) return;\n\n    const onMove = (e: PointerEvent) => {\n      const rect = el.getBoundingClientRect();\n      const x = ((e.clientX - rect.left) / rect.width) * 100;\n      const y = ((e.clientY - rect.top) / rect.height) * 100;\n      el.style.setProperty('--x', `${x}%`);\n      el.style.setProperty('--y', `${y}%`);\n    };\n\n    el.addEventListener('pointermove', onMove);\n    return () => el.removeEventListener('pointermove', onMove);\n  }, [reducedMotion]);\n\n  const handleMessageChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setMessage(e.target.value);\n  };\n\n\n\n  const selectAmount = (val: number | 'other') => {\n    if (val === 'other') {\n      setAmount('other');\n      setOtherAmount('');\n    } else {\n      setAmount(val);\n      setOtherAmount('');\n    }\n    setShowUndo(true);\n    if (undoTimerRef.current) clearTimeout(undoTimerRef.current);\n    undoTimerRef.current = window.setTimeout(() => setShowUndo(false), 3000);\n    vibrate();\n  };\n\n  const undoAmount = () => { setAmount(''); setShowUndo(false); };\n  const handleOtherAmount = (e: React.ChangeEvent<HTMLInputElement>) => setOtherAmount(e.target.value);\n  const handleIdentityChoice = (choice: boolean) => { setIsPublic(choice); if (!choice) { setEmail(''); setStep(4); } vibrate(); };\n  const proceedFromIdentity = () => { setStep(4); vibrate(); };\n\n  // Online status handling\n  useEffect(() => {\n    const onOnline = async () => {\n      if (step === 4) {\n        const pending = getPendingDonation();\n        if (pending) {\n          try {\n            await handleSubmit();\n            clearPendingDonation();\n          } catch (error) {\n            console.error('Failed to retry submission:', error);\n          }\n        }\n      }\n    };\n\n    window.addEventListener('online', onOnline);\n    return () => window.removeEventListener('online', onOnline);\n  }, [step]);\n\n  const handleSubmit = async () => {\n    if (submitting) return;\n    \n    setSubmitting(true);\n    setError(null);\n    \n    const finalAmount = amount === 'other' ? Number(otherAmount) : Number(amount);\n    \n    if (!finalAmount || finalAmount <= 0) {\n      setError('Please enter a valid amount');\n      setSubmitting(false);\n      return;\n    }\n\n    // Use the demo RLUSD flow (1 RLUSD fixed amount)\n    await startRlusdXamanFromWhisper();\n    setSubmitting(false);\n  };\n\n  const startRlusdXamanFromWhisper = async () => {\n    if (xamanState.phase !== 'idle') return;\n    \n    setXamanState({ phase: 'creating' });\n    \n    try {\n      const response = await xamanCreatePayment({\n        destination: MEDA_ADDRESS,\n        amount: 1, // Fixed 1 RLUSD like the demo\n        charity: 'MEDA',\n        cause_id: 'whisper_rlusd_demo'\n      });\n      \n      if (response.success && response.payloadId) {\n        setXamanState({ \n          phase: 'ready', \n          payloadId: response.payloadId,\n          qrCode: response.qrCode\n        });\n        \n        // Auto-show confirmation after 10 seconds for demo purposes\n        setCountdown(10);\n        const countdownInterval = setInterval(() => {\n          setCountdown(prev => {\n            if (prev <= 1) {\n              clearInterval(countdownInterval);\n              if (xamanPollRef.current) clearInterval(xamanPollRef.current);\n              setXamanState({ \n                phase: 'completed', \n                txid: 'demo-tx-' + Date.now().toString().slice(-8)\n              });\n              setTransactionUrl('https://testnet.xrpl.org/transactions/demo-tx-' + Date.now().toString().slice(-8));\n              setShowConfetti(true);\n              setTimeout(() => setShowConfetti(false), 2000);\n              setStep(5);\n              return 0;\n            }\n            return prev - 1;\n          });\n        }, 1000);\n        \n        // Poll for completion (original logic - kept for real payments)\n        xamanPollRef.current = window.setInterval(async () => {\n          try {\n            const status = await checkUserPaymentStatus(response.payloadId!);\n            if (status.completed) {\n              if (xamanPollRef.current) clearInterval(xamanPollRef.current);\n              setXamanState({ phase: 'completed', txid: status.txid });\n              setTransactionUrl(status.transactionUrl);\n              setShowConfetti(true);\n              setTimeout(() => setShowConfetti(false), 2000);\n              setStep(5);\n            }\n          } catch (error) {\n            console.error('Payment status check failed:', error);\n          }\n        }, 2000);\n      } else {\n        setXamanState({ phase: 'error', message: 'Failed to create payment' });\n      }\n    } catch (error) {\n      console.error('Xaman payment creation failed:', error);\n      setXamanState({ phase: 'error', message: 'Failed to create payment' });\n    }\n  };\n\n  const startXrpXamanFromWhisper = async () => {\n    if (xamanState.phase !== 'idle') return;\n    \n    setXamanState({ phase: 'creating' });\n    \n    try {\n      const finalAmount = amount === 'other' ? Number(otherAmount) : Number(amount);\n      const response = await xamanCreatePayment({\n        amount: finalAmount,\n        destination: MEDA_ADDRESS,\n        charity: 'MEDA',\n        cause_id: 'whisper',\n        asset: 'RLUSD',\n        issuer: RLUSD_ISSUER\n      });\n      \n      if (response.success && response.payloadId) {\n        setXamanState({ \n          phase: 'ready', \n          payloadId: response.payloadId,\n          qrCode: response.qrCode\n        });\n        \n        // Poll for completion\n        xamanPollRef.current = window.setInterval(async () => {\n          try {\n            const status = await checkUserPaymentStatus(response.payloadId!);\n            if (status.completed) {\n              if (xamanPollRef.current) clearInterval(xamanPollRef.current);\n              setXamanState({ phase: 'completed', txid: status.txid });\n              setTransactionUrl(status.transactionUrl);\n              setShowConfetti(true);\n              setTimeout(() => setShowConfetti(false), 2000);\n              setStep(5);\n            }\n          } catch (error) {\n            console.error('Payment status check failed:', error);\n          }\n        }, 2000);\n      } else {\n        setXamanState({ phase: 'error', message: 'Failed to create payment' });\n      }\n    } catch (error) {\n      console.error('Xaman payment creation failed:', error);\n      setXamanState({ phase: 'error', message: 'Failed to create payment' });\n    }\n  };\n\n  const startRlusdCrossmarkFromWhisper = async () => {\n    if (crossmarkBusy) return;\n    \n    setCrossmarkBusy(true);\n    setCrossmarkError(null);\n    \n    try {\n      if (!isCrossmarkAvailable()) {\n        throw new Error('CROSSMARK extension not found');\n      }\n      \n      await connectCrossmark();\n      const finalAmount = amount === 'other' ? Number(otherAmount) : Number(amount);\n      \n      const result = await signRlusdPaymentWithCrossmark({\n        amount: finalAmount,\n        destination: MEDA_ADDRESS,\n        charity: 'MEDA',\n        causeId: 'whisper'\n      });\n      \n      if (result.ok) {\n        setTransactionUrl(result.explorer || null);\n        setShowConfetti(true);\n        setTimeout(() => setShowConfetti(false), 2000);\n        setStep(5);\n      } else {\n        setCrossmarkError(result.error || 'Payment failed');\n      }\n    } catch (error) {\n      console.error('CROSSMARK payment failed:', error);\n      setCrossmarkError(error instanceof Error ? error.message : 'Payment failed');\n    } finally {\n      setCrossmarkBusy(false);\n    }\n  };\n\n  const toggleMic = () => {\n    if (listening) {\n      if (recognitionRef.current) {\n        recognitionRef.current.stop();\n      }\n      setListening(false);\n    } else {\n      if ('webkitSpeechRecognition' in window) {\n        const recognition = new (window as any).webkitSpeechRecognition();\n        recognition.continuous = false;\n        recognition.interimResults = false;\n        recognition.lang = 'en-US';\n        \n        recognition.onstart = () => setListening(true);\n        recognition.onresult = (event: any) => {\n          const transcript = event.results[0][0].transcript;\n          setMessage(transcript);\n        };\n        recognition.onerror = () => setListening(false);\n        recognition.onend = () => setListening(false);\n        \n        recognitionRef.current = recognition;\n        recognition.start();\n      } else {\n        alert('Speech recognition not supported in this browser');\n      }\n    }\n  };\n\n  // Confetti pieces\n  const pieces = Array.from({ length: 7 }).map((_, i) => ({\n    left: `${15 + i * 12}%`,\n    bottom: '20px',\n    background: i % 2 ? theme.accent : theme.soft1,\n  }));\n\n  return (\n    <div className={`whisper ${reducedMotion ? 'reduced-motion' : ''}`}>\n      \n\n      {step === 0 && (\n        <div className={`stage full ${reducedMotion ? '' : 'fade-in'}`}>\n          <div className=\"story-hero\" role=\"img\" aria-label={storyId ? `Story ${storyId}` : 'Story image'}>\n            <div className=\"overlay\" />\n            \n            {/* Floating decorative elements */}\n            <div className=\"floating-elements\">\n              {/* Left side icons */}\n              <div className=\"floating-icon\" style={{ top: '15%', left: '5%', animationDelay: '0s' }}>\n                <Sparkles size={24} color={theme.accent} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '35%', left: '10%', animationDelay: '1s' }}>\n                <Star size={20} color={theme.soft1} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '55%', left: '8%', animationDelay: '2s' }}>\n                <Heart size={18} color={theme.accent} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '75%', left: '12%', animationDelay: '0.5s' }}>\n                <Zap size={22} color={theme.soft1} />\n              </div>\n              \n              {/* Right side icons */}\n              <div className=\"floating-icon\" style={{ top: '25%', right: '8%', animationDelay: '1.5s' }}>\n                <Globe size={20} color={theme.accent} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '45%', right: '12%', animationDelay: '0.8s' }}>\n                <Shield size={19} color={theme.soft1} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '65%', right: '6%', animationDelay: '2.2s' }}>\n                <Users size={21} color={theme.accent} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '85%', right: '10%', animationDelay: '1.2s' }}>\n                <Gift size={23} color={theme.soft1} />\n              </div>\n              \n              {/* Right side icons to fill the space */}\n              <div className=\"floating-icon\" style={{ top: '10%', right: '15%', animationDelay: '0.3s' }}>\n                <Sparkles size={28} color={theme.accent} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '20%', right: '25%', animationDelay: '1.3s' }}>\n                <Star size={22} color={theme.soft1} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '30%', right: '10%', animationDelay: '2.3s' }}>\n                <Heart size={20} color={theme.accent} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '40%', right: '20%', animationDelay: '0.8s' }}>\n                <Zap size={24} color={theme.soft1} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '50%', right: '15%', animationDelay: '1.8s' }}>\n                <Globe size={21} color={theme.accent} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '60%', right: '25%', animationDelay: '2.8s' }}>\n                <Shield size={23} color={theme.soft1} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '70%', right: '12%', animationDelay: '1.1s' }}>\n                <Users size={25} color={theme.accent} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '80%', right: '18%', animationDelay: '2.1s' }}>\n                <Gift size={19} color={theme.soft1} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '90%', right: '22%', animationDelay: '0.6s' }}>\n                <Sparkles size={26} color={theme.accent} />\n              </div>\n            </div>\n            \n            {/* People in need images */}\n            <div className=\"people-images\">\n              <div className=\"person-image\" style={{ top: '10%', left: '8%', animationDelay: '0.5s' }}>\n                <div className=\"image-placeholder\">\n                  <Users size={40} color={theme.accent} />\n                  <div className=\"image-caption\">Students in need</div>\n                </div>\n              </div>\n              <div className=\"person-image\" style={{ top: '30%', left: '20%', animationDelay: '1.2s' }}>\n                <div className=\"image-placeholder\">\n                  <Heart size={40} color={theme.accent} />\n                  <div className=\"image-caption\">Families seeking help</div>\n                </div>\n              </div>\n              <div className=\"person-image\" style={{ top: '50%', left: '12%', animationDelay: '0.8s' }}>\n                <div className=\"image-placeholder\">\n                  <Shield size={40} color={theme.accent} />\n                  <div className=\"image-caption\">Community support</div>\n                </div>\n              </div>\n              <div className=\"person-image\" style={{ top: '70%', left: '18%', animationDelay: '1.5s' }}>\n                <div className=\"image-placeholder\">\n                  <Globe size={40} color={theme.accent} />\n                  <div className=\"image-caption\">Global impact</div>\n                </div>\n              </div>\n              <div className=\"person-image\" style={{ top: '20%', left: '75%', animationDelay: '0.3s' }}>\n                <div className=\"image-placeholder\">\n                  <Gift size={40} color={theme.accent} />\n                  <div className=\"image-caption\">Your generosity</div>\n                </div>\n              </div>\n              <div className=\"person-image\" style={{ top: '60%', left: '80%', animationDelay: '1.8s' }}>\n                <div className=\"image-placeholder\">\n                  <Sparkles size={40} color={theme.accent} />\n                  <div className=\"image-caption\">Hope & healing</div>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"hero-content\">\n               <div \n                 key={quoteIdx} \n                 className={`hero-quote ${reducedMotion ? '' : 'quote-fade'}`}\n               >\n                 {QUOTES[quoteIdx]}\n               </div>\n              <button className=\"cta-button\" onClick={() => { setStep(1); vibrate(); }}>\n                <Send size={20} />\n                Whisper a Message\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {step === 1 && (\n        <div className={`stage center ${reducedMotion ? '' : 'fade-in'}`} aria-live=\"polite\">\n          <div className=\"step-header\">\n            <button className=\"back-button\" onClick={() => { setStep(0); vibrate(); }}>\n              <ArrowLeft size={20} />\n              Back\n            </button>\n            <div className=\"step-indicator\">Step 1 of 4</div>\n          </div>\n          \n          <div className=\"prompt glow type-on\">I'm giving because…</div>\n          <div className=\"input-container\">\n            <textarea \n              className=\"whisper-input\" \n              placeholder=\"For girls who never had a laptop.\" \n              value={message} \n              onChange={handleMessageChange} \n              autoFocus \n            />\n            <div className=\"input-footer\">\n              <div className=\"hint\">{listening ? 'Listening… speak your message' : 'Pause to continue'}</div>\n              <button className=\"mic-button\" onClick={toggleMic} aria-pressed={listening}>\n                <Mic size={16} />\n                {listening ? 'Stop' : 'Speak'}\n              </button>\n            </div>\n          </div>\n          \n          <div className=\"actions\">\n            <button \n              className=\"primary-button\" \n              onClick={() => ((message || '').trim().length > 0 ? (setStep(2), vibrate()) : null)} \n              disabled={(message || '').trim().length === 0}\n            >\n              Next\n              <ArrowRight size={16} />\n            </button>\n          </div>\n        </div>\n      )}\n\n      {step === 2 && (\n        <div className={`stage center ${reducedMotion ? '' : 'fade-in'}`} aria-live=\"polite\">\n          <div className=\"step-header\">\n            <button className=\"back-button\" onClick={() => { setStep(1); vibrate(); }}>\n              <ArrowLeft size={20} />\n              Back\n            </button>\n            <div className=\"step-indicator\">Step 2 of 4</div>\n          </div>\n          \n          <div className=\"prompt\">How much do you want to give?</div>\n          <div className=\"amount-grid\">\n            {[10, 25, 50, 100].map((v) => (\n              <button key={v} className={`amount-pill ${amount === v ? 'selected' : ''}`} onClick={() => selectAmount(v)}>\n                ${v}\n              </button>\n            ))}\n            <button className={`amount-pill ${amount === '' && otherAmount ? 'selected' : ''}`} onClick={() => selectAmount('other')}>\n              Other\n            </button>\n          </div>\n\n          {showUndo && (\n            <div className=\"undo-hint\">\n              Amount selected. <button className=\"link-button\" onClick={undoAmount}>Undo</button>\n            </div>\n          )}\n\n          {amount === '' && (\n            <div className={`other-amount-row ${reducedMotion ? '' : 'slide-up'}`}>\n              <input \n                type=\"number\" \n                inputMode=\"decimal\" \n                min={1} \n                step=\"0.01\" \n                placeholder=\"Enter amount\" \n                className=\"other-input\" \n                value={otherAmount} \n                onChange={handleOtherAmount} \n              />\n              <button \n                className=\"apply-button\" \n                onClick={() => (Number(otherAmount) > 0 ? (setAmount(Number(otherAmount)), setStep(3), vibrate()) : null)} \n                disabled={!otherAmount || Number(otherAmount) <= 0}\n              >\n                Apply\n              </button>\n            </div>\n          )}\n\n          <div className=\"actions\">\n            {amount !== '' && (\n              <button className=\"primary-button\" onClick={() => { setStep(3); vibrate(); }}>\n                Next\n                <ArrowRight size={16} />\n              </button>\n            )}\n          </div>\n        </div>\n      )}\n\n      {step === 3 && (\n        <div className={`stage center ${reducedMotion ? '' : 'fade-in'}`} aria-live=\"polite\">\n          <div className=\"step-header\">\n            <button className=\"back-button\" onClick={() => { setStep(2); vibrate(); }}>\n              <ArrowLeft size={20} />\n              Back\n            </button>\n            <div className=\"step-indicator\">Step 3 of 4</div>\n          </div>\n          \n          <div className=\"prompt\">Would you like the story to know who you are?</div>\n          <div className=\"identity-toggle\">\n            <button className={`toggle-button ${isPublic ? 'active' : ''}`} onClick={() => handleIdentityChoice(true)}>\n              <Eye size={16} />\n              Yes, share my name\n            </button>\n            <button className={`toggle-button ${!isPublic ? 'active' : ''}`} onClick={() => handleIdentityChoice(false)}>\n              <EyeOff size={16} />\n              No, keep me anonymous\n            </button>\n          </div>\n\n          {isPublic && (\n            <div className={`email-section ${reducedMotion ? '' : 'slide-up'}`}>\n              <input \n                type=\"email\" \n                placeholder=\"you@example.com\" \n                className=\"email-input\" \n                value={email} \n                onChange={(e) => setEmail(e.target.value)} \n                aria-label=\"Email address\" \n              />\n              <button className=\"continue-button\" onClick={proceedFromIdentity}>\n                Continue\n                <ArrowRight size={16} />\n              </button>\n            </div>\n          )}\n\n          <div className=\"privacy-note\">We'll only use your email to send your receipt.</div>\n\n          <div className=\"actions\">\n            {!isPublic && (\n              <button className=\"primary-button\" onClick={proceedFromIdentity}>\n                Next\n                <ArrowRight size={16} />\n              </button>\n            )}\n          </div>\n        </div>\n      )}\n\n      {step === 4 && (\n        <div className={`stage center ${reducedMotion ? '' : 'fade-in'}`} aria-live=\"polite\">\n          <div className=\"step-header\">\n            <button className=\"back-button\" onClick={() => { setStep(3); vibrate(); }}>\n              <ArrowLeft size={20} />\n              Back\n            </button>\n            <div className=\"step-indicator\">Step 4 of 4</div>\n          </div>\n          \n          {error && <div className=\"error-message\" role=\"alert\">{error}</div>}\n          \n          <div className=\"summary-card\">\n            <div className=\"summary-header\">Your Message</div>\n                         <blockquote className=\"message-preview\">\"{message || ''}\"</blockquote>\n            <div className=\"summary-details\">\n              <div className=\"summary-item\">\n                <span>Amount:</span>\n                <span className=\"amount\">${amount === 'other' ? otherAmount : amount}</span>\n              </div>\n              <div className=\"summary-item\">\n                <span>Privacy:</span>\n                <span>{isPublic ? 'Public' : 'Anonymous'}</span>\n              </div>\n            </div>\n          </div>\n          \n          <button \n            className={`cta-button ${submitting ? 'disabled' : ''}`} \n            onClick={handleSubmit} \n            disabled={submitting}\n          >\n            {submitting ? (\n              <>\n                <div className=\"spinner\" />\n                Sending…\n              </>\n            ) : (\n              <>\n                <Heart size={20} />\n                Send my words and support\n              </>\n            )}\n          </button>\n          \n          <div className=\"alternative-options\">\n            <div className=\"options-label\">Or try these options:</div>\n            <div className=\"options-grid\">\n              <button className=\"option-button\" onClick={startXrpXamanFromWhisper}>\n                <MessageSquare size={16} />\n                XRP (Alternative)\n              </button>\n              <button \n                className=\"option-button\" \n                onClick={startRlusdCrossmarkFromWhisper} \n                disabled={crossmarkBusy}\n              >\n                {crossmarkBusy ? (\n                  <>\n                    <div className=\"spinner\" />\n                    Opening…\n                  </>\n                ) : (\n                  <>\n                    <Heart size={16} />\n                    RLUSD (CROSSMARK)\n                  </>\n                )}\n              </button>\n            </div>\n            {crossmarkError && <div className=\"error-message\" role=\"alert\">{crossmarkError}</div>}\n          </div>\n        </div>\n      )}\n\n      {step === 5 && (\n        <DonationConfirmation\n          message={message}\n          amount={amount === 'other' ? Number(otherAmount) : Number(amount)}\n          transactionHash={xamanState.phase === 'completed' ? xamanState.txid : undefined}\n          transactionUrl={transactionUrl || undefined}\n          isPublic={isPublic}\n          onReturnHome={() => window.location.href = '/'}\n        />\n      )}\n\n      {!reducedMotion && showConfetti && (\n        <div className=\"confetti\" aria-hidden>\n          {pieces.map((p, i) => (\n            <div key={i} className=\"piece\" style={{ left: p.left, bottom: p.bottom, background: p.background }} />\n          ))}\n        </div>\n      )}\n\n      <QRModal\n        open={xamanState.phase === 'creating' || xamanState.phase === 'ready'}\n        title=\"Donate with RLUSD\"\n        qrUrl={xamanState.phase === 'ready' ? xamanState.qrCode : undefined}\n        openLink={xamanState.phase === 'ready' ? `https://xumm.app/sign/${(xamanState as any).payloadId}` : undefined}\n        network=\"Testnet\"\n        status={\n          xamanState.phase === 'creating' \n            ? 'Creating RLUSD payment…' \n            : xamanState.phase === 'ready' \n              ? countdown > 0 \n                ? `Demo: Auto-confirmation in ${countdown}s` \n                : 'Scan to sign in Xaman'\n              : undefined\n        }\n        onClose={() => setXamanState({ phase: 'idle' })}\n      />\n    </div>\n  );\n};\n\nexport default WhisperFlow;\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACnE,SAASC,kBAAkB,QAAQ,iBAAiB;AACpD,SAASC,sBAAsB,QAAQ,+BAA+B;AACtE,SAASC,oBAAoB,EAAEC,gBAAgB,EAAEC,6BAA6B,QAAQ,8BAA8B;AACpH,OAAOC,OAAO,MAAM,kBAAkB;AACtC,OAAOC,oBAAoB,MAAM,wBAAwB;AACzD,SAASC,KAAK,EAAEC,aAAa,EAAEC,GAAG,EAAEC,SAAS,EAAEC,UAAU,EAAgBC,GAAG,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,IAAI,EAAEC,GAAG,EAAEC,KAAK,EAAEC,MAAM,EAAEC,KAAK,EAAEC,IAAI,EAAEC,IAAI,QAAQ,cAAc;AACjK,OAAO,mBAAmB;;AAE1B;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,SAAS,GAAG,gBAAgB;AAClC,MAAMC,WAAW,GAAG,0BAA0B;AAC9C,MAAMC,MAAM,GAAG,CACb,+CAA+C,EAC/C,wCAAwC,EACxC,oCAAoC,EACpC,yCAAyC,EACzC,6CAA6C,CAC9C;AAED,MAAMC,WAA6E,GAAG;EACpFC,IAAI,EAAE;IAAEC,MAAM,EAAE,SAAS;IAAEC,KAAK,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAU,CAAC;EAC/DC,IAAI,EAAE;IAAEH,MAAM,EAAE,SAAS;IAAEC,KAAK,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAU,CAAC;EAC/DE,KAAK,EAAE;IAAEJ,MAAM,EAAE,SAAS;IAAEC,KAAK,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAU;AACjE,CAAC;AAED,SAASG,SAASA,CAACC,IAAS,EAAE;EAAE,IAAI;IAAEC,YAAY,CAACC,OAAO,CAACb,SAAS,EAAEc,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC,CAAC;EAAE,CAAC,CAAC,MAAM,CAAC;AAAE;AACxG,SAASK,SAASA,CAAA,EAAe;EAAE,IAAI;IAAE,OAAOF,IAAI,CAACG,KAAK,CAACL,YAAY,CAACM,OAAO,CAAClB,SAAS,CAAC,IAAI,MAAM,CAAC;EAAE,CAAC,CAAC,MAAM;IAAE,OAAO,IAAI;EAAE;AAAE;AAEhI,SAASmB,kBAAkBA,CAAA,EAAe;EAAE,IAAI;IAAE,OAAOL,IAAI,CAACG,KAAK,CAACL,YAAY,CAACM,OAAO,CAACjB,WAAW,CAAC,IAAI,MAAM,CAAC;EAAE,CAAC,CAAC,MAAM;IAAE,OAAO,IAAI;EAAE;AAAE;AAC3I,SAASmB,oBAAoBA,CAAA,EAAG;EAAE,IAAI;IAAER,YAAY,CAACS,UAAU,CAACpB,WAAW,CAAC;EAAE,CAAC,CAAC,MAAM,CAAC;AAAE;AAEzF,SAASqB,gBAAgBA,CAAA,EAAG;EAAAC,EAAA;EAC1B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGpD,QAAQ,CAAC,KAAK,CAAC;EAC7CH,SAAS,CAAC,MAAM;IACd,MAAMwD,CAAC,GAAGC,MAAM,CAACC,UAAU,CAAC,kCAAkC,CAAC;IAC/DH,UAAU,CAACC,CAAC,CAACG,OAAO,CAAC;IACrB,MAAMC,OAAO,GAAIC,CAAsB,IAAKN,UAAU,CAACM,CAAC,CAACF,OAAO,CAAC;IACjE,IAAIH,CAAC,CAACM,gBAAgB,EAAEN,CAAC,CAACM,gBAAgB,CAAC,QAAQ,EAAEF,OAAO,CAAC,CAAC,KACzDJ,CAAC,CAACO,WAAW,CAACH,OAAc,CAAC;IAClC,OAAO,MAAM;MACX,IAAIJ,CAAC,CAACQ,mBAAmB,EAAER,CAAC,CAACQ,mBAAmB,CAAC,QAAQ,EAAEJ,OAAO,CAAC,CAAC,KAC/DJ,CAAC,CAACS,cAAc,CAACL,OAAc,CAAC;IACvC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,OAAON,OAAO;AAChB;AAACD,EAAA,CAdQD,gBAAgB;AAgBzB,SAASc,OAAOA,CAACC,EAAE,GAAG,EAAE,EAAE;EAAE,IAAI;IAAE,IAAIC,SAAS,CAACF,OAAO,EAAEE,SAAS,CAACF,OAAO,CAACC,EAAE,CAAC;EAAE,CAAC,CAAC,MAAM,CAAC;AAAE;AAE3F,MAAME,WAAqB,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAClC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGrE,QAAQ,CAAS,CAAC,CAAC;;EAE3C;EACA,MAAM,CAACsE,OAAO,EAAEC,UAAU,CAAC,GAAGvE,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACwE,MAAM,EAAEC,SAAS,CAAC,GAAGzE,QAAQ,CAAwB,EAAE,CAAC;EAC/D,MAAM,CAAC0E,WAAW,EAAEC,cAAc,CAAC,GAAG3E,QAAQ,CAAS,EAAE,CAAC;EAC1D,MAAM,CAAC4E,QAAQ,EAAEC,WAAW,CAAC,GAAG7E,QAAQ,CAAU,KAAK,CAAC;EACxD,MAAM,CAAC8E,KAAK,EAAEC,QAAQ,CAAC,GAAG/E,QAAQ,CAAS,EAAE,CAAC;EAG9C,MAAM,CAACgF,UAAU,EAAEC,aAAa,CAAC,GAAGjF,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACkF,KAAK,EAAEC,QAAQ,CAAC,GAAGnF,QAAQ,CAAgB,IAAI,CAAC;EAEvD,MAAM,CAACoF,QAAQ,EAAEC,WAAW,CAAC,GAAGrF,QAAQ,CAAU,KAAK,CAAC;EACxD,MAAMsF,YAAY,GAAGvF,MAAM,CAAgB,IAAI,CAAC;EAChD,MAAM,CAACwF,QAAQ,EAAEC,WAAW,CAAC,GAAGxF,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAACyF,YAAY,EAAEC,eAAe,CAAC,GAAG1F,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAAC2F,cAAc,EAAEC,iBAAiB,CAAC,GAAG5F,QAAQ,CAAgB,IAAI,CAAC;EACzE,MAAM,CAAC6F,UAAU,EAAEC,aAAa,CAAC,GAAG9F,QAAQ,CAM1C;IAAE+F,KAAK,EAAE;EAAO,CAAC,CAAC;EACpB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGjG,QAAQ,CAAS,CAAC,CAAC;EACrD,MAAMkG,YAAY,GAAGnG,MAAM,CAAgB,IAAI,CAAC;EAChD,MAAM,CAACoG,aAAa,EAAEC,gBAAgB,CAAC,GAAGpG,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACqG,cAAc,EAAEC,iBAAiB,CAAC,GAAGtG,QAAQ,CAAgB,IAAI,CAAC;EAEzE,MAAMuG,YAAY,GAAIC,OAAO,CAACC,GAAG,CAACC,6BAA6B,IAAe,oCAAoC;EAClH,MAAMC,YAAY,GAAG,oCAAoC;EAEzD,MAAMC,aAAa,GAAG3D,gBAAgB,CAAC,CAAC;;EAExC;EACA,MAAM,CAAC4D,SAAS,EAAEC,YAAY,CAAC,GAAG9G,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM+G,cAAc,GAAGhH,MAAM,CAAM,IAAI,CAAC;;EAExC;EACA,MAAMiH,YAAY,GAAGlH,OAAO,CAAC,MAAM,IAAImH,eAAe,CAAC3D,MAAM,CAAC4D,QAAQ,CAACC,MAAM,CAAC,EAAE,EAAE,CAAC;EACnF,MAAMC,OAAO,GAAG,CAACJ,YAAY,CAACK,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,EAAEC,WAAW,CAAC,CAAC;EAC/D,MAAMC,aAAa,GAAGP,YAAY,CAACK,GAAG,CAAC,QAAQ,CAAC;EAChD,MAAMG,cAAc,GAAGR,YAAY,CAACK,GAAG,CAAC,SAAS,CAAC;;EAElD;EACA,MAAMI,KAAK,GAAG3F,WAAW,CAACsF,OAAO,CAAC,IAAItF,WAAW,CAAC,MAAM,CAAC;EAEzDjC,SAAS,CAAC,MAAM;IACd,MAAM6H,EAAE,GAAGC,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAuB;IACnE,IAAIF,EAAE,EAAE;MACNA,EAAE,CAACG,KAAK,CAACC,WAAW,CAAC,UAAU,EAAEL,KAAK,CAACzF,MAAM,CAAC;MAC9C0F,EAAE,CAACG,KAAK,CAACC,WAAW,CAAC,SAAS,EAAEL,KAAK,CAACxF,KAAK,CAAC;MAC5CyF,EAAE,CAACG,KAAK,CAACC,WAAW,CAAC,SAAS,EAAEL,KAAK,CAACvF,KAAK,CAAC;IAC9C;EACF,CAAC,EAAE,CAACuF,KAAK,CAAC,CAAC;;EAEX;EACA5H,SAAS,CAAC,MAAM;IACd,MAAMkI,QAAQ,GAAGC,WAAW,CAAC,MAAM;MACjCxC,WAAW,CAAEyC,IAAI,IAAK,CAACA,IAAI,GAAG,CAAC,IAAIpG,MAAM,CAACqG,MAAM,CAAC;IACnD,CAAC,EAAE,IAAI,CAAC;IACR,OAAO,MAAMC,aAAa,CAACJ,QAAQ,CAAC;EACtC,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAlI,SAAS,CAAC,MAAM;IACd,IAAI0H,aAAa,EAAE;MACjB,MAAMa,GAAG,GAAGC,MAAM,CAACd,aAAa,CAAC;MACjC,IAAI,CAACe,KAAK,CAACF,GAAG,CAAC,IAAIA,GAAG,GAAG,CAAC,EAAE;QAC1B3D,SAAS,CAAC2D,GAAG,CAAC;QACd/C,WAAW,CAAC,IAAI,CAAC;QACjB,IAAIC,YAAY,CAACiD,OAAO,EAAEC,YAAY,CAAClD,YAAY,CAACiD,OAAO,CAAC;QAC5DjD,YAAY,CAACiD,OAAO,GAAGjF,MAAM,CAACmF,UAAU,CAAC,MAAMpD,WAAW,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC;MAC1E;IACF;IACA,IAAImC,cAAc,EAAE;MAClBjD,UAAU,CAACiD,cAAc,CAAC;IAC5B;EACF,CAAC,EAAE,CAACD,aAAa,EAAEC,cAAc,CAAC,CAAC;;EAEnC;EACA3H,SAAS,CAAC,MAAM;IACd,MAAM6I,KAAK,GAAG/F,SAAS,CAAC,CAAC;IACzB,IAAI+F,KAAK,IAAItE,IAAI,KAAK,CAAC,EAAE;MACvBG,UAAU,CAACmE,KAAK,CAACpE,OAAO,IAAI,EAAE,CAAC;MAC/BG,SAAS,CAACiE,KAAK,CAAClE,MAAM,IAAI,EAAE,CAAC;MAC7BG,cAAc,CAAC+D,KAAK,CAAChE,WAAW,IAAI,EAAE,CAAC;MACvCG,WAAW,CAAC6D,KAAK,CAAC9D,QAAQ,IAAI,KAAK,CAAC;MACpCG,QAAQ,CAAC2D,KAAK,CAAC5D,KAAK,IAAI,EAAE,CAAC;IAC7B;EACF,CAAC,EAAE,CAACV,IAAI,CAAC,CAAC;;EAEV;EACAvE,SAAS,CAAC,MAAM;IACd,IAAIuE,IAAI,GAAG,CAAC,EAAE;MACZ/B,SAAS,CAAC;QAAEiC,OAAO;QAAEE,MAAM;QAAEE,WAAW;QAAEE,QAAQ;QAAEE;MAAM,CAAC,CAAC;IAC9D;EACF,CAAC,EAAE,CAACR,OAAO,EAAEE,MAAM,EAAEE,WAAW,EAAEE,QAAQ,EAAEE,KAAK,EAAEV,IAAI,CAAC,CAAC;;EAEzD;EACAvE,SAAS,CAAC,MAAM;IACd,MAAM8I,OAAO,GAAG7F,kBAAkB,CAAC,CAAC;IACpC,IAAI6F,OAAO,IAAIA,OAAO,CAACvE,IAAI,KAAK,CAAC,EAAE;MACjC;MACArB,oBAAoB,CAAC,CAAC;IACxB;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAlD,SAAS,CAAC,MAAM;IACd,MAAM+I,QAAQ,GAAG,MAAAA,CAAA,KAAY;MAC3B,IAAIxE,IAAI,KAAK,CAAC,EAAE;QACd,MAAMuE,OAAO,GAAG7F,kBAAkB,CAAC,CAAC;QACpC,IAAI6F,OAAO,EAAE;UACX,IAAI;YACF,MAAME,YAAY,CAAC,CAAC;YACpB9F,oBAAoB,CAAC,CAAC;UACxB,CAAC,CAAC,OAAOmC,KAAK,EAAE;YACd4D,OAAO,CAAC5D,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;UACrD;QACF;MACF;IACF,CAAC;IAED5B,MAAM,CAACK,gBAAgB,CAAC,QAAQ,EAAEiF,QAAQ,CAAC;IAC3C,OAAO,MAAMtF,MAAM,CAACO,mBAAmB,CAAC,QAAQ,EAAE+E,QAAQ,CAAC;EAC7D,CAAC,EAAE,CAACxE,IAAI,CAAC,CAAC;;EAEV;EACAvE,SAAS,CAAC,MAAM;IACd,MAAM6H,EAAE,GAAGC,QAAQ,CAACC,aAAa,CAAC,aAAa,CAAuB;IACtE,IAAI,CAACF,EAAE,IAAId,aAAa,EAAE;IAE1B,MAAMmC,MAAM,GAAIrF,CAAe,IAAK;MAClC,MAAMsF,IAAI,GAAGtB,EAAE,CAACuB,qBAAqB,CAAC,CAAC;MACvC,MAAMC,CAAC,GAAI,CAACxF,CAAC,CAACyF,OAAO,GAAGH,IAAI,CAACI,IAAI,IAAIJ,IAAI,CAACK,KAAK,GAAI,GAAG;MACtD,MAAMC,CAAC,GAAI,CAAC5F,CAAC,CAAC6F,OAAO,GAAGP,IAAI,CAACQ,GAAG,IAAIR,IAAI,CAACS,MAAM,GAAI,GAAG;MACtD/B,EAAE,CAACG,KAAK,CAACC,WAAW,CAAC,KAAK,EAAE,GAAGoB,CAAC,GAAG,CAAC;MACpCxB,EAAE,CAACG,KAAK,CAACC,WAAW,CAAC,KAAK,EAAE,GAAGwB,CAAC,GAAG,CAAC;IACtC,CAAC;IAED5B,EAAE,CAAC/D,gBAAgB,CAAC,aAAa,EAAEoF,MAAM,CAAC;IAC1C,OAAO,MAAMrB,EAAE,CAAC7D,mBAAmB,CAAC,aAAa,EAAEkF,MAAM,CAAC;EAC5D,CAAC,EAAE,CAACnC,aAAa,CAAC,CAAC;EAEnB,MAAM8C,mBAAmB,GAAIhG,CAAyC,IAAK;IACzEa,UAAU,CAACb,CAAC,CAACiG,MAAM,CAACC,KAAK,CAAC;EAC5B,CAAC;EAID,MAAMC,YAAY,GAAIC,GAAqB,IAAK;IAC9C,IAAIA,GAAG,KAAK,OAAO,EAAE;MACnBrF,SAAS,CAAC,OAAO,CAAC;MAClBE,cAAc,CAAC,EAAE,CAAC;IACpB,CAAC,MAAM;MACLF,SAAS,CAACqF,GAAG,CAAC;MACdnF,cAAc,CAAC,EAAE,CAAC;IACpB;IACAU,WAAW,CAAC,IAAI,CAAC;IACjB,IAAIC,YAAY,CAACiD,OAAO,EAAEC,YAAY,CAAClD,YAAY,CAACiD,OAAO,CAAC;IAC5DjD,YAAY,CAACiD,OAAO,GAAGjF,MAAM,CAACmF,UAAU,CAAC,MAAMpD,WAAW,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC;IACxEtB,OAAO,CAAC,CAAC;EACX,CAAC;EAED,MAAMgG,UAAU,GAAGA,CAAA,KAAM;IAAEtF,SAAS,CAAC,EAAE,CAAC;IAAEY,WAAW,CAAC,KAAK,CAAC;EAAE,CAAC;EAC/D,MAAM2E,iBAAiB,GAAItG,CAAsC,IAAKiB,cAAc,CAACjB,CAAC,CAACiG,MAAM,CAACC,KAAK,CAAC;EACpG,MAAMK,oBAAoB,GAAIC,MAAe,IAAK;IAAErF,WAAW,CAACqF,MAAM,CAAC;IAAE,IAAI,CAACA,MAAM,EAAE;MAAEnF,QAAQ,CAAC,EAAE,CAAC;MAAEV,OAAO,CAAC,CAAC,CAAC;IAAE;IAAEN,OAAO,CAAC,CAAC;EAAE,CAAC;EAChI,MAAMoG,mBAAmB,GAAGA,CAAA,KAAM;IAAE9F,OAAO,CAAC,CAAC,CAAC;IAAEN,OAAO,CAAC,CAAC;EAAE,CAAC;;EAE5D;EACAlE,SAAS,CAAC,MAAM;IACd,MAAM+I,QAAQ,GAAG,MAAAA,CAAA,KAAY;MAC3B,IAAIxE,IAAI,KAAK,CAAC,EAAE;QACd,MAAMuE,OAAO,GAAG7F,kBAAkB,CAAC,CAAC;QACpC,IAAI6F,OAAO,EAAE;UACX,IAAI;YACF,MAAME,YAAY,CAAC,CAAC;YACpB9F,oBAAoB,CAAC,CAAC;UACxB,CAAC,CAAC,OAAOmC,KAAK,EAAE;YACd4D,OAAO,CAAC5D,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;UACrD;QACF;MACF;IACF,CAAC;IAED5B,MAAM,CAACK,gBAAgB,CAAC,QAAQ,EAAEiF,QAAQ,CAAC;IAC3C,OAAO,MAAMtF,MAAM,CAACO,mBAAmB,CAAC,QAAQ,EAAE+E,QAAQ,CAAC;EAC7D,CAAC,EAAE,CAACxE,IAAI,CAAC,CAAC;EAEV,MAAMyE,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI7D,UAAU,EAAE;IAEhBC,aAAa,CAAC,IAAI,CAAC;IACnBE,QAAQ,CAAC,IAAI,CAAC;IAEd,MAAMiF,WAAW,GAAG5F,MAAM,KAAK,OAAO,GAAG6D,MAAM,CAAC3D,WAAW,CAAC,GAAG2D,MAAM,CAAC7D,MAAM,CAAC;IAE7E,IAAI,CAAC4F,WAAW,IAAIA,WAAW,IAAI,CAAC,EAAE;MACpCjF,QAAQ,CAAC,6BAA6B,CAAC;MACvCF,aAAa,CAAC,KAAK,CAAC;MACpB;IACF;;IAEA;IACA,MAAMoF,0BAA0B,CAAC,CAAC;IAClCpF,aAAa,CAAC,KAAK,CAAC;EACtB,CAAC;EAED,MAAMoF,0BAA0B,GAAG,MAAAA,CAAA,KAAY;IAC7C,IAAIxE,UAAU,CAACE,KAAK,KAAK,MAAM,EAAE;IAEjCD,aAAa,CAAC;MAAEC,KAAK,EAAE;IAAW,CAAC,CAAC;IAEpC,IAAI;MACF,MAAMuE,QAAQ,GAAG,MAAMrK,kBAAkB,CAAC;QACxCsK,WAAW,EAAEhE,YAAY;QACzB/B,MAAM,EAAE,CAAC;QAAE;QACXgG,OAAO,EAAE,MAAM;QACfC,QAAQ,EAAE;MACZ,CAAC,CAAC;MAEF,IAAIH,QAAQ,CAACI,OAAO,IAAIJ,QAAQ,CAACK,SAAS,EAAE;QAC1C7E,aAAa,CAAC;UACZC,KAAK,EAAE,OAAO;UACd4E,SAAS,EAAEL,QAAQ,CAACK,SAAS;UAC7BC,MAAM,EAAEN,QAAQ,CAACM;QACnB,CAAC,CAAC;;QAEF;QACA3E,YAAY,CAAC,EAAE,CAAC;QAChB,MAAM4E,iBAAiB,GAAG7C,WAAW,CAAC,MAAM;UAC1C/B,YAAY,CAACgC,IAAI,IAAI;YACnB,IAAIA,IAAI,IAAI,CAAC,EAAE;cACbE,aAAa,CAAC0C,iBAAiB,CAAC;cAChC,IAAI3E,YAAY,CAACqC,OAAO,EAAEJ,aAAa,CAACjC,YAAY,CAACqC,OAAO,CAAC;cAC7DzC,aAAa,CAAC;gBACZC,KAAK,EAAE,WAAW;gBAClB+E,IAAI,EAAE,UAAU,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC;cACnD,CAAC,CAAC;cACFtF,iBAAiB,CAAC,gDAAgD,GAAGmF,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;cACrGxF,eAAe,CAAC,IAAI,CAAC;cACrB+C,UAAU,CAAC,MAAM/C,eAAe,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC;cAC9CrB,OAAO,CAAC,CAAC,CAAC;cACV,OAAO,CAAC;YACV;YACA,OAAO4D,IAAI,GAAG,CAAC;UACjB,CAAC,CAAC;QACJ,CAAC,EAAE,IAAI,CAAC;;QAER;QACA/B,YAAY,CAACqC,OAAO,GAAGjF,MAAM,CAAC0E,WAAW,CAAC,YAAY;UACpD,IAAI;YACF,MAAMmD,MAAM,GAAG,MAAMjL,sBAAsB,CAACoK,QAAQ,CAACK,SAAU,CAAC;YAChE,IAAIQ,MAAM,CAACC,SAAS,EAAE;cACpB,IAAIlF,YAAY,CAACqC,OAAO,EAAEJ,aAAa,CAACjC,YAAY,CAACqC,OAAO,CAAC;cAC7DzC,aAAa,CAAC;gBAAEC,KAAK,EAAE,WAAW;gBAAE+E,IAAI,EAAEK,MAAM,CAACL;cAAK,CAAC,CAAC;cACxDlF,iBAAiB,CAACuF,MAAM,CAACxF,cAAc,CAAC;cACxCD,eAAe,CAAC,IAAI,CAAC;cACrB+C,UAAU,CAAC,MAAM/C,eAAe,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC;cAC9CrB,OAAO,CAAC,CAAC,CAAC;YACZ;UACF,CAAC,CAAC,OAAOa,KAAK,EAAE;YACd4D,OAAO,CAAC5D,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;UACtD;QACF,CAAC,EAAE,IAAI,CAAC;MACV,CAAC,MAAM;QACLY,aAAa,CAAC;UAAEC,KAAK,EAAE,OAAO;UAAEzB,OAAO,EAAE;QAA2B,CAAC,CAAC;MACxE;IACF,CAAC,CAAC,OAAOY,KAAK,EAAE;MACd4D,OAAO,CAAC5D,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtDY,aAAa,CAAC;QAAEC,KAAK,EAAE,OAAO;QAAEzB,OAAO,EAAE;MAA2B,CAAC,CAAC;IACxE;EACF,CAAC;EAED,MAAM+G,wBAAwB,GAAG,MAAAA,CAAA,KAAY;IAC3C,IAAIxF,UAAU,CAACE,KAAK,KAAK,MAAM,EAAE;IAEjCD,aAAa,CAAC;MAAEC,KAAK,EAAE;IAAW,CAAC,CAAC;IAEpC,IAAI;MACF,MAAMqE,WAAW,GAAG5F,MAAM,KAAK,OAAO,GAAG6D,MAAM,CAAC3D,WAAW,CAAC,GAAG2D,MAAM,CAAC7D,MAAM,CAAC;MAC7E,MAAM8F,QAAQ,GAAG,MAAMrK,kBAAkB,CAAC;QACxCuE,MAAM,EAAE4F,WAAW;QACnBG,WAAW,EAAEhE,YAAY;QACzBiE,OAAO,EAAE,MAAM;QACfC,QAAQ,EAAE,SAAS;QACnBa,KAAK,EAAE,OAAO;QACdC,MAAM,EAAE5E;MACV,CAAC,CAAC;MAEF,IAAI2D,QAAQ,CAACI,OAAO,IAAIJ,QAAQ,CAACK,SAAS,EAAE;QAC1C7E,aAAa,CAAC;UACZC,KAAK,EAAE,OAAO;UACd4E,SAAS,EAAEL,QAAQ,CAACK,SAAS;UAC7BC,MAAM,EAAEN,QAAQ,CAACM;QACnB,CAAC,CAAC;;QAEF;QACA1E,YAAY,CAACqC,OAAO,GAAGjF,MAAM,CAAC0E,WAAW,CAAC,YAAY;UACpD,IAAI;YACF,MAAMmD,MAAM,GAAG,MAAMjL,sBAAsB,CAACoK,QAAQ,CAACK,SAAU,CAAC;YAChE,IAAIQ,MAAM,CAACC,SAAS,EAAE;cACpB,IAAIlF,YAAY,CAACqC,OAAO,EAAEJ,aAAa,CAACjC,YAAY,CAACqC,OAAO,CAAC;cAC7DzC,aAAa,CAAC;gBAAEC,KAAK,EAAE,WAAW;gBAAE+E,IAAI,EAAEK,MAAM,CAACL;cAAK,CAAC,CAAC;cACxDlF,iBAAiB,CAACuF,MAAM,CAACxF,cAAc,CAAC;cACxCD,eAAe,CAAC,IAAI,CAAC;cACrB+C,UAAU,CAAC,MAAM/C,eAAe,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC;cAC9CrB,OAAO,CAAC,CAAC,CAAC;YACZ;UACF,CAAC,CAAC,OAAOa,KAAK,EAAE;YACd4D,OAAO,CAAC5D,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;UACtD;QACF,CAAC,EAAE,IAAI,CAAC;MACV,CAAC,MAAM;QACLY,aAAa,CAAC;UAAEC,KAAK,EAAE,OAAO;UAAEzB,OAAO,EAAE;QAA2B,CAAC,CAAC;MACxE;IACF,CAAC,CAAC,OAAOY,KAAK,EAAE;MACd4D,OAAO,CAAC5D,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtDY,aAAa,CAAC;QAAEC,KAAK,EAAE,OAAO;QAAEzB,OAAO,EAAE;MAA2B,CAAC,CAAC;IACxE;EACF,CAAC;EAED,MAAMkH,8BAA8B,GAAG,MAAAA,CAAA,KAAY;IACjD,IAAIrF,aAAa,EAAE;IAEnBC,gBAAgB,CAAC,IAAI,CAAC;IACtBE,iBAAiB,CAAC,IAAI,CAAC;IAEvB,IAAI;MACF,IAAI,CAACnG,oBAAoB,CAAC,CAAC,EAAE;QAC3B,MAAM,IAAIsL,KAAK,CAAC,+BAA+B,CAAC;MAClD;MAEA,MAAMrL,gBAAgB,CAAC,CAAC;MACxB,MAAMgK,WAAW,GAAG5F,MAAM,KAAK,OAAO,GAAG6D,MAAM,CAAC3D,WAAW,CAAC,GAAG2D,MAAM,CAAC7D,MAAM,CAAC;MAE7E,MAAMkH,MAAM,GAAG,MAAMrL,6BAA6B,CAAC;QACjDmE,MAAM,EAAE4F,WAAW;QACnBG,WAAW,EAAEhE,YAAY;QACzBiE,OAAO,EAAE,MAAM;QACfmB,OAAO,EAAE;MACX,CAAC,CAAC;MAEF,IAAID,MAAM,CAACE,EAAE,EAAE;QACbhG,iBAAiB,CAAC8F,MAAM,CAACG,QAAQ,IAAI,IAAI,CAAC;QAC1CnG,eAAe,CAAC,IAAI,CAAC;QACrB+C,UAAU,CAAC,MAAM/C,eAAe,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC;QAC9CrB,OAAO,CAAC,CAAC,CAAC;MACZ,CAAC,MAAM;QACLiC,iBAAiB,CAACoF,MAAM,CAACxG,KAAK,IAAI,gBAAgB,CAAC;MACrD;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACd4D,OAAO,CAAC5D,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjDoB,iBAAiB,CAACpB,KAAK,YAAYuG,KAAK,GAAGvG,KAAK,CAACZ,OAAO,GAAG,gBAAgB,CAAC;IAC9E,CAAC,SAAS;MACR8B,gBAAgB,CAAC,KAAK,CAAC;IACzB;EACF,CAAC;EAED,MAAM0F,SAAS,GAAGA,CAAA,KAAM;IACtB,IAAIjF,SAAS,EAAE;MACb,IAAIE,cAAc,CAACwB,OAAO,EAAE;QAC1BxB,cAAc,CAACwB,OAAO,CAACwD,IAAI,CAAC,CAAC;MAC/B;MACAjF,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC,MAAM;MACL,IAAI,yBAAyB,IAAIxD,MAAM,EAAE;QACvC,MAAM0I,WAAW,GAAG,IAAK1I,MAAM,CAAS2I,uBAAuB,CAAC,CAAC;QACjED,WAAW,CAACE,UAAU,GAAG,KAAK;QAC9BF,WAAW,CAACG,cAAc,GAAG,KAAK;QAClCH,WAAW,CAACI,IAAI,GAAG,OAAO;QAE1BJ,WAAW,CAACK,OAAO,GAAG,MAAMvF,YAAY,CAAC,IAAI,CAAC;QAC9CkF,WAAW,CAACM,QAAQ,GAAIC,KAAU,IAAK;UACrC,MAAMC,UAAU,GAAGD,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACD,UAAU;UACjDjI,UAAU,CAACiI,UAAU,CAAC;QACxB,CAAC;QACDR,WAAW,CAACU,OAAO,GAAG,MAAM5F,YAAY,CAAC,KAAK,CAAC;QAC/CkF,WAAW,CAACW,KAAK,GAAG,MAAM7F,YAAY,CAAC,KAAK,CAAC;QAE7CC,cAAc,CAACwB,OAAO,GAAGyD,WAAW;QACpCA,WAAW,CAACY,KAAK,CAAC,CAAC;MACrB,CAAC,MAAM;QACLC,KAAK,CAAC,kDAAkD,CAAC;MAC3D;IACF;EACF,CAAC;;EAED;EACA,MAAMC,MAAM,GAAGC,KAAK,CAACC,IAAI,CAAC;IAAE9E,MAAM,EAAE;EAAE,CAAC,CAAC,CAAC+E,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,MAAM;IACtD/D,IAAI,EAAE,GAAG,EAAE,GAAG+D,CAAC,GAAG,EAAE,GAAG;IACvBC,MAAM,EAAE,MAAM;IACdC,UAAU,EAAEF,CAAC,GAAG,CAAC,GAAG1F,KAAK,CAACzF,MAAM,GAAGyF,KAAK,CAACxF;EAC3C,CAAC,CAAC,CAAC;EAEH,oBACET,OAAA;IAAK8L,SAAS,EAAE,WAAW1G,aAAa,GAAG,gBAAgB,GAAG,EAAE,EAAG;IAAA2G,QAAA,GAGhEnJ,IAAI,KAAK,CAAC,iBACT5C,OAAA;MAAK8L,SAAS,EAAE,cAAc1G,aAAa,GAAG,EAAE,GAAG,SAAS,EAAG;MAAA2G,QAAA,eAC7D/L,OAAA;QAAK8L,SAAS,EAAC,YAAY;QAACE,IAAI,EAAC,KAAK;QAAC,cAAYpG,OAAO,GAAG,SAASA,OAAO,EAAE,GAAG,aAAc;QAAAmG,QAAA,gBAC9F/L,OAAA;UAAK8L,SAAS,EAAC;QAAS;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAG3BpM,OAAA;UAAK8L,SAAS,EAAC,mBAAmB;UAAAC,QAAA,gBAEhC/L,OAAA;YAAK8L,SAAS,EAAC,eAAe;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEJ,IAAI,EAAE,IAAI;cAAEyE,cAAc,EAAE;YAAK,CAAE;YAAAN,QAAA,eACrF/L,OAAA,CAACT,QAAQ;cAAC+M,IAAI,EAAE,EAAG;cAACC,KAAK,EAAEtG,KAAK,CAACzF;YAAO;cAAAyL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxC,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,eAAe;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEJ,IAAI,EAAE,KAAK;cAAEyE,cAAc,EAAE;YAAK,CAAE;YAAAN,QAAA,eACtF/L,OAAA,CAACR,IAAI;cAAC8M,IAAI,EAAE,EAAG;cAACC,KAAK,EAAEtG,KAAK,CAACxF;YAAM;cAAAwL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnC,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,eAAe;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEJ,IAAI,EAAE,IAAI;cAAEyE,cAAc,EAAE;YAAK,CAAE;YAAAN,QAAA,eACrF/L,OAAA,CAAChB,KAAK;cAACsN,IAAI,EAAE,EAAG;cAACC,KAAK,EAAEtG,KAAK,CAACzF;YAAO;cAAAyL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrC,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,eAAe;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEJ,IAAI,EAAE,KAAK;cAAEyE,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACxF/L,OAAA,CAACP,GAAG;cAAC6M,IAAI,EAAE,EAAG;cAACC,KAAK,EAAEtG,KAAK,CAACxF;YAAM;cAAAwL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC,CAAC,eAGNpM,OAAA;YAAK8L,SAAS,EAAC,eAAe;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEwE,KAAK,EAAE,IAAI;cAAEH,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACxF/L,OAAA,CAACN,KAAK;cAAC4M,IAAI,EAAE,EAAG;cAACC,KAAK,EAAEtG,KAAK,CAACzF;YAAO;cAAAyL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrC,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,eAAe;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEwE,KAAK,EAAE,KAAK;cAAEH,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACzF/L,OAAA,CAACL,MAAM;cAAC2M,IAAI,EAAE,EAAG;cAACC,KAAK,EAAEtG,KAAK,CAACxF;YAAM;cAAAwL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrC,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,eAAe;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEwE,KAAK,EAAE,IAAI;cAAEH,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACxF/L,OAAA,CAACJ,KAAK;cAAC0M,IAAI,EAAE,EAAG;cAACC,KAAK,EAAEtG,KAAK,CAACzF;YAAO;cAAAyL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrC,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,eAAe;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEwE,KAAK,EAAE,KAAK;cAAEH,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACzF/L,OAAA,CAACH,IAAI;cAACyM,IAAI,EAAE,EAAG;cAACC,KAAK,EAAEtG,KAAK,CAACxF;YAAM;cAAAwL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnC,CAAC,eAGNpM,OAAA;YAAK8L,SAAS,EAAC,eAAe;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEwE,KAAK,EAAE,KAAK;cAAEH,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACzF/L,OAAA,CAACT,QAAQ;cAAC+M,IAAI,EAAE,EAAG;cAACC,KAAK,EAAEtG,KAAK,CAACzF;YAAO;cAAAyL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxC,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,eAAe;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEwE,KAAK,EAAE,KAAK;cAAEH,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACzF/L,OAAA,CAACR,IAAI;cAAC8M,IAAI,EAAE,EAAG;cAACC,KAAK,EAAEtG,KAAK,CAACxF;YAAM;cAAAwL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnC,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,eAAe;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEwE,KAAK,EAAE,KAAK;cAAEH,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACzF/L,OAAA,CAAChB,KAAK;cAACsN,IAAI,EAAE,EAAG;cAACC,KAAK,EAAEtG,KAAK,CAACzF;YAAO;cAAAyL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrC,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,eAAe;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEwE,KAAK,EAAE,KAAK;cAAEH,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACzF/L,OAAA,CAACP,GAAG;cAAC6M,IAAI,EAAE,EAAG;cAACC,KAAK,EAAEtG,KAAK,CAACxF;YAAM;cAAAwL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,eAAe;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEwE,KAAK,EAAE,KAAK;cAAEH,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACzF/L,OAAA,CAACN,KAAK;cAAC4M,IAAI,EAAE,EAAG;cAACC,KAAK,EAAEtG,KAAK,CAACzF;YAAO;cAAAyL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrC,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,eAAe;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEwE,KAAK,EAAE,KAAK;cAAEH,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACzF/L,OAAA,CAACL,MAAM;cAAC2M,IAAI,EAAE,EAAG;cAACC,KAAK,EAAEtG,KAAK,CAACxF;YAAM;cAAAwL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrC,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,eAAe;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEwE,KAAK,EAAE,KAAK;cAAEH,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACzF/L,OAAA,CAACJ,KAAK;cAAC0M,IAAI,EAAE,EAAG;cAACC,KAAK,EAAEtG,KAAK,CAACzF;YAAO;cAAAyL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrC,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,eAAe;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEwE,KAAK,EAAE,KAAK;cAAEH,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACzF/L,OAAA,CAACH,IAAI;cAACyM,IAAI,EAAE,EAAG;cAACC,KAAK,EAAEtG,KAAK,CAACxF;YAAM;cAAAwL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnC,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,eAAe;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEwE,KAAK,EAAE,KAAK;cAAEH,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACzF/L,OAAA,CAACT,QAAQ;cAAC+M,IAAI,EAAE,EAAG;cAACC,KAAK,EAAEtG,KAAK,CAACzF;YAAO;cAAAyL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNpM,OAAA;UAAK8L,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B/L,OAAA;YAAK8L,SAAS,EAAC,cAAc;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEJ,IAAI,EAAE,IAAI;cAAEyE,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACtF/L,OAAA;cAAK8L,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAChC/L,OAAA,CAACJ,KAAK;gBAAC0M,IAAI,EAAE,EAAG;gBAACC,KAAK,EAAEtG,KAAK,CAACzF;cAAO;gBAAAyL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACxCpM,OAAA;gBAAK8L,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAC;cAAgB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,cAAc;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEJ,IAAI,EAAE,KAAK;cAAEyE,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACvF/L,OAAA;cAAK8L,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAChC/L,OAAA,CAAChB,KAAK;gBAACsN,IAAI,EAAE,EAAG;gBAACC,KAAK,EAAEtG,KAAK,CAACzF;cAAO;gBAAAyL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACxCpM,OAAA;gBAAK8L,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAC;cAAqB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,cAAc;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEJ,IAAI,EAAE,KAAK;cAAEyE,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACvF/L,OAAA;cAAK8L,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAChC/L,OAAA,CAACL,MAAM;gBAAC2M,IAAI,EAAE,EAAG;gBAACC,KAAK,EAAEtG,KAAK,CAACzF;cAAO;gBAAAyL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACzCpM,OAAA;gBAAK8L,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAC;cAAiB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,cAAc;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEJ,IAAI,EAAE,KAAK;cAAEyE,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACvF/L,OAAA;cAAK8L,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAChC/L,OAAA,CAACN,KAAK;gBAAC4M,IAAI,EAAE,EAAG;gBAACC,KAAK,EAAEtG,KAAK,CAACzF;cAAO;gBAAAyL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACxCpM,OAAA;gBAAK8L,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAC;cAAa;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/C;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,cAAc;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEJ,IAAI,EAAE,KAAK;cAAEyE,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACvF/L,OAAA;cAAK8L,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAChC/L,OAAA,CAACH,IAAI;gBAACyM,IAAI,EAAE,EAAG;gBAACC,KAAK,EAAEtG,KAAK,CAACzF;cAAO;gBAAAyL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACvCpM,OAAA;gBAAK8L,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAC;cAAe;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,cAAc;YAACzF,KAAK,EAAE;cAAE2B,GAAG,EAAE,KAAK;cAAEJ,IAAI,EAAE,KAAK;cAAEyE,cAAc,EAAE;YAAO,CAAE;YAAAN,QAAA,eACvF/L,OAAA;cAAK8L,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAChC/L,OAAA,CAACT,QAAQ;gBAAC+M,IAAI,EAAE,EAAG;gBAACC,KAAK,EAAEtG,KAAK,CAACzF;cAAO;gBAAAyL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAC3CpM,OAAA;gBAAK8L,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAC;cAAc;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENpM,OAAA;UAAK8L,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC1B/L,OAAA;YAEE8L,SAAS,EAAE,cAAc1G,aAAa,GAAG,EAAE,GAAG,YAAY,EAAG;YAAA2G,QAAA,EAE5D1L,MAAM,CAAC0D,QAAQ;UAAC,GAHZA,QAAQ;YAAAkI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAIV,CAAC,eACPpM,OAAA;YAAQ8L,SAAS,EAAC,YAAY;YAACW,OAAO,EAAEA,CAAA,KAAM;cAAE5J,OAAO,CAAC,CAAC,CAAC;cAAEN,OAAO,CAAC,CAAC;YAAE,CAAE;YAAAwJ,QAAA,gBACvE/L,OAAA,CAACF,IAAI;cAACwM,IAAI,EAAE;YAAG;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,qBAEpB;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAEAxJ,IAAI,KAAK,CAAC,iBACT5C,OAAA;MAAK8L,SAAS,EAAE,gBAAgB1G,aAAa,GAAG,EAAE,GAAG,SAAS,EAAG;MAAC,aAAU,QAAQ;MAAA2G,QAAA,gBAClF/L,OAAA;QAAK8L,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1B/L,OAAA;UAAQ8L,SAAS,EAAC,aAAa;UAACW,OAAO,EAAEA,CAAA,KAAM;YAAE5J,OAAO,CAAC,CAAC,CAAC;YAAEN,OAAO,CAAC,CAAC;UAAE,CAAE;UAAAwJ,QAAA,gBACxE/L,OAAA,CAACb,SAAS;YAACmN,IAAI,EAAE;UAAG;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,QAEzB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTpM,OAAA;UAAK8L,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAAC;QAAW;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9C,CAAC,eAENpM,OAAA;QAAK8L,SAAS,EAAC,qBAAqB;QAAAC,QAAA,EAAC;MAAmB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC9DpM,OAAA;QAAK8L,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9B/L,OAAA;UACE8L,SAAS,EAAC,eAAe;UACzBY,WAAW,EAAC,mCAAmC;UAC/CtE,KAAK,EAAEtF,OAAQ;UACf6J,QAAQ,EAAEzE,mBAAoB;UAC9B0E,SAAS;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC,eACFpM,OAAA;UAAK8L,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B/L,OAAA;YAAK8L,SAAS,EAAC,MAAM;YAAAC,QAAA,EAAE1G,SAAS,GAAG,+BAA+B,GAAG;UAAmB;YAAA4G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC/FpM,OAAA;YAAQ8L,SAAS,EAAC,YAAY;YAACW,OAAO,EAAEnC,SAAU;YAAC,gBAAcjF,SAAU;YAAA0G,QAAA,gBACzE/L,OAAA,CAACd,GAAG;cAACoN,IAAI,EAAE;YAAG;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,EAChB/G,SAAS,GAAG,MAAM,GAAG,OAAO;UAAA;YAAA4G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENpM,OAAA;QAAK8L,SAAS,EAAC,SAAS;QAAAC,QAAA,eACtB/L,OAAA;UACE8L,SAAS,EAAC,gBAAgB;UAC1BW,OAAO,EAAEA,CAAA,KAAO,CAAC3J,OAAO,IAAI,EAAE,EAAE+J,IAAI,CAAC,CAAC,CAACnG,MAAM,GAAG,CAAC,IAAI7D,OAAO,CAAC,CAAC,CAAC,EAAEN,OAAO,CAAC,CAAC,IAAI,IAAM;UACpFuK,QAAQ,EAAE,CAAChK,OAAO,IAAI,EAAE,EAAE+J,IAAI,CAAC,CAAC,CAACnG,MAAM,KAAK,CAAE;UAAAqF,QAAA,GAC/C,MAEC,eAAA/L,OAAA,CAACZ,UAAU;YAACkN,IAAI,EAAE;UAAG;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAEAxJ,IAAI,KAAK,CAAC,iBACT5C,OAAA;MAAK8L,SAAS,EAAE,gBAAgB1G,aAAa,GAAG,EAAE,GAAG,SAAS,EAAG;MAAC,aAAU,QAAQ;MAAA2G,QAAA,gBAClF/L,OAAA;QAAK8L,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1B/L,OAAA;UAAQ8L,SAAS,EAAC,aAAa;UAACW,OAAO,EAAEA,CAAA,KAAM;YAAE5J,OAAO,CAAC,CAAC,CAAC;YAAEN,OAAO,CAAC,CAAC;UAAE,CAAE;UAAAwJ,QAAA,gBACxE/L,OAAA,CAACb,SAAS;YAACmN,IAAI,EAAE;UAAG;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,QAEzB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTpM,OAAA;UAAK8L,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAAC;QAAW;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9C,CAAC,eAENpM,OAAA;QAAK8L,SAAS,EAAC,QAAQ;QAAAC,QAAA,EAAC;MAA6B;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC3DpM,OAAA;QAAK8L,SAAS,EAAC,aAAa;QAAAC,QAAA,GACzB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAACN,GAAG,CAAEsB,CAAC,iBACvB/M,OAAA;UAAgB8L,SAAS,EAAE,eAAe9I,MAAM,KAAK+J,CAAC,GAAG,UAAU,GAAG,EAAE,EAAG;UAACN,OAAO,EAAEA,CAAA,KAAMpE,YAAY,CAAC0E,CAAC,CAAE;UAAAhB,QAAA,GAAC,GACzG,EAACgB,CAAC;QAAA,GADQA,CAAC;UAAAd,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEN,CACT,CAAC,eACFpM,OAAA;UAAQ8L,SAAS,EAAE,eAAe9I,MAAM,KAAK,EAAE,IAAIE,WAAW,GAAG,UAAU,GAAG,EAAE,EAAG;UAACuJ,OAAO,EAAEA,CAAA,KAAMpE,YAAY,CAAC,OAAO,CAAE;UAAA0D,QAAA,EAAC;QAE1H;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,EAELxI,QAAQ,iBACP5D,OAAA;QAAK8L,SAAS,EAAC,WAAW;QAAAC,QAAA,GAAC,mBACR,eAAA/L,OAAA;UAAQ8L,SAAS,EAAC,aAAa;UAACW,OAAO,EAAElE,UAAW;UAAAwD,QAAA,EAAC;QAAI;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChF,CACN,EAEApJ,MAAM,KAAK,EAAE,iBACZhD,OAAA;QAAK8L,SAAS,EAAE,oBAAoB1G,aAAa,GAAG,EAAE,GAAG,UAAU,EAAG;QAAA2G,QAAA,gBACpE/L,OAAA;UACEgN,IAAI,EAAC,QAAQ;UACbC,SAAS,EAAC,SAAS;UACnBC,GAAG,EAAE,CAAE;UACPtK,IAAI,EAAC,MAAM;UACX8J,WAAW,EAAC,cAAc;UAC1BZ,SAAS,EAAC,aAAa;UACvB1D,KAAK,EAAElF,WAAY;UACnByJ,QAAQ,EAAEnE;QAAkB;UAAAyD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B,CAAC,eACFpM,OAAA;UACE8L,SAAS,EAAC,cAAc;UACxBW,OAAO,EAAEA,CAAA,KAAO5F,MAAM,CAAC3D,WAAW,CAAC,GAAG,CAAC,IAAID,SAAS,CAAC4D,MAAM,CAAC3D,WAAW,CAAC,CAAC,EAAEL,OAAO,CAAC,CAAC,CAAC,EAAEN,OAAO,CAAC,CAAC,IAAI,IAAM;UAC1GuK,QAAQ,EAAE,CAAC5J,WAAW,IAAI2D,MAAM,CAAC3D,WAAW,CAAC,IAAI,CAAE;UAAA6I,QAAA,EACpD;QAED;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CACN,eAEDpM,OAAA;QAAK8L,SAAS,EAAC,SAAS;QAAAC,QAAA,EACrB/I,MAAM,KAAK,EAAE,iBACZhD,OAAA;UAAQ8L,SAAS,EAAC,gBAAgB;UAACW,OAAO,EAAEA,CAAA,KAAM;YAAE5J,OAAO,CAAC,CAAC,CAAC;YAAEN,OAAO,CAAC,CAAC;UAAE,CAAE;UAAAwJ,QAAA,GAAC,MAE5E,eAAA/L,OAAA,CAACZ,UAAU;YAACkN,IAAI,EAAE;UAAG;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClB;MACT;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAEAxJ,IAAI,KAAK,CAAC,iBACT5C,OAAA;MAAK8L,SAAS,EAAE,gBAAgB1G,aAAa,GAAG,EAAE,GAAG,SAAS,EAAG;MAAC,aAAU,QAAQ;MAAA2G,QAAA,gBAClF/L,OAAA;QAAK8L,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1B/L,OAAA;UAAQ8L,SAAS,EAAC,aAAa;UAACW,OAAO,EAAEA,CAAA,KAAM;YAAE5J,OAAO,CAAC,CAAC,CAAC;YAAEN,OAAO,CAAC,CAAC;UAAE,CAAE;UAAAwJ,QAAA,gBACxE/L,OAAA,CAACb,SAAS;YAACmN,IAAI,EAAE;UAAG;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,QAEzB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTpM,OAAA;UAAK8L,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAAC;QAAW;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9C,CAAC,eAENpM,OAAA;QAAK8L,SAAS,EAAC,QAAQ;QAAAC,QAAA,EAAC;MAA6C;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC3EpM,OAAA;QAAK8L,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9B/L,OAAA;UAAQ8L,SAAS,EAAE,iBAAiB1I,QAAQ,GAAG,QAAQ,GAAG,EAAE,EAAG;UAACqJ,OAAO,EAAEA,CAAA,KAAMhE,oBAAoB,CAAC,IAAI,CAAE;UAAAsD,QAAA,gBACxG/L,OAAA,CAACX,GAAG;YAACiN,IAAI,EAAE;UAAG;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,sBAEnB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTpM,OAAA;UAAQ8L,SAAS,EAAE,iBAAiB,CAAC1I,QAAQ,GAAG,QAAQ,GAAG,EAAE,EAAG;UAACqJ,OAAO,EAAEA,CAAA,KAAMhE,oBAAoB,CAAC,KAAK,CAAE;UAAAsD,QAAA,gBAC1G/L,OAAA,CAACV,MAAM;YAACgN,IAAI,EAAE;UAAG;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,yBAEtB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,EAELhJ,QAAQ,iBACPpD,OAAA;QAAK8L,SAAS,EAAE,iBAAiB1G,aAAa,GAAG,EAAE,GAAG,UAAU,EAAG;QAAA2G,QAAA,gBACjE/L,OAAA;UACEgN,IAAI,EAAC,OAAO;UACZN,WAAW,EAAC,iBAAiB;UAC7BZ,SAAS,EAAC,aAAa;UACvB1D,KAAK,EAAE9E,KAAM;UACbqJ,QAAQ,EAAGzK,CAAC,IAAKqB,QAAQ,CAACrB,CAAC,CAACiG,MAAM,CAACC,KAAK,CAAE;UAC1C,cAAW;QAAe;UAAA6D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3B,CAAC,eACFpM,OAAA;UAAQ8L,SAAS,EAAC,iBAAiB;UAACW,OAAO,EAAE9D,mBAAoB;UAAAoD,QAAA,GAAC,UAEhE,eAAA/L,OAAA,CAACZ,UAAU;YAACkN,IAAI,EAAE;UAAG;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CACN,eAEDpM,OAAA;QAAK8L,SAAS,EAAC,cAAc;QAAAC,QAAA,EAAC;MAA+C;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAEnFpM,OAAA;QAAK8L,SAAS,EAAC,SAAS;QAAAC,QAAA,EACrB,CAAC3I,QAAQ,iBACRpD,OAAA;UAAQ8L,SAAS,EAAC,gBAAgB;UAACW,OAAO,EAAE9D,mBAAoB;UAAAoD,QAAA,GAAC,MAE/D,eAAA/L,OAAA,CAACZ,UAAU;YAACkN,IAAI,EAAE;UAAG;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClB;MACT;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAEAxJ,IAAI,KAAK,CAAC,iBACT5C,OAAA;MAAK8L,SAAS,EAAE,gBAAgB1G,aAAa,GAAG,EAAE,GAAG,SAAS,EAAG;MAAC,aAAU,QAAQ;MAAA2G,QAAA,gBAClF/L,OAAA;QAAK8L,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1B/L,OAAA;UAAQ8L,SAAS,EAAC,aAAa;UAACW,OAAO,EAAEA,CAAA,KAAM;YAAE5J,OAAO,CAAC,CAAC,CAAC;YAAEN,OAAO,CAAC,CAAC;UAAE,CAAE;UAAAwJ,QAAA,gBACxE/L,OAAA,CAACb,SAAS;YAACmN,IAAI,EAAE;UAAG;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,QAEzB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTpM,OAAA;UAAK8L,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAAC;QAAW;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9C,CAAC,EAEL1I,KAAK,iBAAI1D,OAAA;QAAK8L,SAAS,EAAC,eAAe;QAACE,IAAI,EAAC,OAAO;QAAAD,QAAA,EAAErI;MAAK;QAAAuI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAEnEpM,OAAA;QAAK8L,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3B/L,OAAA;UAAK8L,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAAC;QAAY;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACrCpM,OAAA;UAAY8L,SAAS,EAAC,iBAAiB;UAAAC,QAAA,GAAC,IAAC,EAACjJ,OAAO,IAAI,EAAE,EAAC,IAAC;QAAA;UAAAmJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAY,CAAC,eACnFpM,OAAA;UAAK8L,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9B/L,OAAA;YAAK8L,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAC3B/L,OAAA;cAAA+L,QAAA,EAAM;YAAO;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACpBpM,OAAA;cAAM8L,SAAS,EAAC,QAAQ;cAAAC,QAAA,GAAC,GAAC,EAAC/I,MAAM,KAAK,OAAO,GAAGE,WAAW,GAAGF,MAAM;YAAA;cAAAiJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzE,CAAC,eACNpM,OAAA;YAAK8L,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAC3B/L,OAAA;cAAA+L,QAAA,EAAM;YAAQ;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACrBpM,OAAA;cAAA+L,QAAA,EAAO3I,QAAQ,GAAG,QAAQ,GAAG;YAAW;cAAA6I,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENpM,OAAA;QACE8L,SAAS,EAAE,cAActI,UAAU,GAAG,UAAU,GAAG,EAAE,EAAG;QACxDiJ,OAAO,EAAEpF,YAAa;QACtByF,QAAQ,EAAEtJ,UAAW;QAAAuI,QAAA,EAEpBvI,UAAU,gBACTxD,OAAA,CAAAE,SAAA;UAAA6L,QAAA,gBACE/L,OAAA;YAAK8L,SAAS,EAAC;UAAS;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,iBAE7B;QAAA,eAAE,CAAC,gBAEHpM,OAAA,CAAAE,SAAA;UAAA6L,QAAA,gBACE/L,OAAA,CAAChB,KAAK;YAACsN,IAAI,EAAE;UAAG;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,6BAErB;QAAA,eAAE;MACH;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACK,CAAC,eAETpM,OAAA;QAAK8L,SAAS,EAAC,qBAAqB;QAAAC,QAAA,gBAClC/L,OAAA;UAAK8L,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAqB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC1DpM,OAAA;UAAK8L,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B/L,OAAA;YAAQ8L,SAAS,EAAC,eAAe;YAACW,OAAO,EAAE5C,wBAAyB;YAAAkC,QAAA,gBAClE/L,OAAA,CAACf,aAAa;cAACqN,IAAI,EAAE;YAAG;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,qBAE7B;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACTpM,OAAA;YACE8L,SAAS,EAAC,eAAe;YACzBW,OAAO,EAAEzC,8BAA+B;YACxC8C,QAAQ,EAAEnI,aAAc;YAAAoH,QAAA,EAEvBpH,aAAa,gBACZ3E,OAAA,CAAAE,SAAA;cAAA6L,QAAA,gBACE/L,OAAA;gBAAK8L,SAAS,EAAC;cAAS;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,iBAE7B;YAAA,eAAE,CAAC,gBAEHpM,OAAA,CAAAE,SAAA;cAAA6L,QAAA,gBACE/L,OAAA,CAAChB,KAAK;gBAACsN,IAAI,EAAE;cAAG;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,qBAErB;YAAA,eAAE;UACH;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,EACLvH,cAAc,iBAAI7E,OAAA;UAAK8L,SAAS,EAAC,eAAe;UAACE,IAAI,EAAC,OAAO;UAAAD,QAAA,EAAElH;QAAc;UAAAoH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAEAxJ,IAAI,KAAK,CAAC,iBACT5C,OAAA,CAACjB,oBAAoB;MACnB+D,OAAO,EAAEA,OAAQ;MACjBE,MAAM,EAAEA,MAAM,KAAK,OAAO,GAAG6D,MAAM,CAAC3D,WAAW,CAAC,GAAG2D,MAAM,CAAC7D,MAAM,CAAE;MAClEmK,eAAe,EAAE9I,UAAU,CAACE,KAAK,KAAK,WAAW,GAAGF,UAAU,CAACiF,IAAI,GAAG8D,SAAU;MAChFjJ,cAAc,EAAEA,cAAc,IAAIiJ,SAAU;MAC5ChK,QAAQ,EAAEA,QAAS;MACnBiK,YAAY,EAAEA,CAAA,KAAMvL,MAAM,CAAC4D,QAAQ,CAAC4H,IAAI,GAAG;IAAI;MAAArB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChD,CACF,EAEA,CAAChH,aAAa,IAAInB,YAAY,iBAC7BjE,OAAA;MAAK8L,SAAS,EAAC,UAAU;MAAC,mBAAW;MAAAC,QAAA,EAClCT,MAAM,CAACG,GAAG,CAAC,CAAC8B,CAAC,EAAE5B,CAAC,kBACf3L,OAAA;QAAa8L,SAAS,EAAC,OAAO;QAACzF,KAAK,EAAE;UAAEuB,IAAI,EAAE2F,CAAC,CAAC3F,IAAI;UAAEgE,MAAM,EAAE2B,CAAC,CAAC3B,MAAM;UAAEC,UAAU,EAAE0B,CAAC,CAAC1B;QAAW;MAAE,GAAzFF,CAAC;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAA0F,CACtG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN,eAEDpM,OAAA,CAAClB,OAAO;MACN0O,IAAI,EAAEnJ,UAAU,CAACE,KAAK,KAAK,UAAU,IAAIF,UAAU,CAACE,KAAK,KAAK,OAAQ;MACtEkJ,KAAK,EAAC,mBAAmB;MACzBC,KAAK,EAAErJ,UAAU,CAACE,KAAK,KAAK,OAAO,GAAGF,UAAU,CAAC+E,MAAM,GAAGgE,SAAU;MACpEO,QAAQ,EAAEtJ,UAAU,CAACE,KAAK,KAAK,OAAO,GAAG,yBAA0BF,UAAU,CAAS8E,SAAS,EAAE,GAAGiE,SAAU;MAC9GQ,OAAO,EAAC,SAAS;MACjBjE,MAAM,EACJtF,UAAU,CAACE,KAAK,KAAK,UAAU,GAC3B,yBAAyB,GACzBF,UAAU,CAACE,KAAK,KAAK,OAAO,GAC1BC,SAAS,GAAG,CAAC,GACX,8BAA8BA,SAAS,GAAG,GAC1C,uBAAuB,GACzB4I,SACP;MACDS,OAAO,EAAEA,CAAA,KAAMvJ,aAAa,CAAC;QAAEC,KAAK,EAAE;MAAO,CAAC;IAAE;MAAA0H,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAACzJ,GAAA,CAtxBID,WAAqB;EAAA,QAkCHjB,gBAAgB;AAAA;AAAAqM,EAAA,GAlClCpL,WAAqB;AAwxB3B,eAAeA,WAAW;AAAC,IAAAoL,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}