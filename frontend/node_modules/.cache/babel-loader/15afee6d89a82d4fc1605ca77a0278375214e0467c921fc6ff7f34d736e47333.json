{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alex Salsali\\\\Desktop\\\\Eunoia-Atlas-POC\\\\frontend\\\\src\\\\components\\\\WhisperFlow.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { xamanCreatePayment } from '../services/api';\nimport { checkUserPaymentStatus } from '../services/userWalletService';\nimport { isCrossmarkAvailable, connectCrossmark, signRlusdPaymentWithCrossmark } from '../services/crossmarkService';\nimport QRModal from './common/QRModal';\nimport { Heart, MessageSquare, Mic, ArrowLeft, ArrowRight, CheckCircle2, Eye, EyeOff, Sparkles, Star, Zap, Globe, Shield, Users, Gift, Send } from 'lucide-react';\nimport './WhisperFlow.css';\n\n// Helpers\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DRAFT_KEY = 'whisperDraftV1';\nconst PENDING_KEY = 'whisperPendingDonationV1';\nconst QUOTES = ['\"Sometimes a few words can carry a lifetime.\"', '\"A small gift can change a whole day.\"', '\"Light grows where we speak hope.\"', '\"Your words have power beyond measure.\"', '\"Every whisper of kindness echoes forever.\"'];\nconst STORY_THEME = {\n  meda: {\n    accent: '#7c3aed',\n    soft1: '#ede9fe',\n    soft2: '#faf5ff'\n  },\n  tara: {\n    accent: '#ec4899',\n    soft1: '#ffe4f1',\n    soft2: '#fff7fb'\n  },\n  ocean: {\n    accent: '#2563eb',\n    soft1: '#dbeafe',\n    soft2: '#eff6ff'\n  }\n};\nfunction saveDraft(data) {\n  try {\n    localStorage.setItem(DRAFT_KEY, JSON.stringify(data));\n  } catch {}\n}\nfunction loadDraft() {\n  try {\n    return JSON.parse(localStorage.getItem(DRAFT_KEY) || 'null');\n  } catch {\n    return null;\n  }\n}\nfunction getPendingDonation() {\n  try {\n    return JSON.parse(localStorage.getItem(PENDING_KEY) || 'null');\n  } catch {\n    return null;\n  }\n}\nfunction clearPendingDonation() {\n  try {\n    localStorage.removeItem(PENDING_KEY);\n  } catch {}\n}\nfunction useReducedMotion() {\n  _s();\n  const [reduced, setReduced] = useState(false);\n  useEffect(() => {\n    const m = window.matchMedia('(prefers-reduced-motion: reduce)');\n    setReduced(m.matches);\n    const handler = e => setReduced(e.matches);\n    if (m.addEventListener) m.addEventListener('change', handler);else m.addListener(handler);\n    return () => {\n      if (m.removeEventListener) m.removeEventListener('change', handler);else m.removeListener(handler);\n    };\n  }, []);\n  return reduced;\n}\n_s(useReducedMotion, \"PAG4zvF6+IsK2eHB7xTPE8NJ12w=\");\nfunction vibrate(ms = 10) {\n  try {\n    if (navigator.vibrate) navigator.vibrate(ms);\n  } catch {}\n}\nconst WhisperFlow = () => {\n  _s2();\n  const [step, setStep] = useState(0);\n\n  // data\n  const [message, setMessage] = useState('');\n  const [amount, setAmount] = useState('');\n  const [otherAmount, setOtherAmount] = useState('');\n  const [isPublic, setIsPublic] = useState(false);\n  const [email, setEmail] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState(null);\n  const [showUndo, setShowUndo] = useState(false);\n  const undoTimerRef = useRef(null);\n  const [quoteIdx, setQuoteIdx] = useState(0);\n  const [showConfetti, setShowConfetti] = useState(false);\n  const [transactionUrl, setTransactionUrl] = useState(null);\n  const [xamanState, setXamanState] = useState({\n    phase: 'idle'\n  });\n  const xamanPollRef = useRef(null);\n  const [crossmarkBusy, setCrossmarkBusy] = useState(false);\n  const [crossmarkError, setCrossmarkError] = useState(null);\n  const MEDA_ADDRESS = process.env.REACT_APP_MEDA_WALLET_ADDRESS || 'rEtpfxtsuHGWbRYFGszE5etYNPaiogDpxC';\n  const RLUSD_ISSUER = 'rQhWct2fv4Vc4KRjRgMrxa8xPN9Zx9iLKV';\n  const reducedMotion = useReducedMotion();\n\n  // Voice\n  const [listening, setListening] = useState(false);\n  const recognitionRef = useRef(null);\n\n  // Deep link\n  const searchParams = useMemo(() => new URLSearchParams(window.location.search), []);\n  const storyId = (searchParams.get('story') || '').toLowerCase();\n  const prefillAmount = searchParams.get('amount');\n  const prefillMessage = searchParams.get('message');\n\n  // Theme\n  const theme = STORY_THEME[storyId] || STORY_THEME['meda'];\n  useEffect(() => {\n    const el = document.querySelector('.whisper');\n    if (el) {\n      el.style.setProperty('--accent', theme.accent);\n      el.style.setProperty('--soft1', theme.soft1);\n      el.style.setProperty('--soft2', theme.soft2);\n    }\n  }, [theme]);\n\n  // Quote rotation\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setQuoteIdx(prev => (prev + 1) % QUOTES.length);\n    }, 4000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Prefill from URL params\n  useEffect(() => {\n    if (prefillAmount) {\n      const num = Number(prefillAmount);\n      if (!isNaN(num) && num > 0) {\n        setAmount(num);\n        setShowUndo(true);\n        if (undoTimerRef.current) clearTimeout(undoTimerRef.current);\n        undoTimerRef.current = window.setTimeout(() => setShowUndo(false), 3000);\n      }\n    }\n    if (prefillMessage) {\n      setMessage(prefillMessage);\n    }\n  }, [prefillAmount, prefillMessage]);\n\n  // Load draft\n  useEffect(() => {\n    const draft = loadDraft();\n    if (draft && step === 0) {\n      setMessage(draft.message || '');\n      setAmount(draft.amount || '');\n      setOtherAmount(draft.otherAmount || '');\n      setIsPublic(draft.isPublic || false);\n      setEmail(draft.email || '');\n    }\n  }, [step]);\n\n  // Save draft\n  useEffect(() => {\n    if (step > 0) {\n      saveDraft({\n        message,\n        amount,\n        otherAmount,\n        isPublic,\n        email\n      });\n    }\n  }, [message, amount, otherAmount, isPublic, email, step]);\n\n  // Check for pending donation - only restore if user explicitly continues\n  useEffect(() => {\n    const pending = getPendingDonation();\n    if (pending && pending.step === 4) {\n      // Clear pending donation to start fresh\n      clearPendingDonation();\n    }\n  }, []);\n\n  // Online status handling\n  useEffect(() => {\n    const onOnline = async () => {\n      if (step === 4) {\n        const pending = getPendingDonation();\n        if (pending) {\n          try {\n            await handleSubmit();\n            clearPendingDonation();\n          } catch (error) {\n            console.error('Failed to retry submission:', error);\n          }\n        }\n      }\n    };\n    window.addEventListener('online', onOnline);\n    return () => window.removeEventListener('online', onOnline);\n  }, [step]);\n\n  // Pointer light effect\n  useEffect(() => {\n    const el = document.querySelector('.story-hero');\n    if (!el || reducedMotion) return;\n    const onMove = e => {\n      const rect = el.getBoundingClientRect();\n      const x = (e.clientX - rect.left) / rect.width * 100;\n      const y = (e.clientY - rect.top) / rect.height * 100;\n      el.style.setProperty('--x', `${x}%`);\n      el.style.setProperty('--y', `${y}%`);\n    };\n    el.addEventListener('pointermove', onMove);\n    return () => el.removeEventListener('pointermove', onMove);\n  }, [reducedMotion]);\n  const handleMessageChange = e => {\n    setMessage(e.target.value);\n  };\n  const selectAmount = val => {\n    if (val === 'other') {\n      setAmount('other');\n      setOtherAmount('');\n    } else {\n      setAmount(val);\n      setOtherAmount('');\n    }\n    setShowUndo(true);\n    if (undoTimerRef.current) clearTimeout(undoTimerRef.current);\n    undoTimerRef.current = window.setTimeout(() => setShowUndo(false), 3000);\n    vibrate();\n  };\n  const undoAmount = () => {\n    setAmount('');\n    setShowUndo(false);\n  };\n  const handleOtherAmount = e => setOtherAmount(e.target.value);\n  const handleIdentityChoice = choice => {\n    setIsPublic(choice);\n    if (!choice) {\n      setEmail('');\n      setStep(4);\n    }\n    vibrate();\n  };\n  const proceedFromIdentity = () => {\n    setStep(4);\n    vibrate();\n  };\n\n  // Online status handling\n  useEffect(() => {\n    const onOnline = async () => {\n      if (step === 4) {\n        const pending = getPendingDonation();\n        if (pending) {\n          try {\n            await handleSubmit();\n            clearPendingDonation();\n          } catch (error) {\n            console.error('Failed to retry submission:', error);\n          }\n        }\n      }\n    };\n    window.addEventListener('online', onOnline);\n    return () => window.removeEventListener('online', onOnline);\n  }, [step]);\n  const handleSubmit = async () => {\n    if (submitting) return;\n    setSubmitting(true);\n    setError(null);\n    const finalAmount = amount === 'other' ? Number(otherAmount) : Number(amount);\n    if (!finalAmount || finalAmount <= 0) {\n      setError('Please enter a valid amount');\n      setSubmitting(false);\n      return;\n    }\n\n    // Use the demo RLUSD flow (1 RLUSD fixed amount)\n    await startRlusdXamanFromWhisper();\n    setSubmitting(false);\n  };\n  const startRlusdXamanFromWhisper = async () => {\n    console.log('startRlusdXamanFromWhisper called');\n    console.log('xamanState.phase:', xamanState.phase);\n    if (xamanState.phase !== 'idle') {\n      console.log('Xaman not idle, returning');\n      return;\n    }\n    setXamanState({\n      phase: 'creating'\n    });\n    console.log('Set xamanState to creating');\n    try {\n      console.log('Calling xamanCreatePayment with:', {\n        destination: MEDA_ADDRESS,\n        amount: 1,\n        charity: 'MEDA',\n        cause_id: 'whisper_rlusd_demo'\n      });\n      const response = await xamanCreatePayment({\n        destination: MEDA_ADDRESS,\n        amount: 1,\n        // Fixed 1 RLUSD like the demo\n        charity: 'MEDA',\n        cause_id: 'whisper_rlusd_demo'\n      });\n      console.log('xamanCreatePayment response:', response);\n      if (response.success && response.payloadId) {\n        console.log('Setting xamanState to ready with payloadId:', response.payloadId);\n        setXamanState({\n          phase: 'ready',\n          payloadId: response.payloadId,\n          qrCode: response.qrCode\n        });\n\n        // Poll for completion\n        xamanPollRef.current = window.setInterval(async () => {\n          try {\n            const status = await checkUserPaymentStatus(response.payloadId);\n            if (status.completed) {\n              if (xamanPollRef.current) clearInterval(xamanPollRef.current);\n              setXamanState({\n                phase: 'completed',\n                txid: status.txid\n              });\n              setTransactionUrl(status.transactionUrl);\n              setShowConfetti(true);\n              setTimeout(() => setShowConfetti(false), 2000);\n              setStep(5);\n            }\n          } catch (error) {\n            console.error('Payment status check failed:', error);\n          }\n        }, 2000);\n      } else {\n        setXamanState({\n          phase: 'error',\n          message: 'Failed to create payment'\n        });\n      }\n    } catch (error) {\n      console.error('Xaman payment creation failed:', error);\n      setXamanState({\n        phase: 'error',\n        message: 'Failed to create payment'\n      });\n    }\n  };\n  const startXrpXamanFromWhisper = async () => {\n    if (xamanState.phase !== 'idle') return;\n    setXamanState({\n      phase: 'creating'\n    });\n    try {\n      const finalAmount = amount === 'other' ? Number(otherAmount) : Number(amount);\n      const response = await xamanCreatePayment({\n        amount: finalAmount,\n        destination: MEDA_ADDRESS,\n        charity: 'MEDA',\n        cause_id: 'whisper',\n        asset: 'RLUSD',\n        issuer: RLUSD_ISSUER\n      });\n      if (response.success && response.payloadId) {\n        setXamanState({\n          phase: 'ready',\n          payloadId: response.payloadId,\n          qrCode: response.qrCode\n        });\n\n        // Poll for completion\n        xamanPollRef.current = window.setInterval(async () => {\n          try {\n            const status = await checkUserPaymentStatus(response.payloadId);\n            if (status.completed) {\n              if (xamanPollRef.current) clearInterval(xamanPollRef.current);\n              setXamanState({\n                phase: 'completed',\n                txid: status.txid\n              });\n              setTransactionUrl(status.transactionUrl);\n              setShowConfetti(true);\n              setTimeout(() => setShowConfetti(false), 2000);\n              setStep(5);\n            }\n          } catch (error) {\n            console.error('Payment status check failed:', error);\n          }\n        }, 2000);\n      } else {\n        setXamanState({\n          phase: 'error',\n          message: 'Failed to create payment'\n        });\n      }\n    } catch (error) {\n      console.error('Xaman payment creation failed:', error);\n      setXamanState({\n        phase: 'error',\n        message: 'Failed to create payment'\n      });\n    }\n  };\n  const startRlusdCrossmarkFromWhisper = async () => {\n    if (crossmarkBusy) return;\n    setCrossmarkBusy(true);\n    setCrossmarkError(null);\n    try {\n      if (!isCrossmarkAvailable()) {\n        throw new Error('CROSSMARK extension not found');\n      }\n      await connectCrossmark();\n      const finalAmount = amount === 'other' ? Number(otherAmount) : Number(amount);\n      const result = await signRlusdPaymentWithCrossmark({\n        amount: finalAmount,\n        destination: MEDA_ADDRESS,\n        charity: 'MEDA',\n        causeId: 'whisper'\n      });\n      if (result.ok) {\n        setTransactionUrl(result.explorer || null);\n        setShowConfetti(true);\n        setTimeout(() => setShowConfetti(false), 2000);\n        setStep(5);\n      } else {\n        setCrossmarkError(result.error || 'Payment failed');\n      }\n    } catch (error) {\n      console.error('CROSSMARK payment failed:', error);\n      setCrossmarkError(error instanceof Error ? error.message : 'Payment failed');\n    } finally {\n      setCrossmarkBusy(false);\n    }\n  };\n  const toggleMic = () => {\n    if (listening) {\n      if (recognitionRef.current) {\n        recognitionRef.current.stop();\n      }\n      setListening(false);\n    } else {\n      if ('webkitSpeechRecognition' in window) {\n        const recognition = new window.webkitSpeechRecognition();\n        recognition.continuous = false;\n        recognition.interimResults = false;\n        recognition.lang = 'en-US';\n        recognition.onstart = () => setListening(true);\n        recognition.onresult = event => {\n          const transcript = event.results[0][0].transcript;\n          setMessage(transcript);\n        };\n        recognition.onerror = () => setListening(false);\n        recognition.onend = () => setListening(false);\n        recognitionRef.current = recognition;\n        recognition.start();\n      } else {\n        alert('Speech recognition not supported in this browser');\n      }\n    }\n  };\n\n  // Confetti pieces\n  const pieces = Array.from({\n    length: 7\n  }).map((_, i) => ({\n    left: `${15 + i * 12}%`,\n    bottom: '20px',\n    background: i % 2 ? theme.accent : theme.soft1\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `whisper ${reducedMotion ? 'reduced-motion' : ''}`,\n    children: [step === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `stage full ${reducedMotion ? '' : 'fade-in'}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"story-hero\",\n        role: \"img\",\n        \"aria-label\": storyId ? `Story ${storyId}` : 'Story image',\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overlay\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"floating-elements\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '15%',\n              left: '5%',\n              animationDelay: '0s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Sparkles, {\n              size: 24,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '35%',\n              left: '10%',\n              animationDelay: '1s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Star, {\n              size: 20,\n              color: theme.soft1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '55%',\n              left: '8%',\n              animationDelay: '2s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Heart, {\n              size: 18,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '75%',\n              left: '12%',\n              animationDelay: '0.5s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Zap, {\n              size: 22,\n              color: theme.soft1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '25%',\n              right: '8%',\n              animationDelay: '1.5s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Globe, {\n              size: 20,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '45%',\n              right: '12%',\n              animationDelay: '0.8s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Shield, {\n              size: 19,\n              color: theme.soft1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '65%',\n              right: '6%',\n              animationDelay: '2.2s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Users, {\n              size: 21,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '85%',\n              right: '10%',\n              animationDelay: '1.2s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Gift, {\n              size: 23,\n              color: theme.soft1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '10%',\n              right: '15%',\n              animationDelay: '0.3s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Sparkles, {\n              size: 28,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '20%',\n              right: '25%',\n              animationDelay: '1.3s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Star, {\n              size: 22,\n              color: theme.soft1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '30%',\n              right: '10%',\n              animationDelay: '2.3s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Heart, {\n              size: 20,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '40%',\n              right: '20%',\n              animationDelay: '0.8s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Zap, {\n              size: 24,\n              color: theme.soft1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '50%',\n              right: '15%',\n              animationDelay: '1.8s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Globe, {\n              size: 21,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '60%',\n              right: '25%',\n              animationDelay: '2.8s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Shield, {\n              size: 23,\n              color: theme.soft1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '70%',\n              right: '12%',\n              animationDelay: '1.1s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Users, {\n              size: 25,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '80%',\n              right: '18%',\n              animationDelay: '2.1s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Gift, {\n              size: 19,\n              color: theme.soft1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"floating-icon\",\n            style: {\n              top: '90%',\n              right: '22%',\n              animationDelay: '0.6s'\n            },\n            children: /*#__PURE__*/_jsxDEV(Sparkles, {\n              size: 26,\n              color: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"people-images\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"person-image\",\n            style: {\n              top: '10%',\n              left: '8%',\n              animationDelay: '0.5s'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-placeholder\",\n              children: [/*#__PURE__*/_jsxDEV(Users, {\n                size: 40,\n                color: theme.accent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-caption\",\n                children: \"Students in need\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"person-image\",\n            style: {\n              top: '30%',\n              left: '20%',\n              animationDelay: '1.2s'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-placeholder\",\n              children: [/*#__PURE__*/_jsxDEV(Heart, {\n                size: 40,\n                color: theme.accent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-caption\",\n                children: \"Families seeking help\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"person-image\",\n            style: {\n              top: '50%',\n              left: '12%',\n              animationDelay: '0.8s'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-placeholder\",\n              children: [/*#__PURE__*/_jsxDEV(Shield, {\n                size: 40,\n                color: theme.accent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-caption\",\n                children: \"Community support\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"person-image\",\n            style: {\n              top: '70%',\n              left: '18%',\n              animationDelay: '1.5s'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-placeholder\",\n              children: [/*#__PURE__*/_jsxDEV(Globe, {\n                size: 40,\n                color: theme.accent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-caption\",\n                children: \"Global impact\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"person-image\",\n            style: {\n              top: '20%',\n              left: '75%',\n              animationDelay: '0.3s'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-placeholder\",\n              children: [/*#__PURE__*/_jsxDEV(Gift, {\n                size: 40,\n                color: theme.accent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-caption\",\n                children: \"Your generosity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"person-image\",\n            style: {\n              top: '60%',\n              left: '80%',\n              animationDelay: '1.8s'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-placeholder\",\n              children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n                size: 40,\n                color: theme.accent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-caption\",\n                children: \"Hope & healing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hero-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `hero-quote ${reducedMotion ? '' : 'quote-fade'}`,\n            children: QUOTES[quoteIdx]\n          }, quoteIdx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cta-button\",\n            onClick: () => {\n              setStep(1);\n              vibrate();\n            },\n            children: [/*#__PURE__*/_jsxDEV(Send, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 17\n            }, this), \"Whisper a Message\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 9\n    }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `stage center ${reducedMotion ? '' : 'fade-in'}`,\n      \"aria-live\": \"polite\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"step-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: () => {\n            setStep(0);\n            vibrate();\n          },\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 15\n          }, this), \"Back\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-indicator\",\n          children: \"Step 1 of 4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prompt glow type-on\",\n        children: \"I'm giving because\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"whisper-input\",\n          placeholder: \"For girls who never had a laptop.\",\n          value: message,\n          onChange: handleMessageChange,\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hint\",\n            children: listening ? 'Listeningâ€¦ speak your message' : 'Pause to continue'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"mic-button\",\n            onClick: toggleMic,\n            \"aria-pressed\": listening,\n            children: [/*#__PURE__*/_jsxDEV(Mic, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 17\n            }, this), listening ? 'Stop' : 'Speak']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-button\",\n          onClick: () => (message || '').trim().length > 0 ? (setStep(2), vibrate()) : null,\n          disabled: (message || '').trim().length === 0,\n          children: [\"Next\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 9\n    }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `stage center ${reducedMotion ? '' : 'fade-in'}`,\n      \"aria-live\": \"polite\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"step-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: () => {\n            setStep(1);\n            vibrate();\n          },\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 15\n          }, this), \"Back\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-indicator\",\n          children: \"Step 2 of 4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prompt\",\n        children: \"How much do you want to give?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"amount-grid\",\n        children: [[10, 25, 50, 100].map(v => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `amount-pill ${amount === v ? 'selected' : ''}`,\n          onClick: () => selectAmount(v),\n          children: [\"$\", v]\n        }, v, true, {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `amount-pill ${amount === '' && otherAmount ? 'selected' : ''}`,\n          onClick: () => selectAmount('other'),\n          children: \"Other\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 11\n      }, this), showUndo && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"undo-hint\",\n        children: [\"Amount selected. \", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"link-button\",\n          onClick: undoAmount,\n          children: \"Undo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 13\n      }, this), amount === '' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `other-amount-row ${reducedMotion ? '' : 'slide-up'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          inputMode: \"decimal\",\n          min: 1,\n          step: \"0.01\",\n          placeholder: \"Enter amount\",\n          className: \"other-input\",\n          value: otherAmount,\n          onChange: handleOtherAmount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 637,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"apply-button\",\n          onClick: () => Number(otherAmount) > 0 ? (setAmount(Number(otherAmount)), setStep(3), vibrate()) : null,\n          disabled: !otherAmount || Number(otherAmount) <= 0,\n          children: \"Apply\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 636,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actions\",\n        children: amount !== '' && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-button\",\n          onClick: () => {\n            setStep(3);\n            vibrate();\n          },\n          children: [\"Next\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 661,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 657,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 608,\n      columnNumber: 9\n    }, this), step === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `stage center ${reducedMotion ? '' : 'fade-in'}`,\n      \"aria-live\": \"polite\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"step-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: () => {\n            setStep(2);\n            vibrate();\n          },\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 15\n          }, this), \"Back\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-indicator\",\n          children: \"Step 3 of 4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 670,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prompt\",\n        children: \"Would you like the story to know who you are?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"identity-toggle\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `toggle-button ${isPublic ? 'active' : ''}`,\n          onClick: () => handleIdentityChoice(true),\n          children: [/*#__PURE__*/_jsxDEV(Eye, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 681,\n            columnNumber: 15\n          }, this), \"Yes, share my name\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 680,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `toggle-button ${!isPublic ? 'active' : ''}`,\n          onClick: () => handleIdentityChoice(false),\n          children: [/*#__PURE__*/_jsxDEV(EyeOff, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 15\n          }, this), \"No, keep me anonymous\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 11\n      }, this), isPublic && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `email-section ${reducedMotion ? '' : 'slide-up'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"you@example.com\",\n          className: \"email-input\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          \"aria-label\": \"Email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"continue-button\",\n          onClick: proceedFromIdentity,\n          children: [\"Continue\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 691,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"privacy-note\",\n        children: \"We'll only use your email to send your receipt.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 707,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actions\",\n        children: !isPublic && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-button\",\n          onClick: proceedFromIdentity,\n          children: [\"Next\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 709,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 669,\n      columnNumber: 9\n    }, this), step === 4 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `stage center ${reducedMotion ? '' : 'fade-in'}`,\n      \"aria-live\": \"polite\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"step-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: () => {\n            setStep(3);\n            vibrate();\n          },\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 724,\n            columnNumber: 15\n          }, this), \"Back\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 723,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-indicator\",\n          children: \"Step 4 of 4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 727,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 722,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        role: \"alert\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 730,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-header\",\n          children: \"Your Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 733,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"blockquote\", {\n          className: \"message-preview\",\n          children: [\"\\\"\", message || '', \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 734,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Amount:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 737,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"amount\",\n              children: [\"$\", amount === 'other' ? otherAmount : amount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 736,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Privacy:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 741,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: isPublic ? 'Public' : 'Anonymous'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 742,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 740,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 735,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 732,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `cta-button ${submitting ? 'disabled' : ''}`,\n        onClick: () => {\n          console.log('Button clicked!');\n          handleSubmit();\n        },\n        disabled: submitting,\n        children: submitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 17\n          }, this), \"Sending\\u2026\"]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Heart, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 762,\n            columnNumber: 17\n          }, this), \"Send my words and support\"]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 747,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alternative-options\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"options-label\",\n          children: \"Or try these options:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 769,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"options-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"option-button\",\n            onClick: startXrpXamanFromWhisper,\n            children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 772,\n              columnNumber: 17\n            }, this), \"XRP (Alternative)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 771,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"option-button\",\n            onClick: startRlusdCrossmarkFromWhisper,\n            disabled: crossmarkBusy,\n            children: crossmarkBusy ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"spinner\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 782,\n                columnNumber: 21\n              }, this), \"Opening\\u2026\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Heart, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 787,\n                columnNumber: 21\n              }, this), \"RLUSD (CROSSMARK)\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 775,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 770,\n          columnNumber: 13\n        }, this), crossmarkError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message\",\n          role: \"alert\",\n          children: crossmarkError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 793,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 768,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 721,\n      columnNumber: 9\n    }, this), step === 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `stage center ${reducedMotion ? '' : 'fade-in'}`,\n      \"aria-live\": \"polite\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"success-icon\",\n          children: /*#__PURE__*/_jsxDEV(CheckCircle2, {\n            size: 48\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 802,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 801,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"success-title\",\n          children: \"Your message has been sent.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 804,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"success-subtitle\",\n          children: \"And so has your support.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 805,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"blockquote\", {\n          className: \"final-message\",\n          children: [\"\\\"\", message || '', \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 806,\n          columnNumber: 26\n        }, this), transactionUrl && /*#__PURE__*/_jsxDEV(\"a\", {\n          href: transactionUrl,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: \"transaction-link\",\n          children: \"View your receipt details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 808,\n          columnNumber: 15\n        }, this), !transactionUrl && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"processing-note\",\n          children: \"Your transaction is being processed...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 813,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"home-button\",\n          onClick: () => window.location.href = '/',\n          children: \"Return Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 815,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 800,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 799,\n      columnNumber: 9\n    }, this), !reducedMotion && showConfetti && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"confetti\",\n      \"aria-hidden\": true,\n      children: pieces.map((p, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"piece\",\n        style: {\n          left: p.left,\n          bottom: p.bottom,\n          background: p.background\n        }\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 825,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 823,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(QRModal, {\n      open: xamanState.phase === 'creating' || xamanState.phase === 'ready',\n      title: \"Donate with RLUSD\",\n      qrUrl: xamanState.phase === 'ready' ? xamanState.qrCode : undefined,\n      openLink: xamanState.phase === 'ready' ? `https://xumm.app/sign/${xamanState.payloadId}` : undefined,\n      network: \"Testnet\",\n      status: xamanState.phase === 'creating' ? 'Creating RLUSD paymentâ€¦' : xamanState.phase === 'ready' ? 'Scan to sign in Xaman' : undefined,\n      onClose: () => setXamanState({\n        phase: 'idle'\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 830,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 442,\n    columnNumber: 5\n  }, this);\n};\n_s2(WhisperFlow, \"ddVFnxymQzqqQQ4FIeOsIMvY2xc=\", false, function () {\n  return [useReducedMotion];\n});\n_c = WhisperFlow;\nexport default WhisperFlow;\nvar _c;\n$RefreshReg$(_c, \"WhisperFlow\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","xamanCreatePayment","checkUserPaymentStatus","isCrossmarkAvailable","connectCrossmark","signRlusdPaymentWithCrossmark","QRModal","Heart","MessageSquare","Mic","ArrowLeft","ArrowRight","CheckCircle2","Eye","EyeOff","Sparkles","Star","Zap","Globe","Shield","Users","Gift","Send","jsxDEV","_jsxDEV","Fragment","_Fragment","DRAFT_KEY","PENDING_KEY","QUOTES","STORY_THEME","meda","accent","soft1","soft2","tara","ocean","saveDraft","data","localStorage","setItem","JSON","stringify","loadDraft","parse","getItem","getPendingDonation","clearPendingDonation","removeItem","useReducedMotion","_s","reduced","setReduced","m","window","matchMedia","matches","handler","e","addEventListener","addListener","removeEventListener","removeListener","vibrate","ms","navigator","WhisperFlow","_s2","step","setStep","message","setMessage","amount","setAmount","otherAmount","setOtherAmount","isPublic","setIsPublic","email","setEmail","submitting","setSubmitting","error","setError","showUndo","setShowUndo","undoTimerRef","quoteIdx","setQuoteIdx","showConfetti","setShowConfetti","transactionUrl","setTransactionUrl","xamanState","setXamanState","phase","xamanPollRef","crossmarkBusy","setCrossmarkBusy","crossmarkError","setCrossmarkError","MEDA_ADDRESS","process","env","REACT_APP_MEDA_WALLET_ADDRESS","RLUSD_ISSUER","reducedMotion","listening","setListening","recognitionRef","searchParams","URLSearchParams","location","search","storyId","get","toLowerCase","prefillAmount","prefillMessage","theme","el","document","querySelector","style","setProperty","interval","setInterval","prev","length","clearInterval","num","Number","isNaN","current","clearTimeout","setTimeout","draft","pending","onOnline","handleSubmit","console","onMove","rect","getBoundingClientRect","x","clientX","left","width","y","clientY","top","height","handleMessageChange","target","value","selectAmount","val","undoAmount","handleOtherAmount","handleIdentityChoice","choice","proceedFromIdentity","finalAmount","startRlusdXamanFromWhisper","log","destination","charity","cause_id","response","success","payloadId","qrCode","status","completed","txid","startXrpXamanFromWhisper","asset","issuer","startRlusdCrossmarkFromWhisper","Error","result","causeId","ok","explorer","toggleMic","stop","recognition","webkitSpeechRecognition","continuous","interimResults","lang","onstart","onresult","event","transcript","results","onerror","onend","start","alert","pieces","Array","from","map","_","i","bottom","background","className","children","role","fileName","_jsxFileName","lineNumber","columnNumber","animationDelay","size","color","right","onClick","placeholder","onChange","autoFocus","trim","disabled","v","type","inputMode","min","href","rel","p","open","title","qrUrl","undefined","openLink","network","onClose","_c","$RefreshReg$"],"sources":["C:/Users/Alex Salsali/Desktop/Eunoia-Atlas-POC/frontend/src/components/WhisperFlow.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { xamanCreatePayment } from '../services/api';\nimport { checkUserPaymentStatus } from '../services/userWalletService';\nimport { isCrossmarkAvailable, connectCrossmark, signRlusdPaymentWithCrossmark } from '../services/crossmarkService';\nimport QRModal from './common/QRModal';\nimport { Heart, MessageSquare, Mic, ArrowLeft, ArrowRight, CheckCircle2, Eye, EyeOff, Sparkles, Star, Zap, Globe, Shield, Users, Gift, Send } from 'lucide-react';\nimport './WhisperFlow.css';\n\n// Helpers\nconst DRAFT_KEY = 'whisperDraftV1';\nconst PENDING_KEY = 'whisperPendingDonationV1';\nconst QUOTES = [\n  '\"Sometimes a few words can carry a lifetime.\"',\n  '\"A small gift can change a whole day.\"',\n  '\"Light grows where we speak hope.\"',\n  '\"Your words have power beyond measure.\"',\n  '\"Every whisper of kindness echoes forever.\"',\n];\n\nconst STORY_THEME: Record<string, { accent: string; soft1: string; soft2: string }> = {\n  meda: { accent: '#7c3aed', soft1: '#ede9fe', soft2: '#faf5ff' },\n  tara: { accent: '#ec4899', soft1: '#ffe4f1', soft2: '#fff7fb' },\n  ocean: { accent: '#2563eb', soft1: '#dbeafe', soft2: '#eff6ff' },\n};\n\nfunction saveDraft(data: any) { try { localStorage.setItem(DRAFT_KEY, JSON.stringify(data)); } catch {} }\nfunction loadDraft(): any | null { try { return JSON.parse(localStorage.getItem(DRAFT_KEY) || 'null'); } catch { return null; } }\n\nfunction getPendingDonation(): any | null { try { return JSON.parse(localStorage.getItem(PENDING_KEY) || 'null'); } catch { return null; } }\nfunction clearPendingDonation() { try { localStorage.removeItem(PENDING_KEY); } catch {} }\n\nfunction useReducedMotion() {\n  const [reduced, setReduced] = useState(false);\n  useEffect(() => {\n    const m = window.matchMedia('(prefers-reduced-motion: reduce)');\n    setReduced(m.matches);\n    const handler = (e: MediaQueryListEvent) => setReduced(e.matches);\n    if (m.addEventListener) m.addEventListener('change', handler);\n    else m.addListener(handler as any);\n    return () => {\n      if (m.removeEventListener) m.removeEventListener('change', handler);\n      else m.removeListener(handler as any);\n    };\n  }, []);\n  return reduced;\n}\n\nfunction vibrate(ms = 10) { try { if (navigator.vibrate) navigator.vibrate(ms); } catch {} }\n\nconst WhisperFlow: React.FC = () => {\n  const [step, setStep] = useState<number>(0);\n\n  // data\n  const [message, setMessage] = useState('');\n  const [amount, setAmount] = useState<number | 'other' | ''>('');\n  const [otherAmount, setOtherAmount] = useState<string>('');\n  const [isPublic, setIsPublic] = useState<boolean>(false);\n  const [email, setEmail] = useState<string>('');\n\n\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const [showUndo, setShowUndo] = useState<boolean>(false);\n  const undoTimerRef = useRef<number | null>(null);\n  const [quoteIdx, setQuoteIdx] = useState(0);\n  const [showConfetti, setShowConfetti] = useState(false);\n  const [transactionUrl, setTransactionUrl] = useState<string | null>(null);\n  const [xamanState, setXamanState] = useState<\n    | { phase: 'idle' }\n    | { phase: 'creating' }\n    | { phase: 'ready'; payloadId: string; qrCode?: string; message?: string }\n    | { phase: 'completed'; txid?: string }\n    | { phase: 'error'; message: string }\n  >({ phase: 'idle' });\n  const xamanPollRef = useRef<number | null>(null);\n  const [crossmarkBusy, setCrossmarkBusy] = useState(false);\n  const [crossmarkError, setCrossmarkError] = useState<string | null>(null);\n\n  const MEDA_ADDRESS = (process.env.REACT_APP_MEDA_WALLET_ADDRESS as string) || 'rEtpfxtsuHGWbRYFGszE5etYNPaiogDpxC';\n  const RLUSD_ISSUER = 'rQhWct2fv4Vc4KRjRgMrxa8xPN9Zx9iLKV';\n\n  const reducedMotion = useReducedMotion();\n\n  // Voice\n  const [listening, setListening] = useState(false);\n  const recognitionRef = useRef<any>(null);\n\n  // Deep link\n  const searchParams = useMemo(() => new URLSearchParams(window.location.search), []);\n  const storyId = (searchParams.get('story') || '').toLowerCase();\n  const prefillAmount = searchParams.get('amount');\n  const prefillMessage = searchParams.get('message');\n\n  // Theme\n  const theme = STORY_THEME[storyId] || STORY_THEME['meda'];\n\n  useEffect(() => {\n    const el = document.querySelector('.whisper') as HTMLElement | null;\n    if (el) {\n      el.style.setProperty('--accent', theme.accent);\n      el.style.setProperty('--soft1', theme.soft1);\n      el.style.setProperty('--soft2', theme.soft2);\n    }\n  }, [theme]);\n\n  // Quote rotation\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setQuoteIdx((prev) => (prev + 1) % QUOTES.length);\n    }, 4000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Prefill from URL params\n  useEffect(() => {\n    if (prefillAmount) {\n      const num = Number(prefillAmount);\n      if (!isNaN(num) && num > 0) {\n        setAmount(num);\n        setShowUndo(true);\n        if (undoTimerRef.current) clearTimeout(undoTimerRef.current);\n        undoTimerRef.current = window.setTimeout(() => setShowUndo(false), 3000);\n      }\n    }\n    if (prefillMessage) {\n      setMessage(prefillMessage);\n    }\n  }, [prefillAmount, prefillMessage]);\n\n  // Load draft\n  useEffect(() => {\n    const draft = loadDraft();\n    if (draft && step === 0) {\n      setMessage(draft.message || '');\n      setAmount(draft.amount || '');\n      setOtherAmount(draft.otherAmount || '');\n      setIsPublic(draft.isPublic || false);\n      setEmail(draft.email || '');\n    }\n  }, [step]);\n\n  // Save draft\n  useEffect(() => {\n    if (step > 0) {\n      saveDraft({ message, amount, otherAmount, isPublic, email });\n    }\n  }, [message, amount, otherAmount, isPublic, email, step]);\n\n  // Check for pending donation - only restore if user explicitly continues\n  useEffect(() => {\n    const pending = getPendingDonation();\n    if (pending && pending.step === 4) {\n      // Clear pending donation to start fresh\n      clearPendingDonation();\n    }\n  }, []);\n\n  // Online status handling\n  useEffect(() => {\n    const onOnline = async () => {\n      if (step === 4) {\n        const pending = getPendingDonation();\n        if (pending) {\n          try {\n            await handleSubmit();\n            clearPendingDonation();\n          } catch (error) {\n            console.error('Failed to retry submission:', error);\n          }\n        }\n      }\n    };\n\n    window.addEventListener('online', onOnline);\n    return () => window.removeEventListener('online', onOnline);\n  }, [step]);\n\n  // Pointer light effect\n  useEffect(() => {\n    const el = document.querySelector('.story-hero') as HTMLElement | null;\n    if (!el || reducedMotion) return;\n\n    const onMove = (e: PointerEvent) => {\n      const rect = el.getBoundingClientRect();\n      const x = ((e.clientX - rect.left) / rect.width) * 100;\n      const y = ((e.clientY - rect.top) / rect.height) * 100;\n      el.style.setProperty('--x', `${x}%`);\n      el.style.setProperty('--y', `${y}%`);\n    };\n\n    el.addEventListener('pointermove', onMove);\n    return () => el.removeEventListener('pointermove', onMove);\n  }, [reducedMotion]);\n\n  const handleMessageChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setMessage(e.target.value);\n  };\n\n\n\n  const selectAmount = (val: number | 'other') => {\n    if (val === 'other') {\n      setAmount('other');\n      setOtherAmount('');\n    } else {\n      setAmount(val);\n      setOtherAmount('');\n    }\n    setShowUndo(true);\n    if (undoTimerRef.current) clearTimeout(undoTimerRef.current);\n    undoTimerRef.current = window.setTimeout(() => setShowUndo(false), 3000);\n    vibrate();\n  };\n\n  const undoAmount = () => { setAmount(''); setShowUndo(false); };\n  const handleOtherAmount = (e: React.ChangeEvent<HTMLInputElement>) => setOtherAmount(e.target.value);\n  const handleIdentityChoice = (choice: boolean) => { setIsPublic(choice); if (!choice) { setEmail(''); setStep(4); } vibrate(); };\n  const proceedFromIdentity = () => { setStep(4); vibrate(); };\n\n  // Online status handling\n  useEffect(() => {\n    const onOnline = async () => {\n      if (step === 4) {\n        const pending = getPendingDonation();\n        if (pending) {\n          try {\n            await handleSubmit();\n            clearPendingDonation();\n          } catch (error) {\n            console.error('Failed to retry submission:', error);\n          }\n        }\n      }\n    };\n\n    window.addEventListener('online', onOnline);\n    return () => window.removeEventListener('online', onOnline);\n  }, [step]);\n\n  const handleSubmit = async () => {\n    if (submitting) return;\n    \n    setSubmitting(true);\n    setError(null);\n    \n    const finalAmount = amount === 'other' ? Number(otherAmount) : Number(amount);\n    \n    if (!finalAmount || finalAmount <= 0) {\n      setError('Please enter a valid amount');\n      setSubmitting(false);\n      return;\n    }\n\n    // Use the demo RLUSD flow (1 RLUSD fixed amount)\n    await startRlusdXamanFromWhisper();\n    setSubmitting(false);\n  };\n\n  const startRlusdXamanFromWhisper = async () => {\n    console.log('startRlusdXamanFromWhisper called');\n    console.log('xamanState.phase:', xamanState.phase);\n    if (xamanState.phase !== 'idle') {\n      console.log('Xaman not idle, returning');\n      return;\n    }\n    \n    setXamanState({ phase: 'creating' });\n    console.log('Set xamanState to creating');\n    \n    try {\n      console.log('Calling xamanCreatePayment with:', {\n        destination: MEDA_ADDRESS,\n        amount: 1,\n        charity: 'MEDA',\n        cause_id: 'whisper_rlusd_demo'\n      });\n      const response = await xamanCreatePayment({\n        destination: MEDA_ADDRESS,\n        amount: 1, // Fixed 1 RLUSD like the demo\n        charity: 'MEDA',\n        cause_id: 'whisper_rlusd_demo'\n      });\n      \n      console.log('xamanCreatePayment response:', response);\n      \n      if (response.success && response.payloadId) {\n        console.log('Setting xamanState to ready with payloadId:', response.payloadId);\n        setXamanState({ \n          phase: 'ready', \n          payloadId: response.payloadId,\n          qrCode: response.qrCode\n        });\n        \n        // Poll for completion\n        xamanPollRef.current = window.setInterval(async () => {\n          try {\n            const status = await checkUserPaymentStatus(response.payloadId!);\n            if (status.completed) {\n              if (xamanPollRef.current) clearInterval(xamanPollRef.current);\n              setXamanState({ phase: 'completed', txid: status.txid });\n              setTransactionUrl(status.transactionUrl);\n              setShowConfetti(true);\n              setTimeout(() => setShowConfetti(false), 2000);\n              setStep(5);\n            }\n          } catch (error) {\n            console.error('Payment status check failed:', error);\n          }\n        }, 2000);\n      } else {\n        setXamanState({ phase: 'error', message: 'Failed to create payment' });\n      }\n    } catch (error) {\n      console.error('Xaman payment creation failed:', error);\n      setXamanState({ phase: 'error', message: 'Failed to create payment' });\n    }\n  };\n\n  const startXrpXamanFromWhisper = async () => {\n    if (xamanState.phase !== 'idle') return;\n    \n    setXamanState({ phase: 'creating' });\n    \n    try {\n      const finalAmount = amount === 'other' ? Number(otherAmount) : Number(amount);\n      const response = await xamanCreatePayment({\n        amount: finalAmount,\n        destination: MEDA_ADDRESS,\n        charity: 'MEDA',\n        cause_id: 'whisper',\n        asset: 'RLUSD',\n        issuer: RLUSD_ISSUER\n      });\n      \n      if (response.success && response.payloadId) {\n        setXamanState({ \n          phase: 'ready', \n          payloadId: response.payloadId,\n          qrCode: response.qrCode\n        });\n        \n        // Poll for completion\n        xamanPollRef.current = window.setInterval(async () => {\n          try {\n            const status = await checkUserPaymentStatus(response.payloadId!);\n            if (status.completed) {\n              if (xamanPollRef.current) clearInterval(xamanPollRef.current);\n              setXamanState({ phase: 'completed', txid: status.txid });\n              setTransactionUrl(status.transactionUrl);\n              setShowConfetti(true);\n              setTimeout(() => setShowConfetti(false), 2000);\n              setStep(5);\n            }\n          } catch (error) {\n            console.error('Payment status check failed:', error);\n          }\n        }, 2000);\n      } else {\n        setXamanState({ phase: 'error', message: 'Failed to create payment' });\n      }\n    } catch (error) {\n      console.error('Xaman payment creation failed:', error);\n      setXamanState({ phase: 'error', message: 'Failed to create payment' });\n    }\n  };\n\n  const startRlusdCrossmarkFromWhisper = async () => {\n    if (crossmarkBusy) return;\n    \n    setCrossmarkBusy(true);\n    setCrossmarkError(null);\n    \n    try {\n      if (!isCrossmarkAvailable()) {\n        throw new Error('CROSSMARK extension not found');\n      }\n      \n      await connectCrossmark();\n      const finalAmount = amount === 'other' ? Number(otherAmount) : Number(amount);\n      \n      const result = await signRlusdPaymentWithCrossmark({\n        amount: finalAmount,\n        destination: MEDA_ADDRESS,\n        charity: 'MEDA',\n        causeId: 'whisper'\n      });\n      \n      if (result.ok) {\n        setTransactionUrl(result.explorer || null);\n        setShowConfetti(true);\n        setTimeout(() => setShowConfetti(false), 2000);\n        setStep(5);\n      } else {\n        setCrossmarkError(result.error || 'Payment failed');\n      }\n    } catch (error) {\n      console.error('CROSSMARK payment failed:', error);\n      setCrossmarkError(error instanceof Error ? error.message : 'Payment failed');\n    } finally {\n      setCrossmarkBusy(false);\n    }\n  };\n\n  const toggleMic = () => {\n    if (listening) {\n      if (recognitionRef.current) {\n        recognitionRef.current.stop();\n      }\n      setListening(false);\n    } else {\n      if ('webkitSpeechRecognition' in window) {\n        const recognition = new (window as any).webkitSpeechRecognition();\n        recognition.continuous = false;\n        recognition.interimResults = false;\n        recognition.lang = 'en-US';\n        \n        recognition.onstart = () => setListening(true);\n        recognition.onresult = (event: any) => {\n          const transcript = event.results[0][0].transcript;\n          setMessage(transcript);\n        };\n        recognition.onerror = () => setListening(false);\n        recognition.onend = () => setListening(false);\n        \n        recognitionRef.current = recognition;\n        recognition.start();\n      } else {\n        alert('Speech recognition not supported in this browser');\n      }\n    }\n  };\n\n  // Confetti pieces\n  const pieces = Array.from({ length: 7 }).map((_, i) => ({\n    left: `${15 + i * 12}%`,\n    bottom: '20px',\n    background: i % 2 ? theme.accent : theme.soft1,\n  }));\n\n  return (\n    <div className={`whisper ${reducedMotion ? 'reduced-motion' : ''}`}>\n      \n\n      {step === 0 && (\n        <div className={`stage full ${reducedMotion ? '' : 'fade-in'}`}>\n          <div className=\"story-hero\" role=\"img\" aria-label={storyId ? `Story ${storyId}` : 'Story image'}>\n            <div className=\"overlay\" />\n            \n            {/* Floating decorative elements */}\n            <div className=\"floating-elements\">\n              {/* Left side icons */}\n              <div className=\"floating-icon\" style={{ top: '15%', left: '5%', animationDelay: '0s' }}>\n                <Sparkles size={24} color={theme.accent} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '35%', left: '10%', animationDelay: '1s' }}>\n                <Star size={20} color={theme.soft1} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '55%', left: '8%', animationDelay: '2s' }}>\n                <Heart size={18} color={theme.accent} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '75%', left: '12%', animationDelay: '0.5s' }}>\n                <Zap size={22} color={theme.soft1} />\n              </div>\n              \n              {/* Right side icons */}\n              <div className=\"floating-icon\" style={{ top: '25%', right: '8%', animationDelay: '1.5s' }}>\n                <Globe size={20} color={theme.accent} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '45%', right: '12%', animationDelay: '0.8s' }}>\n                <Shield size={19} color={theme.soft1} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '65%', right: '6%', animationDelay: '2.2s' }}>\n                <Users size={21} color={theme.accent} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '85%', right: '10%', animationDelay: '1.2s' }}>\n                <Gift size={23} color={theme.soft1} />\n              </div>\n              \n              {/* Right side icons to fill the space */}\n              <div className=\"floating-icon\" style={{ top: '10%', right: '15%', animationDelay: '0.3s' }}>\n                <Sparkles size={28} color={theme.accent} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '20%', right: '25%', animationDelay: '1.3s' }}>\n                <Star size={22} color={theme.soft1} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '30%', right: '10%', animationDelay: '2.3s' }}>\n                <Heart size={20} color={theme.accent} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '40%', right: '20%', animationDelay: '0.8s' }}>\n                <Zap size={24} color={theme.soft1} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '50%', right: '15%', animationDelay: '1.8s' }}>\n                <Globe size={21} color={theme.accent} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '60%', right: '25%', animationDelay: '2.8s' }}>\n                <Shield size={23} color={theme.soft1} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '70%', right: '12%', animationDelay: '1.1s' }}>\n                <Users size={25} color={theme.accent} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '80%', right: '18%', animationDelay: '2.1s' }}>\n                <Gift size={19} color={theme.soft1} />\n              </div>\n              <div className=\"floating-icon\" style={{ top: '90%', right: '22%', animationDelay: '0.6s' }}>\n                <Sparkles size={26} color={theme.accent} />\n              </div>\n            </div>\n            \n            {/* People in need images */}\n            <div className=\"people-images\">\n              <div className=\"person-image\" style={{ top: '10%', left: '8%', animationDelay: '0.5s' }}>\n                <div className=\"image-placeholder\">\n                  <Users size={40} color={theme.accent} />\n                  <div className=\"image-caption\">Students in need</div>\n                </div>\n              </div>\n              <div className=\"person-image\" style={{ top: '30%', left: '20%', animationDelay: '1.2s' }}>\n                <div className=\"image-placeholder\">\n                  <Heart size={40} color={theme.accent} />\n                  <div className=\"image-caption\">Families seeking help</div>\n                </div>\n              </div>\n              <div className=\"person-image\" style={{ top: '50%', left: '12%', animationDelay: '0.8s' }}>\n                <div className=\"image-placeholder\">\n                  <Shield size={40} color={theme.accent} />\n                  <div className=\"image-caption\">Community support</div>\n                </div>\n              </div>\n              <div className=\"person-image\" style={{ top: '70%', left: '18%', animationDelay: '1.5s' }}>\n                <div className=\"image-placeholder\">\n                  <Globe size={40} color={theme.accent} />\n                  <div className=\"image-caption\">Global impact</div>\n                </div>\n              </div>\n              <div className=\"person-image\" style={{ top: '20%', left: '75%', animationDelay: '0.3s' }}>\n                <div className=\"image-placeholder\">\n                  <Gift size={40} color={theme.accent} />\n                  <div className=\"image-caption\">Your generosity</div>\n                </div>\n              </div>\n              <div className=\"person-image\" style={{ top: '60%', left: '80%', animationDelay: '1.8s' }}>\n                <div className=\"image-placeholder\">\n                  <Sparkles size={40} color={theme.accent} />\n                  <div className=\"image-caption\">Hope & healing</div>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"hero-content\">\n               <div \n                 key={quoteIdx} \n                 className={`hero-quote ${reducedMotion ? '' : 'quote-fade'}`}\n               >\n                 {QUOTES[quoteIdx]}\n               </div>\n              <button className=\"cta-button\" onClick={() => { setStep(1); vibrate(); }}>\n                <Send size={20} />\n                Whisper a Message\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {step === 1 && (\n        <div className={`stage center ${reducedMotion ? '' : 'fade-in'}`} aria-live=\"polite\">\n          <div className=\"step-header\">\n            <button className=\"back-button\" onClick={() => { setStep(0); vibrate(); }}>\n              <ArrowLeft size={20} />\n              Back\n            </button>\n            <div className=\"step-indicator\">Step 1 of 4</div>\n          </div>\n          \n          <div className=\"prompt glow type-on\">I'm giving becauseâ€¦</div>\n          <div className=\"input-container\">\n            <textarea \n              className=\"whisper-input\" \n              placeholder=\"For girls who never had a laptop.\" \n              value={message} \n              onChange={handleMessageChange} \n              autoFocus \n            />\n            <div className=\"input-footer\">\n              <div className=\"hint\">{listening ? 'Listeningâ€¦ speak your message' : 'Pause to continue'}</div>\n              <button className=\"mic-button\" onClick={toggleMic} aria-pressed={listening}>\n                <Mic size={16} />\n                {listening ? 'Stop' : 'Speak'}\n              </button>\n            </div>\n          </div>\n          \n          <div className=\"actions\">\n            <button \n              className=\"primary-button\" \n              onClick={() => ((message || '').trim().length > 0 ? (setStep(2), vibrate()) : null)} \n              disabled={(message || '').trim().length === 0}\n            >\n              Next\n              <ArrowRight size={16} />\n            </button>\n          </div>\n        </div>\n      )}\n\n      {step === 2 && (\n        <div className={`stage center ${reducedMotion ? '' : 'fade-in'}`} aria-live=\"polite\">\n          <div className=\"step-header\">\n            <button className=\"back-button\" onClick={() => { setStep(1); vibrate(); }}>\n              <ArrowLeft size={20} />\n              Back\n            </button>\n            <div className=\"step-indicator\">Step 2 of 4</div>\n          </div>\n          \n          <div className=\"prompt\">How much do you want to give?</div>\n          <div className=\"amount-grid\">\n            {[10, 25, 50, 100].map((v) => (\n              <button key={v} className={`amount-pill ${amount === v ? 'selected' : ''}`} onClick={() => selectAmount(v)}>\n                ${v}\n              </button>\n            ))}\n            <button className={`amount-pill ${amount === '' && otherAmount ? 'selected' : ''}`} onClick={() => selectAmount('other')}>\n              Other\n            </button>\n          </div>\n\n          {showUndo && (\n            <div className=\"undo-hint\">\n              Amount selected. <button className=\"link-button\" onClick={undoAmount}>Undo</button>\n            </div>\n          )}\n\n          {amount === '' && (\n            <div className={`other-amount-row ${reducedMotion ? '' : 'slide-up'}`}>\n              <input \n                type=\"number\" \n                inputMode=\"decimal\" \n                min={1} \n                step=\"0.01\" \n                placeholder=\"Enter amount\" \n                className=\"other-input\" \n                value={otherAmount} \n                onChange={handleOtherAmount} \n              />\n              <button \n                className=\"apply-button\" \n                onClick={() => (Number(otherAmount) > 0 ? (setAmount(Number(otherAmount)), setStep(3), vibrate()) : null)} \n                disabled={!otherAmount || Number(otherAmount) <= 0}\n              >\n                Apply\n              </button>\n            </div>\n          )}\n\n          <div className=\"actions\">\n            {amount !== '' && (\n              <button className=\"primary-button\" onClick={() => { setStep(3); vibrate(); }}>\n                Next\n                <ArrowRight size={16} />\n              </button>\n            )}\n          </div>\n        </div>\n      )}\n\n      {step === 3 && (\n        <div className={`stage center ${reducedMotion ? '' : 'fade-in'}`} aria-live=\"polite\">\n          <div className=\"step-header\">\n            <button className=\"back-button\" onClick={() => { setStep(2); vibrate(); }}>\n              <ArrowLeft size={20} />\n              Back\n            </button>\n            <div className=\"step-indicator\">Step 3 of 4</div>\n          </div>\n          \n          <div className=\"prompt\">Would you like the story to know who you are?</div>\n          <div className=\"identity-toggle\">\n            <button className={`toggle-button ${isPublic ? 'active' : ''}`} onClick={() => handleIdentityChoice(true)}>\n              <Eye size={16} />\n              Yes, share my name\n            </button>\n            <button className={`toggle-button ${!isPublic ? 'active' : ''}`} onClick={() => handleIdentityChoice(false)}>\n              <EyeOff size={16} />\n              No, keep me anonymous\n            </button>\n          </div>\n\n          {isPublic && (\n            <div className={`email-section ${reducedMotion ? '' : 'slide-up'}`}>\n              <input \n                type=\"email\" \n                placeholder=\"you@example.com\" \n                className=\"email-input\" \n                value={email} \n                onChange={(e) => setEmail(e.target.value)} \n                aria-label=\"Email address\" \n              />\n              <button className=\"continue-button\" onClick={proceedFromIdentity}>\n                Continue\n                <ArrowRight size={16} />\n              </button>\n            </div>\n          )}\n\n          <div className=\"privacy-note\">We'll only use your email to send your receipt.</div>\n\n          <div className=\"actions\">\n            {!isPublic && (\n              <button className=\"primary-button\" onClick={proceedFromIdentity}>\n                Next\n                <ArrowRight size={16} />\n              </button>\n            )}\n          </div>\n        </div>\n      )}\n\n      {step === 4 && (\n        <div className={`stage center ${reducedMotion ? '' : 'fade-in'}`} aria-live=\"polite\">\n          <div className=\"step-header\">\n            <button className=\"back-button\" onClick={() => { setStep(3); vibrate(); }}>\n              <ArrowLeft size={20} />\n              Back\n            </button>\n            <div className=\"step-indicator\">Step 4 of 4</div>\n          </div>\n          \n          {error && <div className=\"error-message\" role=\"alert\">{error}</div>}\n          \n          <div className=\"summary-card\">\n            <div className=\"summary-header\">Your Message</div>\n                         <blockquote className=\"message-preview\">\"{message || ''}\"</blockquote>\n            <div className=\"summary-details\">\n              <div className=\"summary-item\">\n                <span>Amount:</span>\n                <span className=\"amount\">${amount === 'other' ? otherAmount : amount}</span>\n              </div>\n              <div className=\"summary-item\">\n                <span>Privacy:</span>\n                <span>{isPublic ? 'Public' : 'Anonymous'}</span>\n              </div>\n            </div>\n          </div>\n          \n          <button \n            className={`cta-button ${submitting ? 'disabled' : ''}`} \n            onClick={() => {\n              console.log('Button clicked!');\n              handleSubmit();\n            }} \n            disabled={submitting}\n          >\n            {submitting ? (\n              <>\n                <div className=\"spinner\" />\n                Sendingâ€¦\n              </>\n            ) : (\n              <>\n                <Heart size={20} />\n                Send my words and support\n              </>\n            )}\n          </button>\n          \n          <div className=\"alternative-options\">\n            <div className=\"options-label\">Or try these options:</div>\n            <div className=\"options-grid\">\n              <button className=\"option-button\" onClick={startXrpXamanFromWhisper}>\n                <MessageSquare size={16} />\n                XRP (Alternative)\n              </button>\n              <button \n                className=\"option-button\" \n                onClick={startRlusdCrossmarkFromWhisper} \n                disabled={crossmarkBusy}\n              >\n                {crossmarkBusy ? (\n                  <>\n                    <div className=\"spinner\" />\n                    Openingâ€¦\n                  </>\n                ) : (\n                  <>\n                    <Heart size={16} />\n                    RLUSD (CROSSMARK)\n                  </>\n                )}\n              </button>\n            </div>\n            {crossmarkError && <div className=\"error-message\" role=\"alert\">{crossmarkError}</div>}\n          </div>\n        </div>\n      )}\n\n      {step === 5 && (\n        <div className={`stage center ${reducedMotion ? '' : 'fade-in'}`} aria-live=\"polite\">\n          <div className=\"success-card\">\n            <div className=\"success-icon\">\n              <CheckCircle2 size={48} />\n            </div>\n            <h1 className=\"success-title\">Your message has been sent.</h1>\n            <p className=\"success-subtitle\">And so has your support.</p>\n                         <blockquote className=\"final-message\">\"{message || ''}\"</blockquote>\n            {transactionUrl && (\n              <a href={transactionUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"transaction-link\">\n                View your receipt details\n              </a>\n            )}\n            {!transactionUrl && (\n              <p className=\"processing-note\">Your transaction is being processed...</p>\n            )}\n            <button className=\"home-button\" onClick={() => window.location.href = '/'}>\n              Return Home\n            </button>\n          </div>\n        </div>\n      )}\n\n      {!reducedMotion && showConfetti && (\n        <div className=\"confetti\" aria-hidden>\n          {pieces.map((p, i) => (\n            <div key={i} className=\"piece\" style={{ left: p.left, bottom: p.bottom, background: p.background }} />\n          ))}\n        </div>\n      )}\n\n      <QRModal\n        open={xamanState.phase === 'creating' || xamanState.phase === 'ready'}\n        title=\"Donate with RLUSD\"\n        qrUrl={xamanState.phase === 'ready' ? xamanState.qrCode : undefined}\n        openLink={xamanState.phase === 'ready' ? `https://xumm.app/sign/${(xamanState as any).payloadId}` : undefined}\n        network=\"Testnet\"\n        status={xamanState.phase === 'creating' ? 'Creating RLUSD paymentâ€¦' : xamanState.phase === 'ready' ? 'Scan to sign in Xaman' : undefined}\n        onClose={() => setXamanState({ phase: 'idle' })}\n      />\n    </div>\n  );\n};\n\nexport default WhisperFlow;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}