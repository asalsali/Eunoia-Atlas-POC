{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.XummSdkJwt = exports.XummSdk = void 0;\nconst debug_1 = require(\"debug\");\nconst Meta_1 = require(\"./Meta\");\nconst Storage_1 = require(\"./Storage\");\nconst Payload_1 = require(\"./Payload\");\nconst xApp_1 = require(\"./xApp\");\nconst Push_1 = require(\"./Push\");\nconst JwtUserdata_1 = require(\"./JwtUserdata\");\nconst buffer_1 = require(\"buffer\");\nconst log = debug_1.debug('xumm-sdk');\nclass XummSdk {\n  constructor(apiKey, apiSecret) {\n    log('Constructed');\n    this.Meta = new Meta_1.Meta(apiKey || this.getEnv('XUMM_APIKEY'), apiSecret || this.getEnv('XUMM_APISECRET'));\n    this.storage = new Storage_1.Storage(this.Meta);\n    this.payload = new Payload_1.Payload(this.Meta);\n    this.jwtUserdata = new JwtUserdata_1.JwtUserdata(this.Meta);\n    this.Push = new Push_1.Push(this.Meta);\n    this.xApp = new xApp_1.xApp(this.Meta);\n    this.Meta._inject(this);\n    return this;\n  }\n  getEnv(arg) {\n    let value = '';\n    try {\n      value = (process === null || process === void 0 ? void 0 : process.env[arg]) || '';\n    } catch (_e) {\n      // Couldn't load .env\n    }\n    return value;\n  }\n  /**\n   * Proxy methods to Meta class below\n   */\n  ping() {\n    return this.Meta.ping();\n  }\n  getCuratedAssets() {\n    return this.Meta.getCuratedAssets();\n  }\n  getRails() {\n    return this.Meta.getRails();\n  }\n  getHookHashes() {\n    return this.Meta.getHookHashes();\n  }\n  getHookHash(hookHash) {\n    return this.Meta.getHookHash(hookHash);\n  }\n  getRates(currencyCode) {\n    return this.Meta.getRates(currencyCode);\n  }\n  getKycStatus(userTokenOrAccount) {\n    return this.Meta.getKycStatus(userTokenOrAccount);\n  }\n  getTransaction(txHash) {\n    return this.Meta.getTransaction(txHash);\n  }\n  getNftokenDetail(tokenId) {\n    return this.Meta.getNftokenDetail(tokenId);\n  }\n  verifyUserTokens(userTokens) {\n    return this.Meta.verifyUserTokens(userTokens);\n  }\n  verifyUserToken(token) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const tokenResults = yield this.Meta.verifyUserTokens([token]);\n      return Array.isArray(tokenResults) && tokenResults.length === 1 ? tokenResults[0] : null;\n    });\n  }\n  setEndpoint(endpoint) {\n    return this.Meta.setEndpoint(endpoint);\n  }\n  caught(error) {\n    throw error;\n  }\n}\nexports.XummSdk = XummSdk;\nclass XummSdkJwt extends XummSdk {\n  constructor(apiKeyOrJwt, ott, options) {\n    var _a, _b, _c, _d, _f, _g, _h, _j;\n    let _ott = String(ott || '').trim().toLowerCase();\n    const isRawJwt = apiKeyOrJwt.length !== 36;\n    /**\n     * xAppToken from URL to param if not explicitly provided\n     */\n    if (!isRawJwt) {\n      if (typeof ott === 'undefined' && typeof window !== 'undefined' && typeof window.URLSearchParams !== 'undefined') {\n        const urlSearchParams = new window.URLSearchParams(((_a = window === null || window === void 0 ? void 0 : window.location) === null || _a === void 0 ? void 0 : _a.search) || '');\n        for (const pair of urlSearchParams.entries()) {\n          if (pair[0] === 'xAppToken') {\n            _ott = pair[1].toLowerCase().trim();\n          }\n        }\n        if (_ott === '' && !(options === null || options === void 0 ? void 0 : options.store) && !(options === null || options === void 0 ? void 0 : options.noAutoRetrieve)) {\n          // Check if we have something in history\n          if (typeof ((_b = window === null || window === void 0 ? void 0 : window.localStorage) === null || _b === void 0 ? void 0 : _b['XummSdkJwt']) === 'string') {\n            try {\n              const localStorageJwtData = (_d = (_c = window === null || window === void 0 ? void 0 : window.localStorage) === null || _c === void 0 ? void 0 : _c['XummSdkJwt']) === null || _d === void 0 ? void 0 : _d.split(':');\n              const localStorageJwt = JSON.parse((_f = localStorageJwtData === null || localStorageJwtData === void 0 ? void 0 : localStorageJwtData.slice(1)) === null || _f === void 0 ? void 0 : _f.join(':'));\n              if (localStorageJwt === null || localStorageJwt === void 0 ? void 0 : localStorageJwt.jwt) {\n                const decodedJwt = buffer_1.Buffer.from((_g = localStorageJwt.jwt.split('.')) === null || _g === void 0 ? void 0 : _g[1], 'base64').toString('utf8');\n                const jwtContents = JSON.parse(decodedJwt);\n                if (jwtContents === null || jwtContents === void 0 ? void 0 : jwtContents.exp) {\n                  const validForSec = (jwtContents === null || jwtContents === void 0 ? void 0 : jwtContents.exp) - Math.floor(new Date().getTime() / 1000);\n                  console.log('Restoring OTT ' + (localStorageJwtData === null || localStorageJwtData === void 0 ? void 0 : localStorageJwtData[0]));\n                  if (validForSec > 60 * 60) {\n                    _ott = localStorageJwtData === null || localStorageJwtData === void 0 ? void 0 : localStorageJwtData[0];\n                  } else {\n                    console.log('Skip restore: not valid for one more hour');\n                  }\n                }\n              }\n            } catch (e) {\n              console.log('JWT Restore Error', e);\n            }\n          }\n        }\n      }\n    }\n    super(apiKeyOrJwt, !isRawJwt && _ott !== '' ? 'xApp:OneTimeToken:' + _ott : 'RAWJWT:' + apiKeyOrJwt);\n    this.resolve = ottData => {\n      log('OTT data resolved', ottData);\n    };\n    this.reject = error => {\n      log('OTT data rejected', error.message);\n    };\n    this.ottResolved = isRawJwt ? Promise.resolve() : new Promise((resolve, reject) => {\n      this.resolve = resolve;\n      this.reject = reject;\n    });\n    if (options === null || options === void 0 ? void 0 : options.fatalHandler) {\n      this.fatalHandler = options.fatalHandler;\n    }\n    this.store = {\n      get(uuid) {\n        var _a;\n        log('[JwtStore] » Builtin JWT store GET');\n        // Default store: localStorage\n        if (typeof window !== 'undefined' && typeof window.localStorage !== 'undefined') {\n          if (typeof window.localStorage['XummSdkJwt'] === 'string') {\n            const lsOttData = window.localStorage['XummSdkJwt'].split(':');\n            if (lsOttData[0] === uuid) {\n              // Restore from memory\n              log('Restoring OTT from localStorage:', uuid);\n              try {\n                return JSON.parse(lsOttData.slice(1).join(':'));\n              } catch (e) {\n                log('Error restoring OTT Data (JWT) from localStorage', (_a = e) === null || _a === void 0 ? void 0 : _a.message);\n              }\n            }\n          }\n        }\n      },\n      set(uuid, ottData) {\n        log('[JwtStore] » Builtin JWT store SET', uuid);\n        // Default store: localStorage\n        if (typeof window !== 'undefined' && typeof localStorage !== 'undefined') {\n          window.localStorage['XummSdkJwt'] = uuid + ':' + JSON.stringify(ottData);\n        }\n      }\n    };\n    if ((_h = options === null || options === void 0 ? void 0 : options.store) === null || _h === void 0 ? void 0 : _h.get) {\n      this.store.get = options.store.get;\n    }\n    if ((_j = options === null || options === void 0 ? void 0 : options.store) === null || _j === void 0 ? void 0 : _j.set) {\n      this.store.set = options.store.set;\n    }\n    if (isRawJwt) {\n      this.reject(new Error('Not in OTT flow: in raw JWT (OAuth2-like) flow'));\n      log('Using JWT (Raw, OAuth2) flow');\n    } else {\n      log('Using JWT (xApp) flow');\n    }\n  }\n  _jwtStore(invoker, persistJwt) {\n    if (invoker && (invoker === null || invoker === void 0 ? void 0 : invoker.constructor) === Meta_1.Meta) {\n      return {\n        get: uuid => {\n          var _a;\n          log('[JwtStore] Proxy GET');\n          return (_a = this.store) === null || _a === void 0 ? void 0 : _a.get(uuid);\n        },\n        set: (uuid, ottData) => {\n          var _a;\n          log('[JwtStore] Proxy SET');\n          this.resolve(ottData.ott);\n          persistJwt(ottData.jwt);\n          this.jwt = ottData.jwt;\n          return (_a = this.store) === null || _a === void 0 ? void 0 : _a.set(uuid, ottData);\n        }\n      };\n    }\n    throw new Error('Invalid _jwtStore invoker');\n  }\n  getOttData() {\n    return __awaiter(this, void 0, void 0, function* () {\n      const resolved = yield this.ottResolved;\n      if (resolved) {\n        return resolved;\n      }\n      throw new Error('Called getOttData on a non OTT-JWT flow');\n    });\n  }\n  getJwt() {\n    return __awaiter(this, void 0, void 0, function* () {\n      yield this.ottResolved;\n      return this.jwt;\n    });\n  }\n  caught(error) {\n    this.reject(error);\n  }\n}\nexports.XummSdkJwt = XummSdkJwt;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","XummSdkJwt","XummSdk","debug_1","require","Meta_1","Storage_1","Payload_1","xApp_1","Push_1","JwtUserdata_1","buffer_1","log","debug","constructor","apiKey","apiSecret","Meta","getEnv","storage","Storage","payload","Payload","jwtUserdata","JwtUserdata","Push","xApp","_inject","arg","process","env","_e","ping","getCuratedAssets","getRails","getHookHashes","getHookHash","hookHash","getRates","currencyCode","getKycStatus","userTokenOrAccount","getTransaction","txHash","getNftokenDetail","tokenId","verifyUserTokens","userTokens","verifyUserToken","token","tokenResults","Array","isArray","length","setEndpoint","endpoint","caught","error","apiKeyOrJwt","ott","options","_a","_b","_c","_d","_f","_g","_h","_j","_ott","String","trim","toLowerCase","isRawJwt","window","URLSearchParams","urlSearchParams","location","search","pair","entries","store","noAutoRetrieve","localStorage","localStorageJwtData","split","localStorageJwt","JSON","parse","slice","join","jwt","decodedJwt","Buffer","from","toString","jwtContents","exp","validForSec","Math","floor","Date","getTime","console","ottData","message","ottResolved","fatalHandler","get","uuid","lsOttData","set","stringify","Error","_jwtStore","invoker","persistJwt","getOttData","resolved","getJwt"],"sources":["C:/Users/Alex Salsali/Desktop/Eunoia-Atlas-POC/frontend/node_modules/xumm-sdk/dist/src/index.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.XummSdkJwt = exports.XummSdk = void 0;\nconst debug_1 = require(\"debug\");\nconst Meta_1 = require(\"./Meta\");\nconst Storage_1 = require(\"./Storage\");\nconst Payload_1 = require(\"./Payload\");\nconst xApp_1 = require(\"./xApp\");\nconst Push_1 = require(\"./Push\");\nconst JwtUserdata_1 = require(\"./JwtUserdata\");\nconst buffer_1 = require(\"buffer\");\nconst log = debug_1.debug('xumm-sdk');\nclass XummSdk {\n    constructor(apiKey, apiSecret) {\n        log('Constructed');\n        this.Meta = new Meta_1.Meta(apiKey || this.getEnv('XUMM_APIKEY'), apiSecret || this.getEnv('XUMM_APISECRET'));\n        this.storage = new Storage_1.Storage(this.Meta);\n        this.payload = new Payload_1.Payload(this.Meta);\n        this.jwtUserdata = new JwtUserdata_1.JwtUserdata(this.Meta);\n        this.Push = new Push_1.Push(this.Meta);\n        this.xApp = new xApp_1.xApp(this.Meta);\n        this.Meta._inject(this);\n        return this;\n    }\n    getEnv(arg) {\n        let value = '';\n        try {\n            value = (process === null || process === void 0 ? void 0 : process.env[arg]) || '';\n        }\n        catch (_e) {\n            // Couldn't load .env\n        }\n        return value;\n    }\n    /**\n     * Proxy methods to Meta class below\n     */\n    ping() {\n        return this.Meta.ping();\n    }\n    getCuratedAssets() {\n        return this.Meta.getCuratedAssets();\n    }\n    getRails() {\n        return this.Meta.getRails();\n    }\n    getHookHashes() {\n        return this.Meta.getHookHashes();\n    }\n    getHookHash(hookHash) {\n        return this.Meta.getHookHash(hookHash);\n    }\n    getRates(currencyCode) {\n        return this.Meta.getRates(currencyCode);\n    }\n    getKycStatus(userTokenOrAccount) {\n        return this.Meta.getKycStatus(userTokenOrAccount);\n    }\n    getTransaction(txHash) {\n        return this.Meta.getTransaction(txHash);\n    }\n    getNftokenDetail(tokenId) {\n        return this.Meta.getNftokenDetail(tokenId);\n    }\n    verifyUserTokens(userTokens) {\n        return this.Meta.verifyUserTokens(userTokens);\n    }\n    verifyUserToken(token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const tokenResults = yield this.Meta.verifyUserTokens([token]);\n            return Array.isArray(tokenResults) && tokenResults.length === 1\n                ? tokenResults[0]\n                : null;\n        });\n    }\n    setEndpoint(endpoint) {\n        return this.Meta.setEndpoint(endpoint);\n    }\n    caught(error) {\n        throw error;\n    }\n}\nexports.XummSdk = XummSdk;\nclass XummSdkJwt extends XummSdk {\n    constructor(apiKeyOrJwt, ott, options) {\n        var _a, _b, _c, _d, _f, _g, _h, _j;\n        let _ott = String(ott || '').trim().toLowerCase();\n        const isRawJwt = apiKeyOrJwt.length !== 36;\n        /**\n         * xAppToken from URL to param if not explicitly provided\n         */\n        if (!isRawJwt) {\n            if (typeof ott === 'undefined'\n                && typeof window !== 'undefined'\n                && typeof window.URLSearchParams !== 'undefined') {\n                const urlSearchParams = new window.URLSearchParams(((_a = window === null || window === void 0 ? void 0 : window.location) === null || _a === void 0 ? void 0 : _a.search) || '');\n                for (const pair of urlSearchParams.entries()) {\n                    if (pair[0] === 'xAppToken') {\n                        _ott = pair[1].toLowerCase().trim();\n                    }\n                }\n                if (_ott === '' && !(options === null || options === void 0 ? void 0 : options.store) && !(options === null || options === void 0 ? void 0 : options.noAutoRetrieve)) {\n                    // Check if we have something in history\n                    if (typeof ((_b = window === null || window === void 0 ? void 0 : window.localStorage) === null || _b === void 0 ? void 0 : _b['XummSdkJwt']) === 'string') {\n                        try {\n                            const localStorageJwtData = (_d = (_c = window === null || window === void 0 ? void 0 : window.localStorage) === null || _c === void 0 ? void 0 : _c['XummSdkJwt']) === null || _d === void 0 ? void 0 : _d.split(':');\n                            const localStorageJwt = JSON.parse((_f = localStorageJwtData === null || localStorageJwtData === void 0 ? void 0 : localStorageJwtData.slice(1)) === null || _f === void 0 ? void 0 : _f.join(':'));\n                            if (localStorageJwt === null || localStorageJwt === void 0 ? void 0 : localStorageJwt.jwt) {\n                                const decodedJwt = buffer_1.Buffer.from((_g = localStorageJwt.jwt.split('.')) === null || _g === void 0 ? void 0 : _g[1], 'base64').toString('utf8');\n                                const jwtContents = JSON.parse(decodedJwt);\n                                if (jwtContents === null || jwtContents === void 0 ? void 0 : jwtContents.exp) {\n                                    const validForSec = (jwtContents === null || jwtContents === void 0 ? void 0 : jwtContents.exp) - Math.floor((new Date()).getTime() / 1000);\n                                    console.log('Restoring OTT ' + (localStorageJwtData === null || localStorageJwtData === void 0 ? void 0 : localStorageJwtData[0]));\n                                    if (validForSec > 60 * 60) {\n                                        _ott = localStorageJwtData === null || localStorageJwtData === void 0 ? void 0 : localStorageJwtData[0];\n                                    }\n                                    else {\n                                        console.log('Skip restore: not valid for one more hour');\n                                    }\n                                }\n                            }\n                        }\n                        catch (e) {\n                            console.log('JWT Restore Error', e);\n                        }\n                    }\n                }\n            }\n        }\n        super(apiKeyOrJwt, !isRawJwt && _ott !== ''\n            ? 'xApp:OneTimeToken:' + _ott\n            : 'RAWJWT:' + apiKeyOrJwt);\n        this.resolve = (ottData) => {\n            log('OTT data resolved', ottData);\n        };\n        this.reject = (error) => {\n            log('OTT data rejected', error.message);\n        };\n        this.ottResolved = isRawJwt\n            ? Promise.resolve()\n            : new Promise((resolve, reject) => {\n                this.resolve = resolve;\n                this.reject = reject;\n            });\n        if (options === null || options === void 0 ? void 0 : options.fatalHandler) {\n            this.fatalHandler = options.fatalHandler;\n        }\n        this.store = {\n            get(uuid) {\n                var _a;\n                log('[JwtStore] » Builtin JWT store GET');\n                // Default store: localStorage\n                if (typeof window !== 'undefined' && typeof window.localStorage !== 'undefined') {\n                    if (typeof window.localStorage['XummSdkJwt'] === 'string') {\n                        const lsOttData = window.localStorage['XummSdkJwt'].split(':');\n                        if (lsOttData[0] === uuid) {\n                            // Restore from memory\n                            log('Restoring OTT from localStorage:', uuid);\n                            try {\n                                return JSON.parse(lsOttData.slice(1).join(':'));\n                            }\n                            catch (e) {\n                                log('Error restoring OTT Data (JWT) from localStorage', (_a = e) === null || _a === void 0 ? void 0 : _a.message);\n                            }\n                        }\n                    }\n                }\n            },\n            set(uuid, ottData) {\n                log('[JwtStore] » Builtin JWT store SET', uuid);\n                // Default store: localStorage\n                if (typeof window !== 'undefined' && typeof localStorage !== 'undefined') {\n                    window.localStorage['XummSdkJwt'] = uuid + ':' + JSON.stringify(ottData);\n                }\n            }\n        };\n        if ((_h = options === null || options === void 0 ? void 0 : options.store) === null || _h === void 0 ? void 0 : _h.get) {\n            this.store.get = options.store.get;\n        }\n        if ((_j = options === null || options === void 0 ? void 0 : options.store) === null || _j === void 0 ? void 0 : _j.set) {\n            this.store.set = options.store.set;\n        }\n        if (isRawJwt) {\n            this.reject(new Error('Not in OTT flow: in raw JWT (OAuth2-like) flow'));\n            log('Using JWT (Raw, OAuth2) flow');\n        }\n        else {\n            log('Using JWT (xApp) flow');\n        }\n    }\n    _jwtStore(invoker, persistJwt) {\n        if (invoker && (invoker === null || invoker === void 0 ? void 0 : invoker.constructor) === Meta_1.Meta) {\n            return {\n                get: uuid => {\n                    var _a;\n                    log('[JwtStore] Proxy GET');\n                    return (_a = this.store) === null || _a === void 0 ? void 0 : _a.get(uuid);\n                },\n                set: (uuid, ottData) => {\n                    var _a;\n                    log('[JwtStore] Proxy SET');\n                    this.resolve(ottData.ott);\n                    persistJwt(ottData.jwt);\n                    this.jwt = ottData.jwt;\n                    return (_a = this.store) === null || _a === void 0 ? void 0 : _a.set(uuid, ottData);\n                }\n            };\n        }\n        throw new Error('Invalid _jwtStore invoker');\n    }\n    getOttData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const resolved = yield this.ottResolved;\n            if (resolved) {\n                return resolved;\n            }\n            throw new Error('Called getOttData on a non OTT-JWT flow');\n        });\n    }\n    getJwt() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.ottResolved;\n            return this.jwt;\n        });\n    }\n    caught(error) {\n        this.reject(error);\n    }\n}\nexports.XummSdkJwt = XummSdkJwt;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}