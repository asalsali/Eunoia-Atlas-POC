{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alex Salsali\\\\Desktop\\\\Eunoia-Atlas-POC\\\\frontend\\\\src\\\\components\\\\WhisperFlow.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Heart, Mic, ArrowLeft, ArrowRight, Eye, EyeOff, Send, CreditCard } from 'lucide-react';\nimport { xamanCreatePayment } from '../services/api';\nimport { checkUserPaymentStatus } from '../services/userWalletService';\nimport { isCrossmarkAvailable, connectCrossmark, signRlusdPaymentWithCrossmark } from '../services/crossmarkService';\nimport DonationConfirmation from './DonationConfirmation';\nimport './WhisperFlow.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst QUOTES = ['\"Sometimes a few words can carry a lifetime.\"', '\"A small gift can change a whole day.\"', '\"Light grows where we speak hope.\"', '\"Your words have power beyond measure.\"', '\"Every whisper of kindness echoes forever.\"'];\nconst WhisperFlow = () => {\n  _s();\n  const [step, setStep] = useState(0);\n  const [message, setMessage] = useState('');\n  const [amount, setAmount] = useState('');\n  const [otherAmount, setOtherAmount] = useState('');\n  const [isPublic, setIsPublic] = useState(false);\n  const [email, setEmail] = useState('');\n  const [listening, setListening] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState(null);\n  const [quoteIdx, setQuoteIdx] = useState(0);\n  const [showConfetti, setShowConfetti] = useState(false);\n  const [transactionUrl, setTransactionUrl] = useState(null);\n  const [xamanState, setXamanState] = useState({\n    phase: 'idle'\n  });\n  const [fiatState, setFiatState] = useState({\n    phase: 'idle'\n  });\n  const [crossmarkBusy, setCrossmarkBusy] = useState(false);\n  const [crossmarkError, setCrossmarkError] = useState(null);\n  const [countdown, setCountdown] = useState(0);\n  const xamanPollRef = useRef(null);\n  const recognitionRef = useRef(null);\n  const navigate = useNavigate();\n  const MEDA_ADDRESS = 'r4jSjD22z6HtEu41eh1JrkD3KAW1PyM1RH';\n  const RLUSD_ISSUER = 'rQhWct2fv4Vc4KRjRgMrxa8xPN9Zx9iLKV';\n\n  // Quote rotation\n  useEffect(() => {\n    if (step === 0) {\n      const interval = setInterval(() => {\n        setQuoteIdx(prev => (prev + 1) % QUOTES.length);\n      }, 4000);\n      return () => clearInterval(interval);\n    }\n  }, [step]);\n\n  // Voice recognition setup\n  useEffect(() => {\n    if ('webkitSpeechRecognition' in window) {\n      recognitionRef.current = new window.webkitSpeechRecognition();\n      recognitionRef.current.continuous = false;\n      recognitionRef.current.interimResults = false;\n      recognitionRef.current.lang = 'en-US';\n      recognitionRef.current.onstart = () => setListening(true);\n      recognitionRef.current.onresult = event => {\n        const transcript = event.results[0][0].transcript;\n        setMessage(transcript);\n      };\n      recognitionRef.current.onerror = () => setListening(false);\n      recognitionRef.current.onend = () => setListening(false);\n    }\n  }, []);\n  const startListening = () => {\n    if (recognitionRef.current) {\n      recognitionRef.current.start();\n    }\n  };\n  const stopListening = () => {\n    if (recognitionRef.current) {\n      recognitionRef.current.stop();\n    }\n  };\n  const handleSubmit = async () => {\n    if (submitting) return;\n    setSubmitting(true);\n    setError(null);\n    const finalAmount = amount === 'other' ? Number(otherAmount) : Number(amount);\n    if (!finalAmount || finalAmount <= 0) {\n      setError('Please enter a valid amount');\n      setSubmitting(false);\n      return;\n    }\n\n    // Use the demo RLUSD flow (1 RLUSD fixed amount)\n    await startRlusdXamanFromWhisper();\n    setSubmitting(false);\n  };\n  const startRlusdXamanFromWhisper = async () => {\n    if (xamanState.phase !== 'idle') return;\n    setXamanState({\n      phase: 'creating'\n    });\n    try {\n      const response = await xamanCreatePayment({\n        destination: MEDA_ADDRESS,\n        amount: 1,\n        // Fixed 1 RLUSD like the demo\n        charity: 'MEDA',\n        cause_id: 'whisper_rlusd_demo',\n        asset: 'RLUSD',\n        issuer: RLUSD_ISSUER\n      });\n      if (response.success && response.payloadId) {\n        setXamanState({\n          phase: 'ready',\n          payloadId: response.payloadId,\n          qrCode: response.qrCode\n        });\n\n        // Auto-show confirmation after 10 seconds for demo purposes\n        setCountdown(10);\n        const countdownInterval = setInterval(() => {\n          setCountdown(prev => {\n            if (prev <= 1) {\n              clearInterval(countdownInterval);\n              if (xamanPollRef.current) clearInterval(xamanPollRef.current);\n              setXamanState({\n                phase: 'completed',\n                txid: 'demo-tx-' + Date.now().toString().slice(-8)\n              });\n              setTransactionUrl('https://testnet.xrpl.org/transactions/demo-tx-' + Date.now().toString().slice(-8));\n              setShowConfetti(true);\n              setTimeout(() => setShowConfetti(false), 2000);\n              setStep(5);\n              return 0;\n            }\n            return prev - 1;\n          });\n        }, 1000);\n\n        // Also add a backup timeout in case the interval fails\n        setTimeout(() => {\n          if (xamanPollRef.current) clearInterval(xamanPollRef.current);\n          setXamanState({\n            phase: 'completed',\n            txid: 'demo-tx-backup-' + Date.now().toString().slice(-8)\n          });\n          setTransactionUrl('https://testnet.xrpl.org/transactions/demo-tx-backup-' + Date.now().toString().slice(-8));\n          setShowConfetti(true);\n          setTimeout(() => setShowConfetti(false), 2000);\n          setStep(5);\n        }, 11000); // 11 seconds as backup\n\n        // Poll for completion (original logic - kept for real payments)\n        xamanPollRef.current = window.setInterval(async () => {\n          try {\n            const status = await checkUserPaymentStatus(response.payloadId);\n            if (status.completed) {\n              if (xamanPollRef.current) clearInterval(xamanPollRef.current);\n              setXamanState({\n                phase: 'completed',\n                txid: status.txid\n              });\n              setTransactionUrl(status.transactionUrl);\n              setShowConfetti(true);\n              setTimeout(() => setShowConfetti(false), 2000);\n              setStep(5);\n            }\n          } catch (error) {\n            console.error('Payment status check failed:', error);\n          }\n        }, 2000);\n      } else {\n        setXamanState({\n          phase: 'error',\n          message: 'Failed to create payment'\n        });\n      }\n    } catch (error) {\n      console.error('Xaman payment creation failed:', error);\n      setXamanState({\n        phase: 'error',\n        message: 'Failed to create payment'\n      });\n    }\n  };\n  const startRlusdCrossmarkFromWhisper = async () => {\n    if (crossmarkBusy) return;\n    setCrossmarkBusy(true);\n    setCrossmarkError(null);\n    try {\n      if (!isCrossmarkAvailable()) {\n        throw new Error('CROSSMARK extension not found');\n      }\n      await connectCrossmark();\n      const finalAmount = amount === 'other' ? Number(otherAmount) : Number(amount);\n      const result = await signRlusdPaymentWithCrossmark({\n        amount: finalAmount,\n        destination: MEDA_ADDRESS,\n        charity: 'MEDA',\n        causeId: 'whisper',\n        issuer: RLUSD_ISSUER\n      });\n      if (result.ok) {\n        setTransactionUrl(result.explorer || null);\n        setShowConfetti(true);\n        setTimeout(() => setShowConfetti(false), 2000);\n        setStep(5);\n      } else {\n        setCrossmarkError(result.error || 'Payment failed');\n      }\n    } catch (error) {\n      console.error('CROSSMARK payment failed:', error);\n      setCrossmarkError(error instanceof Error ? error.message : 'Payment failed');\n    } finally {\n      setCrossmarkBusy(false);\n    }\n  };\n  const startFiatTransaction = async () => {\n    try {\n      setFiatState({\n        phase: 'processing'\n      });\n\n      // Simulate fiat transaction processing\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      const txid = 'fiat-tx-' + Date.now().toString().slice(-8);\n      setFiatState({\n        phase: 'completed',\n        txid\n      });\n      setTransactionUrl(`https://testnet.xrpl.org/transactions/${txid}`);\n      setShowConfetti(true);\n      setTimeout(() => setShowConfetti(false), 2000);\n      setStep(5);\n    } catch (error) {\n      console.error('Fiat transaction error:', error);\n      setFiatState({\n        phase: 'error',\n        message: 'Fiat transaction failed. Please try again.'\n      });\n    }\n  };\n\n  // Step 0: Landing page with quotes\n  if (step === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '24px 16px',\n        position: 'relative',\n        overflow: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'radial-gradient(circle at 20% 80%, rgba(124, 58, 237, 0.03) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(124, 58, 237, 0.03) 0%, transparent 50%)',\n          pointerEvents: 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: '800px',\n          textAlign: 'center',\n          position: 'relative',\n          zIndex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'rgba(255, 255, 255, 0.95)',\n            padding: '40px',\n            borderRadius: '24px',\n            boxShadow: '0 12px 40px rgba(0,0,0,0.15)',\n            marginBottom: '32px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              fontSize: '2.5rem',\n              fontWeight: '700',\n              color: '#1e293b',\n              marginBottom: '16px',\n              lineHeight: '1.3'\n            },\n            children: QUOTES[quoteIdx]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '1.2rem',\n              color: '#64748b',\n              margin: 0\n            },\n            children: \"Share your story and make a difference\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            display: 'inline-flex',\n            alignItems: 'center',\n            gap: '12px',\n            background: 'linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)',\n            color: '#ffffff',\n            border: 'none',\n            borderRadius: '16px',\n            padding: '16px 32px',\n            fontWeight: '600',\n            fontSize: '1.125rem',\n            cursor: 'pointer',\n            transition: 'all 0.3s ease',\n            boxShadow: '0 8px 24px rgba(124, 58, 237, 0.3)'\n          },\n          onClick: () => setStep(1),\n          onMouseEnter: e => {\n            e.currentTarget.style.transform = 'translateY(-2px)';\n            e.currentTarget.style.boxShadow = '0 12px 32px rgba(124, 58, 237, 0.4)';\n          },\n          onMouseLeave: e => {\n            e.currentTarget.style.transform = 'translateY(0)';\n            e.currentTarget.style.boxShadow = '0 8px 24px rgba(124, 58, 237, 0.3)';\n          },\n          children: [/*#__PURE__*/_jsxDEV(Send, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), \"Whisper a Message\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Step 1: Message input\n  if (step === 1) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '24px 16px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: '600px',\n          width: '100%',\n          background: '#ffffff',\n          borderRadius: '20px',\n          padding: '40px',\n          boxShadow: '0 8px 32px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '32px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              background: 'transparent',\n              border: 'none',\n              color: '#64748b',\n              fontWeight: '600',\n              cursor: 'pointer',\n              padding: '8px 12px',\n              borderRadius: '8px',\n              transition: 'all 0.2s ease'\n            },\n            onClick: () => setStep(0),\n            children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this), \"Back\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.875rem',\n              color: '#64748b',\n              fontWeight: '500'\n            },\n            children: \"Step 1 of 4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: '1.75rem',\n            color: '#1e293b',\n            marginBottom: '24px',\n            fontWeight: '700'\n          },\n          children: \"What's your story?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#64748b',\n            marginBottom: '24px',\n            fontSize: '0.9rem'\n          },\n          children: \"Share a message that will inspire others to give\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#fff',\n            border: '2px solid #e2e8f0',\n            borderRadius: '16px',\n            padding: '24px',\n            marginBottom: '24px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: message,\n            onChange: e => setMessage(e.target.value),\n            placeholder: \"Tell us why this cause matters to you...\",\n            style: {\n              width: '100%',\n              minHeight: '120px',\n              background: 'transparent',\n              border: 'none',\n              outline: 'none',\n              color: '#1e293b',\n              fontSize: '1.125rem',\n              resize: 'vertical'\n            },\n            rows: 6,\n            maxLength: 500\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              marginTop: '16px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: '6px',\n                background: listening ? '#7c3aed' : '#ede9fe',\n                border: '1px solid #7c3aed',\n                color: listening ? '#fff' : '#7c3aed',\n                borderRadius: '8px',\n                padding: '8px 12px',\n                fontWeight: '600',\n                fontSize: '0.875rem',\n                cursor: 'pointer',\n                transition: 'all 0.2s ease'\n              },\n              onClick: listening ? stopListening : startListening,\n              disabled: !recognitionRef.current,\n              children: [/*#__PURE__*/_jsxDEV(Mic, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 17\n              }, this), listening ? 'Listening...' : 'Voice']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#64748b',\n                fontSize: '0.9rem'\n              },\n              children: [message.length, \"/500\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#fee2e2',\n            color: '#b91c1c',\n            border: '1px solid #fecaca',\n            borderRadius: '12px',\n            padding: '16px',\n            marginBottom: '16px',\n            fontWeight: '500'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            display: 'inline-flex',\n            alignItems: 'center',\n            gap: '8px',\n            background: 'linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)',\n            color: '#ffffff',\n            border: 'none',\n            borderRadius: '12px',\n            padding: '12px 24px',\n            fontWeight: '600',\n            cursor: 'pointer',\n            transition: 'all 0.2s ease',\n            opacity: !message.trim() ? 0.5 : 1,\n            pointerEvents: !message.trim() ? 'none' : 'auto'\n          },\n          onClick: () => setStep(2),\n          disabled: !message.trim(),\n          children: [\"Continue\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Step 2: Amount selection\n  if (step === 2) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '24px 16px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: '600px',\n          width: '100%',\n          background: '#ffffff',\n          borderRadius: '20px',\n          padding: '40px',\n          boxShadow: '0 8px 32px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '32px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              background: 'transparent',\n              border: 'none',\n              color: '#64748b',\n              fontWeight: '600',\n              cursor: 'pointer',\n              padding: '8px 12px',\n              borderRadius: '8px',\n              transition: 'all 0.2s ease'\n            },\n            onClick: () => setStep(1),\n            children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 15\n            }, this), \"Back\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.875rem',\n              color: '#64748b',\n              fontWeight: '500'\n            },\n            children: \"Step 2 of 4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: '1.75rem',\n            color: '#1e293b',\n            marginBottom: '24px',\n            fontWeight: '700'\n          },\n          children: \"Choose your amount\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#64748b',\n            marginBottom: '24px',\n            fontSize: '0.9rem'\n          },\n          children: \"Select how much you'd like to donate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 572,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(3, 1fr)',\n            gap: '12px',\n            marginBottom: '24px'\n          },\n          children: [[5, 10, 25, 50, 100].map(amt => /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              background: amount === amt ? '#7c3aed' : '#fff',\n              color: amount === amt ? '#fff' : '#1e293b',\n              border: `2px solid ${amount === amt ? '#7c3aed' : '#ede9fe'}`,\n              borderRadius: '12px',\n              padding: '16px 12px',\n              fontWeight: '600',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease',\n              boxShadow: amount === amt ? '0 4px 12px rgba(124, 58, 237, 0.3)' : '0 2px 8px rgba(0,0,0,0.05)'\n            },\n            onClick: () => setAmount(amt),\n            children: [\"$\", amt]\n          }, amt, true, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              background: amount === 'other' ? '#7c3aed' : '#fff',\n              color: amount === 'other' ? '#fff' : '#1e293b',\n              border: `2px solid ${amount === 'other' ? '#7c3aed' : '#ede9fe'}`,\n              borderRadius: '12px',\n              padding: '16px 12px',\n              fontWeight: '600',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease',\n              boxShadow: amount === 'other' ? '0 4px 12px rgba(124, 58, 237, 0.3)' : '0 2px 8px rgba(0,0,0,0.05)'\n            },\n            onClick: () => setAmount('other'),\n            children: \"Other\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 11\n        }, this), amount === 'other' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '12px',\n            alignItems: 'center',\n            marginBottom: '24px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: otherAmount,\n            onChange: e => setOtherAmount(e.target.value),\n            placeholder: \"Enter amount\",\n            min: \"0.01\",\n            step: \"0.01\",\n            style: {\n              flex: 1,\n              padding: '12px 16px',\n              border: '2px solid #e2e8f0',\n              borderRadius: '12px',\n              fontSize: '1rem',\n              transition: 'border-color 0.2s ease'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 630,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              background: '#7c3aed',\n              color: '#fff',\n              border: 'none',\n              borderRadius: '12px',\n              padding: '12px 20px',\n              fontWeight: '600',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease',\n              opacity: !otherAmount || Number(otherAmount) <= 0 ? 0.5 : 1,\n              pointerEvents: !otherAmount || Number(otherAmount) <= 0 ? 'none' : 'auto'\n            },\n            onClick: () => {\n              if (otherAmount && Number(otherAmount) > 0) {\n                setAmount(Number(otherAmount));\n              }\n            },\n            disabled: !otherAmount || Number(otherAmount) <= 0,\n            children: \"Apply\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#fee2e2',\n            color: '#b91c1c',\n            border: '1px solid #fecaca',\n            borderRadius: '12px',\n            padding: '16px',\n            marginBottom: '16px',\n            fontWeight: '500'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 672,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            display: 'inline-flex',\n            alignItems: 'center',\n            gap: '8px',\n            background: 'linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)',\n            color: '#ffffff',\n            border: 'none',\n            borderRadius: '12px',\n            padding: '12px 24px',\n            fontWeight: '600',\n            cursor: 'pointer',\n            transition: 'all 0.2s ease',\n            opacity: !amount && !otherAmount ? 0.5 : 1,\n            pointerEvents: !amount && !otherAmount ? 'none' : 'auto'\n          },\n          onClick: () => setStep(3),\n          disabled: !amount && !otherAmount,\n          children: [\"Continue\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 705,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 685,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Step 3: Review and visibility\n  if (step === 3) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '24px 16px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: '600px',\n          width: '100%',\n          background: '#ffffff',\n          borderRadius: '20px',\n          padding: '40px',\n          boxShadow: '0 8px 32px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '32px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              background: 'transparent',\n              border: 'none',\n              color: '#64748b',\n              fontWeight: '600',\n              cursor: 'pointer',\n              padding: '8px 12px',\n              borderRadius: '8px',\n              transition: 'all 0.2s ease'\n            },\n            onClick: () => setStep(2),\n            children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 753,\n              columnNumber: 15\n            }, this), \"Back\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.875rem',\n              color: '#64748b',\n              fontWeight: '500'\n            },\n            children: \"Step 3 of 4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: '1.75rem',\n            color: '#1e293b',\n            marginBottom: '24px',\n            fontWeight: '700'\n          },\n          children: \"Review your donation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 765,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#64748b',\n            marginBottom: '24px',\n            fontSize: '0.9rem'\n          },\n          children: \"Make sure everything looks right before you give\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 773,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'linear-gradient(135deg, #fff 0%, #f8fafc 100%)',\n            borderRadius: '20px',\n            padding: '32px',\n            marginBottom: '24px',\n            border: '1px solid #e2e8f0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: '1.25rem',\n              fontWeight: '700',\n              color: '#1e293b',\n              marginBottom: '16px'\n            },\n            children: \"Your Whisper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 788,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '1.125rem',\n              color: '#64748b',\n              fontStyle: 'italic',\n              margin: '16px 0',\n              padding: '16px',\n              background: '#ede9fe',\n              borderRadius: '12px',\n              borderLeft: '4px solid #7c3aed'\n            },\n            children: [\"\\\"\", message, \"\\\"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 796,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              marginTop: '20px',\n              paddingTop: '20px',\n              borderTop: '1px solid #e2e8f0'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.875rem',\n                  color: '#64748b',\n                  fontWeight: '500'\n                },\n                children: \"Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 816,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '1.25rem',\n                  fontWeight: '700',\n                  color: '#7c3aed'\n                },\n                children: [\"$\", amount === 'other' ? otherAmount : amount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 819,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 815,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 808,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 781,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '12px',\n            justifyContent: 'center',\n            marginBottom: '24px',\n            flexWrap: 'wrap'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              background: isPublic ? '#7c3aed' : '#fff',\n              color: isPublic ? '#fff' : '#1e293b',\n              border: `2px solid ${isPublic ? '#7c3aed' : '#ede9fe'}`,\n              borderRadius: '12px',\n              padding: '16px 20px',\n              fontWeight: '600',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease',\n              minWidth: '160px',\n              justifyContent: 'center'\n            },\n            onClick: () => setIsPublic(true),\n            children: [/*#__PURE__*/_jsxDEV(Eye, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 851,\n              columnNumber: 15\n            }, this), \"Public\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 833,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              background: !isPublic ? '#7c3aed' : '#fff',\n              color: !isPublic ? '#fff' : '#1e293b',\n              border: `2px solid ${!isPublic ? '#7c3aed' : '#ede9fe'}`,\n              borderRadius: '12px',\n              padding: '16px 20px',\n              fontWeight: '600',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease',\n              minWidth: '160px',\n              justifyContent: 'center'\n            },\n            onClick: () => setIsPublic(false),\n            children: [/*#__PURE__*/_jsxDEV(EyeOff, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 872,\n              columnNumber: 15\n            }, this), \"Anonymous\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 826,\n          columnNumber: 11\n        }, this), isPublic && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '24px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            placeholder: \"Email (optional, for receipt)\",\n            style: {\n              width: '100%',\n              padding: '12px 16px',\n              border: '2px solid #e2e8f0',\n              borderRadius: '12px',\n              fontSize: '1rem',\n              transition: 'border-color 0.2s ease'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 881,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 878,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#94a3b8',\n            marginBottom: '24px',\n            fontSize: '0.875rem'\n          },\n          children: \"Your personal information is protected. Only your message and donation amount will be shared.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 898,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#fee2e2',\n            color: '#b91c1c',\n            border: '1px solid #fecaca',\n            borderRadius: '12px',\n            padding: '16px',\n            marginBottom: '16px',\n            fontWeight: '500'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 907,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            display: 'inline-flex',\n            alignItems: 'center',\n            gap: '8px',\n            background: 'linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)',\n            color: '#ffffff',\n            border: 'none',\n            borderRadius: '12px',\n            padding: '12px 24px',\n            fontWeight: '600',\n            cursor: 'pointer',\n            transition: 'all 0.2s ease',\n            opacity: submitting ? 0.5 : 1,\n            pointerEvents: submitting ? 'none' : 'auto'\n          },\n          onClick: handleSubmit,\n          disabled: submitting,\n          children: [submitting ? 'Processing...' : 'Send my words and support', /*#__PURE__*/_jsxDEV(Send, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 940,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 920,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 723,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 715,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Step 4: Payment method selection\n  if (step === 4) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '24px 16px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: '600px',\n          width: '100%',\n          background: '#ffffff',\n          borderRadius: '20px',\n          padding: '40px',\n          boxShadow: '0 8px 32px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '32px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              background: 'transparent',\n              border: 'none',\n              color: '#64748b',\n              fontWeight: '600',\n              cursor: 'pointer',\n              padding: '8px 12px',\n              borderRadius: '8px',\n              transition: 'all 0.2s ease'\n            },\n            onClick: () => setStep(3),\n            children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 988,\n              columnNumber: 15\n            }, this), \"Back\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 972,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.875rem',\n              color: '#64748b',\n              fontWeight: '500'\n            },\n            children: \"Step 4 of 4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 991,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 966,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: '1.75rem',\n            color: '#1e293b',\n            marginBottom: '24px',\n            fontWeight: '700'\n          },\n          children: \"Choose payment method\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1000,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#64748b',\n            marginBottom: '24px',\n            fontSize: '0.9rem'\n          },\n          children: \"Select how you'd like to complete your donation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1008,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '12px',\n            marginBottom: '24px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              background: '#7c3aed',\n              color: '#fff',\n              border: '2px solid #7c3aed',\n              borderRadius: '12px',\n              padding: '12px 20px',\n              fontWeight: '600',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease',\n              fontSize: '0.875rem',\n              opacity: xamanState.phase === 'creating' ? 0.5 : 1,\n              pointerEvents: xamanState.phase === 'creating' ? 'none' : 'auto'\n            },\n            onClick: startRlusdXamanFromWhisper,\n            disabled: xamanState.phase === 'creating',\n            children: xamanState.phase === 'creating' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '16px',\n                  height: '16px',\n                  border: '2px solid transparent',\n                  borderTop: '2px solid currentColor',\n                  borderRadius: '50%',\n                  animation: 'spin 1s linear infinite'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1044,\n                columnNumber: 19\n              }, this), \"Creating...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Heart, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1056,\n                columnNumber: 19\n              }, this), \"RLUSD (XAMAN)\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1022,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              background: 'transparent',\n              border: '2px solid #7c3aed',\n              color: '#7c3aed',\n              borderRadius: '12px',\n              padding: '12px 20px',\n              fontWeight: '600',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease',\n              fontSize: '0.875rem',\n              opacity: crossmarkBusy ? 0.5 : 1,\n              pointerEvents: crossmarkBusy ? 'none' : 'auto'\n            },\n            onClick: startRlusdCrossmarkFromWhisper,\n            disabled: crossmarkBusy,\n            children: crossmarkBusy ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '16px',\n                  height: '16px',\n                  border: '2px solid transparent',\n                  borderTop: '2px solid currentColor',\n                  borderRadius: '50%',\n                  animation: 'spin 1s linear infinite'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1084,\n                columnNumber: 19\n              }, this), \"Opening\\u2026\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Heart, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1096,\n                columnNumber: 19\n              }, this), \"RLUSD (CROSSMARK)\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1062,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              background: 'transparent',\n              border: '2px solid #7c3aed',\n              color: '#7c3aed',\n              borderRadius: '12px',\n              padding: '12px 20px',\n              fontWeight: '600',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease',\n              fontSize: '0.875rem',\n              opacity: fiatState.phase === 'processing' ? 0.5 : 1,\n              pointerEvents: fiatState.phase === 'processing' ? 'none' : 'auto'\n            },\n            onClick: startFiatTransaction,\n            disabled: fiatState.phase === 'processing',\n            children: fiatState.phase === 'processing' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '16px',\n                  height: '16px',\n                  border: '2px solid transparent',\n                  borderTop: '2px solid currentColor',\n                  borderRadius: '50%',\n                  animation: 'spin 1s linear infinite'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1124,\n                columnNumber: 19\n              }, this), \"Processing\\u2026\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1136,\n                columnNumber: 19\n              }, this), \"Fiat Payment (USD)\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1016,\n          columnNumber: 11\n        }, this), crossmarkError && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#fee2e2',\n            color: '#b91c1c',\n            border: '1px solid #fecaca',\n            borderRadius: '12px',\n            padding: '16px',\n            marginBottom: '16px',\n            fontWeight: '500'\n          },\n          children: crossmarkError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1144,\n          columnNumber: 13\n        }, this), fiatState.phase === 'error' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#fee2e2',\n            color: '#b91c1c',\n            border: '1px solid #fecaca',\n            borderRadius: '12px',\n            padding: '16px',\n            marginBottom: '16px',\n            fontWeight: '500'\n          },\n          children: fiatState.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1157,\n          columnNumber: 13\n        }, this), xamanState.phase === 'error' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#fee2e2',\n            color: '#b91c1c',\n            border: '1px solid #fecaca',\n            borderRadius: '12px',\n            padding: '16px',\n            marginBottom: '16px',\n            fontWeight: '500'\n          },\n          children: xamanState.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1170,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 958,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 950,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Step 5: Confirmation\n  if (step === 5) {\n    return /*#__PURE__*/_jsxDEV(DonationConfirmation, {\n      message: message,\n      amount: amount === 'other' ? Number(otherAmount) : Number(amount),\n      transactionHash: xamanState.phase === 'completed' ? xamanState.txid : fiatState.phase === 'completed' ? fiatState.txid : undefined,\n      transactionUrl: transactionUrl || undefined,\n      isPublic: isPublic,\n      onReturnHome: () => window.location.href = '/'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1190,\n      columnNumber: 7\n    }, this);\n  }\n  return null;\n};\n_s(WhisperFlow, \"FaPSXcN6YkatmZGVq4ukE5VyywI=\", false, function () {\n  return [useNavigate];\n});\n_c = WhisperFlow;\nexport default WhisperFlow;\nvar _c;\n$RefreshReg$(_c, \"WhisperFlow\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","Heart","Mic","ArrowLeft","ArrowRight","Eye","EyeOff","Send","CreditCard","xamanCreatePayment","checkUserPaymentStatus","isCrossmarkAvailable","connectCrossmark","signRlusdPaymentWithCrossmark","DonationConfirmation","jsxDEV","_jsxDEV","Fragment","_Fragment","QUOTES","WhisperFlow","_s","step","setStep","message","setMessage","amount","setAmount","otherAmount","setOtherAmount","isPublic","setIsPublic","email","setEmail","listening","setListening","submitting","setSubmitting","error","setError","quoteIdx","setQuoteIdx","showConfetti","setShowConfetti","transactionUrl","setTransactionUrl","xamanState","setXamanState","phase","fiatState","setFiatState","crossmarkBusy","setCrossmarkBusy","crossmarkError","setCrossmarkError","countdown","setCountdown","xamanPollRef","recognitionRef","navigate","MEDA_ADDRESS","RLUSD_ISSUER","interval","setInterval","prev","length","clearInterval","window","current","webkitSpeechRecognition","continuous","interimResults","lang","onstart","onresult","event","transcript","results","onerror","onend","startListening","start","stopListening","stop","handleSubmit","finalAmount","Number","startRlusdXamanFromWhisper","response","destination","charity","cause_id","asset","issuer","success","payloadId","qrCode","countdownInterval","txid","Date","now","toString","slice","setTimeout","status","completed","console","startRlusdCrossmarkFromWhisper","Error","result","causeId","ok","explorer","startFiatTransaction","Promise","resolve","style","minHeight","background","display","alignItems","justifyContent","padding","position","overflow","children","top","left","right","bottom","pointerEvents","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","textAlign","zIndex","borderRadius","boxShadow","marginBottom","fontSize","fontWeight","color","lineHeight","margin","gap","border","cursor","transition","onClick","onMouseEnter","e","currentTarget","transform","onMouseLeave","size","width","value","onChange","target","placeholder","outline","resize","rows","maxLength","marginTop","disabled","opacity","trim","gridTemplateColumns","map","amt","type","min","flex","fontStyle","borderLeft","paddingTop","borderTop","flexWrap","minWidth","flexDirection","height","animation","transactionHash","undefined","onReturnHome","location","href","_c","$RefreshReg$"],"sources":["C:/Users/Alex Salsali/Desktop/Eunoia-Atlas-POC/frontend/src/components/WhisperFlow.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Heart, MessageSquare, Mic, ArrowLeft, ArrowRight, CheckCircle2, Eye, EyeOff, Sparkles, Star, Zap, Globe, Shield, Users, Gift, Send, CreditCard } from 'lucide-react';\nimport { xamanCreatePayment } from '../services/api';\nimport { checkUserPaymentStatus } from '../services/userWalletService';\nimport { isCrossmarkAvailable, connectCrossmark, signRlusdPaymentWithCrossmark } from '../services/crossmarkService';\nimport QRModal from './common/QRModal';\nimport DonationConfirmation from './DonationConfirmation';\nimport './WhisperFlow.css';\n\nconst QUOTES = [\n  '\"Sometimes a few words can carry a lifetime.\"',\n  '\"A small gift can change a whole day.\"',\n  '\"Light grows where we speak hope.\"',\n  '\"Your words have power beyond measure.\"',\n  '\"Every whisper of kindness echoes forever.\"',\n];\n\nconst WhisperFlow: React.FC = () => {\n  const [step, setStep] = useState(0);\n  const [message, setMessage] = useState('');\n  const [amount, setAmount] = useState<number | 'other' | ''>('');\n  const [otherAmount, setOtherAmount] = useState('');\n  const [isPublic, setIsPublic] = useState(false);\n  const [email, setEmail] = useState('');\n  const [listening, setListening] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [quoteIdx, setQuoteIdx] = useState(0);\n  const [showConfetti, setShowConfetti] = useState(false);\n  const [transactionUrl, setTransactionUrl] = useState<string | null>(null);\n  \n  const [xamanState, setXamanState] = useState<\n    | { phase: 'idle' }\n    | { phase: 'creating' }\n    | { phase: 'ready'; payloadId: string; qrCode?: string }\n    | { phase: 'completed'; txid?: string }\n    | { phase: 'error'; message: string }\n  >({ phase: 'idle' });\n\n  const [fiatState, setFiatState] = useState<\n    | { phase: 'idle' }\n    | { phase: 'processing' }\n    | { phase: 'completed'; txid?: string }\n    | { phase: 'error'; message: string }\n  >({ phase: 'idle' });\n\n  const [crossmarkBusy, setCrossmarkBusy] = useState(false);\n  const [crossmarkError, setCrossmarkError] = useState<string | null>(null);\n  const [countdown, setCountdown] = useState(0);\n  const xamanPollRef = useRef<number | null>(null);\n  const recognitionRef = useRef<any>(null);\n  const navigate = useNavigate();\n\n  const MEDA_ADDRESS = 'r4jSjD22z6HtEu41eh1JrkD3KAW1PyM1RH';\n  const RLUSD_ISSUER = 'rQhWct2fv4Vc4KRjRgMrxa8xPN9Zx9iLKV';\n\n  // Quote rotation\n  useEffect(() => {\n    if (step === 0) {\n      const interval = setInterval(() => {\n        setQuoteIdx((prev) => (prev + 1) % QUOTES.length);\n      }, 4000);\n      return () => clearInterval(interval);\n    }\n  }, [step]);\n\n  // Voice recognition setup\n  useEffect(() => {\n    if ('webkitSpeechRecognition' in window) {\n      recognitionRef.current = new (window as any).webkitSpeechRecognition();\n      recognitionRef.current.continuous = false;\n      recognitionRef.current.interimResults = false;\n      recognitionRef.current.lang = 'en-US';\n\n      recognitionRef.current.onstart = () => setListening(true);\n      recognitionRef.current.onresult = (event: any) => {\n        const transcript = event.results[0][0].transcript;\n        setMessage(transcript);\n      };\n      recognitionRef.current.onerror = () => setListening(false);\n      recognitionRef.current.onend = () => setListening(false);\n    }\n  }, []);\n\n  const startListening = () => {\n    if (recognitionRef.current) {\n      recognitionRef.current.start();\n    }\n  };\n\n  const stopListening = () => {\n    if (recognitionRef.current) {\n      recognitionRef.current.stop();\n    }\n  };\n\n  const handleSubmit = async () => {\n    if (submitting) return;\n    \n    setSubmitting(true);\n    setError(null);\n    \n    const finalAmount = amount === 'other' ? Number(otherAmount) : Number(amount);\n    \n    if (!finalAmount || finalAmount <= 0) {\n      setError('Please enter a valid amount');\n      setSubmitting(false);\n      return;\n    }\n\n    // Use the demo RLUSD flow (1 RLUSD fixed amount)\n    await startRlusdXamanFromWhisper();\n    setSubmitting(false);\n  };\n\n  const startRlusdXamanFromWhisper = async () => {\n    if (xamanState.phase !== 'idle') return;\n    \n    setXamanState({ phase: 'creating' });\n    \n    try {\n      const response = await xamanCreatePayment({\n        destination: MEDA_ADDRESS,\n        amount: 1, // Fixed 1 RLUSD like the demo\n        charity: 'MEDA',\n        cause_id: 'whisper_rlusd_demo',\n        asset: 'RLUSD',\n        issuer: RLUSD_ISSUER\n      });\n      \n      if (response.success && response.payloadId) {\n        setXamanState({ \n          phase: 'ready', \n          payloadId: response.payloadId,\n          qrCode: response.qrCode\n        });\n        \n        // Auto-show confirmation after 10 seconds for demo purposes\n        setCountdown(10);\n        const countdownInterval = setInterval(() => {\n          setCountdown(prev => {\n            if (prev <= 1) {\n              clearInterval(countdownInterval);\n              if (xamanPollRef.current) clearInterval(xamanPollRef.current);\n              setXamanState({ \n                phase: 'completed', \n                txid: 'demo-tx-' + Date.now().toString().slice(-8)\n              });\n              setTransactionUrl('https://testnet.xrpl.org/transactions/demo-tx-' + Date.now().toString().slice(-8));\n              setShowConfetti(true);\n              setTimeout(() => setShowConfetti(false), 2000);\n              setStep(5);\n              return 0;\n            }\n            return prev - 1;\n          });\n        }, 1000);\n        \n        // Also add a backup timeout in case the interval fails\n        setTimeout(() => {\n          if (xamanPollRef.current) clearInterval(xamanPollRef.current);\n          setXamanState({ \n            phase: 'completed', \n            txid: 'demo-tx-backup-' + Date.now().toString().slice(-8)\n          });\n          setTransactionUrl('https://testnet.xrpl.org/transactions/demo-tx-backup-' + Date.now().toString().slice(-8));\n          setShowConfetti(true);\n          setTimeout(() => setShowConfetti(false), 2000);\n          setStep(5);\n        }, 11000); // 11 seconds as backup\n        \n        // Poll for completion (original logic - kept for real payments)\n        xamanPollRef.current = window.setInterval(async () => {\n          try {\n            const status = await checkUserPaymentStatus(response.payloadId!);\n            if (status.completed) {\n              if (xamanPollRef.current) clearInterval(xamanPollRef.current);\n              setXamanState({ phase: 'completed', txid: status.txid });\n              setTransactionUrl(status.transactionUrl);\n              setShowConfetti(true);\n              setTimeout(() => setShowConfetti(false), 2000);\n              setStep(5);\n            }\n          } catch (error) {\n            console.error('Payment status check failed:', error);\n          }\n        }, 2000);\n      } else {\n        setXamanState({ phase: 'error', message: 'Failed to create payment' });\n      }\n    } catch (error) {\n      console.error('Xaman payment creation failed:', error);\n      setXamanState({ phase: 'error', message: 'Failed to create payment' });\n    }\n  };\n\n  const startRlusdCrossmarkFromWhisper = async () => {\n    if (crossmarkBusy) return;\n    \n    setCrossmarkBusy(true);\n    setCrossmarkError(null);\n    \n    try {\n      if (!isCrossmarkAvailable()) {\n        throw new Error('CROSSMARK extension not found');\n      }\n      \n      await connectCrossmark();\n      const finalAmount = amount === 'other' ? Number(otherAmount) : Number(amount);\n      \n      const result = await signRlusdPaymentWithCrossmark({\n        amount: finalAmount,\n        destination: MEDA_ADDRESS,\n        charity: 'MEDA',\n        causeId: 'whisper',\n        issuer: RLUSD_ISSUER\n      });\n      \n      if (result.ok) {\n        setTransactionUrl(result.explorer || null);\n        setShowConfetti(true);\n        setTimeout(() => setShowConfetti(false), 2000);\n        setStep(5);\n      } else {\n        setCrossmarkError(result.error || 'Payment failed');\n      }\n    } catch (error) {\n      console.error('CROSSMARK payment failed:', error);\n      setCrossmarkError(error instanceof Error ? error.message : 'Payment failed');\n    } finally {\n      setCrossmarkBusy(false);\n    }\n  };\n\n  const startFiatTransaction = async () => {\n    try {\n      setFiatState({ phase: 'processing' });\n      \n      // Simulate fiat transaction processing\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      const txid = 'fiat-tx-' + Date.now().toString().slice(-8);\n      setFiatState({ phase: 'completed', txid });\n      setTransactionUrl(`https://testnet.xrpl.org/transactions/${txid}`);\n      setShowConfetti(true);\n      setTimeout(() => setShowConfetti(false), 2000);\n      setStep(5);\n    } catch (error) {\n      console.error('Fiat transaction error:', error);\n      setFiatState({ phase: 'error', message: 'Fiat transaction failed. Please try again.' });\n    }\n  };\n\n  // Step 0: Landing page with quotes\n  if (step === 0) {\n    return (\n      <div style={{\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '24px 16px',\n        position: 'relative',\n        overflow: 'hidden'\n      }}>\n        {/* Background Pattern */}\n        <div style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'radial-gradient(circle at 20% 80%, rgba(124, 58, 237, 0.03) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(124, 58, 237, 0.03) 0%, transparent 50%)',\n          pointerEvents: 'none'\n        }} />\n        \n        <div style={{\n          maxWidth: '800px',\n          textAlign: 'center',\n          position: 'relative',\n          zIndex: 1\n        }}>\n          <div style={{\n            background: 'rgba(255, 255, 255, 0.95)',\n            padding: '40px',\n            borderRadius: '24px',\n            boxShadow: '0 12px 40px rgba(0,0,0,0.15)',\n            marginBottom: '32px'\n          }}>\n            <h1 style={{\n              fontSize: '2.5rem',\n              fontWeight: '700',\n              color: '#1e293b',\n              marginBottom: '16px',\n              lineHeight: '1.3'\n            }}>\n              {QUOTES[quoteIdx]}\n            </h1>\n            <p style={{\n              fontSize: '1.2rem',\n              color: '#64748b',\n              margin: 0\n            }}>\n              Share your story and make a difference\n            </p>\n          </div>\n          \n          <button \n            style={{\n              display: 'inline-flex',\n              alignItems: 'center',\n              gap: '12px',\n              background: 'linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)',\n              color: '#ffffff',\n              border: 'none',\n              borderRadius: '16px',\n              padding: '16px 32px',\n              fontWeight: '600',\n              fontSize: '1.125rem',\n              cursor: 'pointer',\n              transition: 'all 0.3s ease',\n              boxShadow: '0 8px 24px rgba(124, 58, 237, 0.3)'\n            }}\n            onClick={() => setStep(1)}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.transform = 'translateY(-2px)';\n              e.currentTarget.style.boxShadow = '0 12px 32px rgba(124, 58, 237, 0.4)';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.transform = 'translateY(0)';\n              e.currentTarget.style.boxShadow = '0 8px 24px rgba(124, 58, 237, 0.3)';\n            }}\n          >\n            <Send size={20} />\n            Whisper a Message\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Step 1: Message input\n  if (step === 1) {\n    return (\n      <div style={{\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '24px 16px'\n      }}>\n        <div style={{\n          maxWidth: '600px',\n          width: '100%',\n          background: '#ffffff',\n          borderRadius: '20px',\n          padding: '40px',\n          boxShadow: '0 8px 32px rgba(0,0,0,0.1)'\n        }}>\n          <div style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '32px'\n          }}>\n            <button \n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                background: 'transparent',\n                border: 'none',\n                color: '#64748b',\n                fontWeight: '600',\n                cursor: 'pointer',\n                padding: '8px 12px',\n                borderRadius: '8px',\n                transition: 'all 0.2s ease'\n              }}\n              onClick={() => setStep(0)}\n            >\n              <ArrowLeft size={20} />\n              Back\n            </button>\n            <div style={{\n              fontSize: '0.875rem',\n              color: '#64748b',\n              fontWeight: '500'\n            }}>\n              Step 1 of 4\n            </div>\n          </div>\n          \n          <h2 style={{\n            fontSize: '1.75rem',\n            color: '#1e293b',\n            marginBottom: '24px',\n            fontWeight: '700'\n          }}>\n            What's your story?\n          </h2>\n          <p style={{\n            color: '#64748b',\n            marginBottom: '24px',\n            fontSize: '0.9rem'\n          }}>\n            Share a message that will inspire others to give\n          </p>\n          \n          <div style={{\n            background: '#fff',\n            border: '2px solid #e2e8f0',\n            borderRadius: '16px',\n            padding: '24px',\n            marginBottom: '24px'\n          }}>\n            <textarea\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              placeholder=\"Tell us why this cause matters to you...\"\n              style={{\n                width: '100%',\n                minHeight: '120px',\n                background: 'transparent',\n                border: 'none',\n                outline: 'none',\n                color: '#1e293b',\n                fontSize: '1.125rem',\n                resize: 'vertical'\n              }}\n              rows={6}\n              maxLength={500}\n            />\n            <div style={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              marginTop: '16px'\n            }}>\n              <button \n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '6px',\n                  background: listening ? '#7c3aed' : '#ede9fe',\n                  border: '1px solid #7c3aed',\n                  color: listening ? '#fff' : '#7c3aed',\n                  borderRadius: '8px',\n                  padding: '8px 12px',\n                  fontWeight: '600',\n                  fontSize: '0.875rem',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s ease'\n                }}\n                onClick={listening ? stopListening : startListening}\n                disabled={!recognitionRef.current}\n              >\n                <Mic size={16} />\n                {listening ? 'Listening...' : 'Voice'}\n              </button>\n              <div style={{ color: '#64748b', fontSize: '0.9rem' }}>\n                {message.length}/500\n              </div>\n            </div>\n          </div>\n\n          {error && (\n            <div style={{\n              background: '#fee2e2',\n              color: '#b91c1c',\n              border: '1px solid #fecaca',\n              borderRadius: '12px',\n              padding: '16px',\n              marginBottom: '16px',\n              fontWeight: '500'\n            }}>\n              {error}\n            </div>\n          )}\n          \n          <button \n            style={{\n              display: 'inline-flex',\n              alignItems: 'center',\n              gap: '8px',\n              background: 'linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)',\n              color: '#ffffff',\n              border: 'none',\n              borderRadius: '12px',\n              padding: '12px 24px',\n              fontWeight: '600',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease',\n              opacity: !message.trim() ? 0.5 : 1,\n              pointerEvents: !message.trim() ? 'none' : 'auto'\n            }}\n            onClick={() => setStep(2)}\n            disabled={!message.trim()}\n          >\n            Continue\n            <ArrowRight size={16} />\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Step 2: Amount selection\n  if (step === 2) {\n    return (\n      <div style={{\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '24px 16px'\n      }}>\n        <div style={{\n          maxWidth: '600px',\n          width: '100%',\n          background: '#ffffff',\n          borderRadius: '20px',\n          padding: '40px',\n          boxShadow: '0 8px 32px rgba(0,0,0,0.1)'\n        }}>\n          <div style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '32px'\n          }}>\n            <button \n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                background: 'transparent',\n                border: 'none',\n                color: '#64748b',\n                fontWeight: '600',\n                cursor: 'pointer',\n                padding: '8px 12px',\n                borderRadius: '8px',\n                transition: 'all 0.2s ease'\n              }}\n              onClick={() => setStep(1)}\n            >\n              <ArrowLeft size={20} />\n              Back\n            </button>\n            <div style={{\n              fontSize: '0.875rem',\n              color: '#64748b',\n              fontWeight: '500'\n            }}>\n              Step 2 of 4\n            </div>\n          </div>\n          \n          <h2 style={{\n            fontSize: '1.75rem',\n            color: '#1e293b',\n            marginBottom: '24px',\n            fontWeight: '700'\n          }}>\n            Choose your amount\n          </h2>\n          <p style={{\n            color: '#64748b',\n            marginBottom: '24px',\n            fontSize: '0.9rem'\n          }}>\n            Select how much you'd like to donate\n          </p>\n          \n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(3, 1fr)',\n            gap: '12px',\n            marginBottom: '24px'\n          }}>\n            {[5, 10, 25, 50, 100].map((amt) => (\n              <button\n                key={amt}\n                style={{\n                  background: amount === amt ? '#7c3aed' : '#fff',\n                  color: amount === amt ? '#fff' : '#1e293b',\n                  border: `2px solid ${amount === amt ? '#7c3aed' : '#ede9fe'}`,\n                  borderRadius: '12px',\n                  padding: '16px 12px',\n                  fontWeight: '600',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s ease',\n                  boxShadow: amount === amt ? '0 4px 12px rgba(124, 58, 237, 0.3)' : '0 2px 8px rgba(0,0,0,0.05)'\n                }}\n                onClick={() => setAmount(amt)}\n              >\n                ${amt}\n              </button>\n            ))}\n            <button\n              style={{\n                background: amount === 'other' ? '#7c3aed' : '#fff',\n                color: amount === 'other' ? '#fff' : '#1e293b',\n                border: `2px solid ${amount === 'other' ? '#7c3aed' : '#ede9fe'}`,\n                borderRadius: '12px',\n                padding: '16px 12px',\n                fontWeight: '600',\n                cursor: 'pointer',\n                transition: 'all 0.2s ease',\n                boxShadow: amount === 'other' ? '0 4px 12px rgba(124, 58, 237, 0.3)' : '0 2px 8px rgba(0,0,0,0.05)'\n              }}\n              onClick={() => setAmount('other')}\n            >\n              Other\n            </button>\n          </div>\n\n          {amount === 'other' && (\n            <div style={{\n              display: 'flex',\n              gap: '12px',\n              alignItems: 'center',\n              marginBottom: '24px'\n            }}>\n              <input\n                type=\"number\"\n                value={otherAmount}\n                onChange={(e) => setOtherAmount(e.target.value)}\n                placeholder=\"Enter amount\"\n                min=\"0.01\"\n                step=\"0.01\"\n                style={{\n                  flex: 1,\n                  padding: '12px 16px',\n                  border: '2px solid #e2e8f0',\n                  borderRadius: '12px',\n                  fontSize: '1rem',\n                  transition: 'border-color 0.2s ease'\n                }}\n              />\n              <button\n                style={{\n                  background: '#7c3aed',\n                  color: '#fff',\n                  border: 'none',\n                  borderRadius: '12px',\n                  padding: '12px 20px',\n                  fontWeight: '600',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s ease',\n                  opacity: (!otherAmount || Number(otherAmount) <= 0) ? 0.5 : 1,\n                  pointerEvents: (!otherAmount || Number(otherAmount) <= 0) ? 'none' : 'auto'\n                }}\n                onClick={() => {\n                  if (otherAmount && Number(otherAmount) > 0) {\n                    setAmount(Number(otherAmount));\n                  }\n                }}\n                disabled={!otherAmount || Number(otherAmount) <= 0}\n              >\n                Apply\n              </button>\n            </div>\n          )}\n\n          {error && (\n            <div style={{\n              background: '#fee2e2',\n              color: '#b91c1c',\n              border: '1px solid #fecaca',\n              borderRadius: '12px',\n              padding: '16px',\n              marginBottom: '16px',\n              fontWeight: '500'\n            }}>\n              {error}\n            </div>\n          )}\n          \n          <button \n            style={{\n              display: 'inline-flex',\n              alignItems: 'center',\n              gap: '8px',\n              background: 'linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)',\n              color: '#ffffff',\n              border: 'none',\n              borderRadius: '12px',\n              padding: '12px 24px',\n              fontWeight: '600',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease',\n              opacity: (!amount && !otherAmount) ? 0.5 : 1,\n              pointerEvents: (!amount && !otherAmount) ? 'none' : 'auto'\n            }}\n            onClick={() => setStep(3)}\n            disabled={!amount && !otherAmount}\n          >\n            Continue\n            <ArrowRight size={16} />\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Step 3: Review and visibility\n  if (step === 3) {\n    return (\n      <div style={{\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '24px 16px'\n      }}>\n        <div style={{\n          maxWidth: '600px',\n          width: '100%',\n          background: '#ffffff',\n          borderRadius: '20px',\n          padding: '40px',\n          boxShadow: '0 8px 32px rgba(0,0,0,0.1)'\n        }}>\n          <div style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '32px'\n          }}>\n            <button \n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                background: 'transparent',\n                border: 'none',\n                color: '#64748b',\n                fontWeight: '600',\n                cursor: 'pointer',\n                padding: '8px 12px',\n                borderRadius: '8px',\n                transition: 'all 0.2s ease'\n              }}\n              onClick={() => setStep(2)}\n            >\n              <ArrowLeft size={20} />\n              Back\n            </button>\n            <div style={{\n              fontSize: '0.875rem',\n              color: '#64748b',\n              fontWeight: '500'\n            }}>\n              Step 3 of 4\n            </div>\n          </div>\n          \n          <h2 style={{\n            fontSize: '1.75rem',\n            color: '#1e293b',\n            marginBottom: '24px',\n            fontWeight: '700'\n          }}>\n            Review your donation\n          </h2>\n          <p style={{\n            color: '#64748b',\n            marginBottom: '24px',\n            fontSize: '0.9rem'\n          }}>\n            Make sure everything looks right before you give\n          </p>\n          \n          <div style={{\n            background: 'linear-gradient(135deg, #fff 0%, #f8fafc 100%)',\n            borderRadius: '20px',\n            padding: '32px',\n            marginBottom: '24px',\n            border: '1px solid #e2e8f0'\n          }}>\n            <h3 style={{\n              fontSize: '1.25rem',\n              fontWeight: '700',\n              color: '#1e293b',\n              marginBottom: '16px'\n            }}>\n              Your Whisper\n            </h3>\n            <div style={{\n              fontSize: '1.125rem',\n              color: '#64748b',\n              fontStyle: 'italic',\n              margin: '16px 0',\n              padding: '16px',\n              background: '#ede9fe',\n              borderRadius: '12px',\n              borderLeft: '4px solid #7c3aed'\n            }}>\n              \"{message}\"\n            </div>\n            <div style={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              marginTop: '20px',\n              paddingTop: '20px',\n              borderTop: '1px solid #e2e8f0'\n            }}>\n              <div>\n                <div style={{ fontSize: '0.875rem', color: '#64748b', fontWeight: '500' }}>\n                  Amount\n                </div>\n                <div style={{ fontSize: '1.25rem', fontWeight: '700', color: '#7c3aed' }}>\n                  ${amount === 'other' ? otherAmount : amount}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div style={{\n            display: 'flex',\n            gap: '12px',\n            justifyContent: 'center',\n            marginBottom: '24px',\n            flexWrap: 'wrap'\n          }}>\n            <button\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                background: isPublic ? '#7c3aed' : '#fff',\n                color: isPublic ? '#fff' : '#1e293b',\n                border: `2px solid ${isPublic ? '#7c3aed' : '#ede9fe'}`,\n                borderRadius: '12px',\n                padding: '16px 20px',\n                fontWeight: '600',\n                cursor: 'pointer',\n                transition: 'all 0.2s ease',\n                minWidth: '160px',\n                justifyContent: 'center'\n              }}\n              onClick={() => setIsPublic(true)}\n            >\n              <Eye size={16} />\n              Public\n            </button>\n            <button\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                background: !isPublic ? '#7c3aed' : '#fff',\n                color: !isPublic ? '#fff' : '#1e293b',\n                border: `2px solid ${!isPublic ? '#7c3aed' : '#ede9fe'}`,\n                borderRadius: '12px',\n                padding: '16px 20px',\n                fontWeight: '600',\n                cursor: 'pointer',\n                transition: 'all 0.2s ease',\n                minWidth: '160px',\n                justifyContent: 'center'\n              }}\n              onClick={() => setIsPublic(false)}\n            >\n              <EyeOff size={16} />\n              Anonymous\n            </button>\n          </div>\n\n          {isPublic && (\n            <div style={{\n              marginBottom: '24px'\n            }}>\n              <input\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder=\"Email (optional, for receipt)\"\n                style={{\n                  width: '100%',\n                  padding: '12px 16px',\n                  border: '2px solid #e2e8f0',\n                  borderRadius: '12px',\n                  fontSize: '1rem',\n                  transition: 'border-color 0.2s ease'\n                }}\n              />\n            </div>\n          )}\n\n          <p style={{\n            color: '#94a3b8',\n            marginBottom: '24px',\n            fontSize: '0.875rem'\n          }}>\n            Your personal information is protected. Only your message and donation amount will be shared.\n          </p>\n\n          {error && (\n            <div style={{\n              background: '#fee2e2',\n              color: '#b91c1c',\n              border: '1px solid #fecaca',\n              borderRadius: '12px',\n              padding: '16px',\n              marginBottom: '16px',\n              fontWeight: '500'\n            }}>\n              {error}\n            </div>\n          )}\n          \n          <button \n            style={{\n              display: 'inline-flex',\n              alignItems: 'center',\n              gap: '8px',\n              background: 'linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)',\n              color: '#ffffff',\n              border: 'none',\n              borderRadius: '12px',\n              padding: '12px 24px',\n              fontWeight: '600',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease',\n              opacity: submitting ? 0.5 : 1,\n              pointerEvents: submitting ? 'none' : 'auto'\n            }}\n            onClick={handleSubmit}\n            disabled={submitting}\n          >\n            {submitting ? 'Processing...' : 'Send my words and support'}\n            <Send size={16} />\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Step 4: Payment method selection\n  if (step === 4) {\n    return (\n      <div style={{\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '24px 16px'\n      }}>\n        <div style={{\n          maxWidth: '600px',\n          width: '100%',\n          background: '#ffffff',\n          borderRadius: '20px',\n          padding: '40px',\n          boxShadow: '0 8px 32px rgba(0,0,0,0.1)'\n        }}>\n          <div style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '32px'\n          }}>\n            <button \n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                background: 'transparent',\n                border: 'none',\n                color: '#64748b',\n                fontWeight: '600',\n                cursor: 'pointer',\n                padding: '8px 12px',\n                borderRadius: '8px',\n                transition: 'all 0.2s ease'\n              }}\n              onClick={() => setStep(3)}\n            >\n              <ArrowLeft size={20} />\n              Back\n            </button>\n            <div style={{\n              fontSize: '0.875rem',\n              color: '#64748b',\n              fontWeight: '500'\n            }}>\n              Step 4 of 4\n            </div>\n          </div>\n          \n          <h2 style={{\n            fontSize: '1.75rem',\n            color: '#1e293b',\n            marginBottom: '24px',\n            fontWeight: '700'\n          }}>\n            Choose payment method\n          </h2>\n          <p style={{\n            color: '#64748b',\n            marginBottom: '24px',\n            fontSize: '0.9rem'\n          }}>\n            Select how you'd like to complete your donation\n          </p>\n          \n          <div style={{\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '12px',\n            marginBottom: '24px'\n          }}>\n            <button \n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                background: '#7c3aed',\n                color: '#fff',\n                border: '2px solid #7c3aed',\n                borderRadius: '12px',\n                padding: '12px 20px',\n                fontWeight: '600',\n                cursor: 'pointer',\n                transition: 'all 0.2s ease',\n                fontSize: '0.875rem',\n                opacity: xamanState.phase === 'creating' ? 0.5 : 1,\n                pointerEvents: xamanState.phase === 'creating' ? 'none' : 'auto'\n              }}\n              onClick={startRlusdXamanFromWhisper}\n              disabled={xamanState.phase === 'creating'}\n            >\n              {xamanState.phase === 'creating' ? (\n                <>\n                  <div style={{\n                    width: '16px',\n                    height: '16px',\n                    border: '2px solid transparent',\n                    borderTop: '2px solid currentColor',\n                    borderRadius: '50%',\n                    animation: 'spin 1s linear infinite'\n                  }} />\n                  Creating...\n                </>\n              ) : (\n                <>\n                  <Heart size={16} />\n                  RLUSD (XAMAN)\n                </>\n              )}\n            </button>\n            \n            <button \n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                background: 'transparent',\n                border: '2px solid #7c3aed',\n                color: '#7c3aed',\n                borderRadius: '12px',\n                padding: '12px 20px',\n                fontWeight: '600',\n                cursor: 'pointer',\n                transition: 'all 0.2s ease',\n                fontSize: '0.875rem',\n                opacity: crossmarkBusy ? 0.5 : 1,\n                pointerEvents: crossmarkBusy ? 'none' : 'auto'\n              }}\n              onClick={startRlusdCrossmarkFromWhisper} \n              disabled={crossmarkBusy}\n            >\n              {crossmarkBusy ? (\n                <>\n                  <div style={{\n                    width: '16px',\n                    height: '16px',\n                    border: '2px solid transparent',\n                    borderTop: '2px solid currentColor',\n                    borderRadius: '50%',\n                    animation: 'spin 1s linear infinite'\n                  }} />\n                  Opening\n                </>\n              ) : (\n                <>\n                  <Heart size={16} />\n                  RLUSD (CROSSMARK)\n                </>\n              )}\n            </button>\n\n            <button \n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                background: 'transparent',\n                border: '2px solid #7c3aed',\n                color: '#7c3aed',\n                borderRadius: '12px',\n                padding: '12px 20px',\n                fontWeight: '600',\n                cursor: 'pointer',\n                transition: 'all 0.2s ease',\n                fontSize: '0.875rem',\n                opacity: fiatState.phase === 'processing' ? 0.5 : 1,\n                pointerEvents: fiatState.phase === 'processing' ? 'none' : 'auto'\n              }}\n              onClick={startFiatTransaction}\n              disabled={fiatState.phase === 'processing'}\n            >\n              {fiatState.phase === 'processing' ? (\n                <>\n                  <div style={{\n                    width: '16px',\n                    height: '16px',\n                    border: '2px solid transparent',\n                    borderTop: '2px solid currentColor',\n                    borderRadius: '50%',\n                    animation: 'spin 1s linear infinite'\n                  }} />\n                  Processing\n                </>\n              ) : (\n                <>\n                  <CreditCard size={16} />\n                  Fiat Payment (USD)\n                </>\n              )}\n            </button>\n          </div>\n          \n          {crossmarkError && (\n            <div style={{\n              background: '#fee2e2',\n              color: '#b91c1c',\n              border: '1px solid #fecaca',\n              borderRadius: '12px',\n              padding: '16px',\n              marginBottom: '16px',\n              fontWeight: '500'\n            }}>\n              {crossmarkError}\n            </div>\n          )}\n          {fiatState.phase === 'error' && (\n            <div style={{\n              background: '#fee2e2',\n              color: '#b91c1c',\n              border: '1px solid #fecaca',\n              borderRadius: '12px',\n              padding: '16px',\n              marginBottom: '16px',\n              fontWeight: '500'\n            }}>\n              {fiatState.message}\n            </div>\n          )}\n          {xamanState.phase === 'error' && (\n            <div style={{\n              background: '#fee2e2',\n              color: '#b91c1c',\n              border: '1px solid #fecaca',\n              borderRadius: '12px',\n              padding: '16px',\n              marginBottom: '16px',\n              fontWeight: '500'\n            }}>\n              {xamanState.message}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  // Step 5: Confirmation\n  if (step === 5) {\n    return (\n      <DonationConfirmation\n        message={message}\n        amount={amount === 'other' ? Number(otherAmount) : Number(amount)}\n        transactionHash={xamanState.phase === 'completed' ? xamanState.txid : fiatState.phase === 'completed' ? fiatState.txid : undefined}\n        transactionUrl={transactionUrl || undefined}\n        isPublic={isPublic}\n        onReturnHome={() => window.location.href = '/'}\n      />\n    );\n  }\n\n  return null;\n};\n\nexport default WhisperFlow;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}